(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function dT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},Fl={};var oE;function Q1(){if(oE)return Fl;oE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var lE;function X1(){return lE||(lE=1,Am.exports=Q1()),Am.exports}var g=X1(),Rm={exports:{}},Ae={};var uE;function J1(){if(uE)return Ae;uE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function V(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function Q(j,ne,oe){this.props=j,this.context=ne,this.refs=k,this.updater=oe||K}Q.prototype.isReactComponent={},Q.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},Q.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function te(){}te.prototype=Q.prototype;function se(j,ne,oe){this.props=j,this.context=ne,this.refs=k,this.updater=oe||K}var ge=se.prototype=new te;ge.constructor=se,D(ge,Q.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function be(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(j,ne,oe){var ce=oe.ref;return{$$typeof:i,type:j,key:ne,ref:ce!==void 0?ce:null,props:oe}}function P(j,ne){return C(j.type,ne,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function z(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return ne[oe]})}var x=/\/+/g;function ot(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):ne.toString(36)}function jt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(be,be):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,ne,oe,ce,we){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var Le=!1;if(j===null)Le=!0;else switch(Ne){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(j.$$typeof){case i:case e:Le=!0;break;case T:return Le=j._init,J(Le(j._payload),ne,oe,ce,we)}}if(Le)return we=we(j),Le=ce===""?"."+ot(j,0):ce,Te(we)?(oe="",Le!=null&&(oe=Le.replace(x,"$&/")+"/"),J(we,ne,oe,"",function(Ar){return Ar})):we!=null&&(M(we)&&(we=P(we,oe+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+Le)),ne.push(we)),1;Le=0;var kt=ce===""?".":ce+":";if(Te(j))for(var lt=0;lt<j.length;lt++)ce=j[lt],Ne=kt+ot(ce,lt),Le+=J(ce,ne,oe,Ne,we);else if(lt=V(j),typeof lt=="function")for(j=lt.call(j),lt=0;!(ce=j.next()).done;)ce=ce.value,Ne=kt+ot(ce,lt++),Le+=J(ce,ne,oe,Ne,we);else if(Ne==="object"){if(typeof j.then=="function")return J(jt(j),ne,oe,ce,we);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(j,ne,oe){if(j==null)return j;var ce=[],we=0;return J(j,ce,"","",function(Ne){return ne.call(oe,Ne,we++)}),ce}function ye(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var Be=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ke={map:ae,forEach:function(j,ne,oe){ae(j,function(){ne.apply(this,arguments)},oe)},count:function(j){var ne=0;return ae(j,function(){ne++}),ne},toArray:function(j){return ae(j,function(ne){return ne})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ae.Activity=w,Ae.Children=Ke,Ae.Component=Q,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=se,Ae.StrictMode=r,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},Ae.cache=function(j){return function(){return j.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(j,ne,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ce=D({},j.props),we=j.key;if(ne!=null)for(Ne in ne.key!==void 0&&(we=""+ne.key),ne)!R.call(ne,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ne.ref===void 0||(ce[Ne]=ne[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=oe;else if(1<Ne){for(var Le=Array(Ne),kt=0;kt<Ne;kt++)Le[kt]=arguments[kt+2];ce.children=Le}return C(j.type,we,ce)},Ae.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Ae.createElement=function(j,ne,oe){var ce,we={},Ne=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ne=""+ne.key),ne)R.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ne[ce]);var Le=arguments.length-2;if(Le===1)we.children=oe;else if(1<Le){for(var kt=Array(Le),lt=0;lt<Le;lt++)kt[lt]=arguments[lt+2];we.children=kt}if(j&&j.defaultProps)for(ce in Le=j.defaultProps,Le)we[ce]===void 0&&(we[ce]=Le[ce]);return C(j,Ne,we)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:m,render:j}},Ae.isValidElement=M,Ae.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:ye}},Ae.memo=function(j,ne){return{$$typeof:p,type:j,compare:ne===void 0?null:ne}},Ae.startTransition=function(j){var ne=I.T,oe={};I.T=oe;try{var ce=j(),we=I.S;we!==null&&we(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(be,Be)}catch(Ne){Be(Ne)}finally{ne!==null&&oe.types!==null&&(ne.types=oe.types),I.T=ne}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(j){return I.H.use(j)},Ae.useActionState=function(j,ne,oe){return I.H.useActionState(j,ne,oe)},Ae.useCallback=function(j,ne){return I.H.useCallback(j,ne)},Ae.useContext=function(j){return I.H.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j,ne){return I.H.useDeferredValue(j,ne)},Ae.useEffect=function(j,ne){return I.H.useEffect(j,ne)},Ae.useEffectEvent=function(j){return I.H.useEffectEvent(j)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(j,ne,oe){return I.H.useImperativeHandle(j,ne,oe)},Ae.useInsertionEffect=function(j,ne){return I.H.useInsertionEffect(j,ne)},Ae.useLayoutEffect=function(j,ne){return I.H.useLayoutEffect(j,ne)},Ae.useMemo=function(j,ne){return I.H.useMemo(j,ne)},Ae.useOptimistic=function(j,ne){return I.H.useOptimistic(j,ne)},Ae.useReducer=function(j,ne,oe){return I.H.useReducer(j,ne,oe)},Ae.useRef=function(j){return I.H.useRef(j)},Ae.useState=function(j){return I.H.useState(j)},Ae.useSyncExternalStore=function(j,ne,oe){return I.H.useSyncExternalStore(j,ne,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var cE;function xp(){return cE||(cE=1,Rm.exports=J1()),Rm.exports}var U=xp();const Hl=dT(U);var Cm={exports:{}},$l={},xm={exports:{}},Nm={};var hE;function W1(){return hE||(hE=1,(function(i){function e(J,ae){var ye=J.length;J.push(ae);e:for(;0<ye;){var Be=ye-1>>>1,Ke=J[Be];if(0<o(Ke,ae))J[Be]=ae,J[ye]=Ke,ye=Be;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],ye=J.pop();if(ye!==ae){J[0]=ye;e:for(var Be=0,Ke=J.length,j=Ke>>>1;Be<j;){var ne=2*(Be+1)-1,oe=J[ne],ce=ne+1,we=J[ce];if(0>o(oe,ye))ce<Ke&&0>o(we,oe)?(J[Be]=we,J[ce]=ye,Be=ce):(J[Be]=oe,J[ne]=ye,Be=ne);else if(ce<Ke&&0>o(we,ye))J[Be]=we,J[ce]=ye,Be=ce;else break e}}return ae}function o(J,ae){var ye=J.sortIndex-ae.sortIndex;return ye!==0?ye:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],p=[],T=1,w=null,A=3,V=!1,K=!1,D=!1,k=!1,Q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ge(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=J)r(p),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(p)}}function Te(J){if(D=!1,ge(J),!K)if(n(y)!==null)K=!0,be||(be=!0,z());else{var ae=n(p);ae!==null&&jt(Te,ae.startTime-J)}}var be=!1,I=-1,R=5,C=-1;function P(){return k?!0:!(i.unstable_now()-C<R)}function M(){if(k=!1,be){var J=i.unstable_now();C=J;var ae=!0;try{e:{K=!1,D&&(D=!1,te(I),I=-1),V=!0;var ye=A;try{t:{for(ge(J),w=n(y);w!==null&&!(w.expirationTime>J&&P());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,A=w.priorityLevel;var Ke=Be(w.expirationTime<=J);if(J=i.unstable_now(),typeof Ke=="function"){w.callback=Ke,ge(J),ae=!0;break t}w===n(y)&&r(y),ge(J)}else r(y);w=n(y)}if(w!==null)ae=!0;else{var j=n(p);j!==null&&jt(Te,j.startTime-J),ae=!1}}break e}finally{w=null,A=ye,V=!1}ae=void 0}}finally{ae?z():be=!1}}}var z;if(typeof se=="function")z=function(){se(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=M,z=function(){ot.postMessage(null)}}else z=function(){Q(M,0)};function jt(J,ae){I=Q(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(J){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ye=A;A=ae;try{return J()}finally{A=ye}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=A;A=J;try{return ae()}finally{A=ye}},i.unstable_scheduleCallback=function(J,ae,ye){var Be=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,J){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,J={id:T++,callback:ae,priorityLevel:J,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Be?(J.sortIndex=ye,e(p,J),n(y)===null&&J===n(p)&&(D?(te(I),I=-1):D=!0,jt(Te,ye-Be))):(J.sortIndex=Ke,e(y,J),K||V||(K=!0,be||(be=!0,z()))),J},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(J){var ae=A;return function(){var ye=A;A=ae;try{return J.apply(this,arguments)}finally{A=ye}}}})(Nm)),Nm}var fE;function Z1(){return fE||(fE=1,xm.exports=W1()),xm.exports}var Im={exports:{}},nn={};var dE;function eA(){if(dE)return nn;dE=1;var i=xp();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:p,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,T)},nn.flushSync=function(y){var p=h.T,T=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=p,r.p=T,r.d.f()}},nn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},nn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},nn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,V=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:V}):T==="script"&&r.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:V,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},nn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin);r.d.L(y,T,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},nn.requestFormReset=function(y){r.d.r(y)},nn.unstable_batchedUpdates=function(y,p){return y(p)},nn.useFormState=function(y,p,T){return h.H.useFormState(y,p,T)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var mE;function tA(){if(mE)return Im.exports;mE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=eA(),Im.exports}var pE;function nA(){if(pE)return $l;pE=1;var i=Z1(),e=xp(),n=tA();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return y(f),t;if(d===l)return y(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function T(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=T(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case Q:return"Profiler";case k:return"StrictMode";case Te:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case se:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case ge:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return s=t.displayName||null,s!==null?s:ot(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return ot(t(s))}catch{}}return null}var jt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function j(t){return{current:t}}function ne(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function oe(t,s){Ke++,Be[Ke]=t.current,t.current=s}var ce=j(null),we=j(null),Ne=j(null),Le=j(null);function kt(t,s){switch(oe(Ne,s),oe(we,t),oe(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Iv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Iv(s),t=Dv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ce),oe(ce,t)}function lt(){ne(ce),ne(we),ne(Ne)}function Ar(t){t.memoizedState!==null&&oe(Le,t);var s=ce.current,a=Dv(s,t.type);s!==a&&(oe(we,t),oe(ce,a))}function ya(t){we.current===t&&(ne(ce),ne(we)),Le.current===t&&(ne(Le),Ul._currentValue=ye)}var _a,va;function hi(t){if(_a===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);_a=s&&s[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var Uo=!1;function Rr(t,s){if(!t||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var H=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){H=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var N=v.split(`
`),q=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===q.length)for(l=N.length-1,f=q.length-1;1<=l&&0<=f&&N[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==q[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Lo(t,s){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==s&&s!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return hi("Activity");default:return""}}function zo(t){try{var s="",a=null;do s+=Lo(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Rs=i.unstable_cancelCallback,Cf=i.unstable_shouldYield,Uu=i.unstable_requestPaint,ln=i.unstable_now,Cr=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,Fo=i.unstable_UserBlockingPriority,Cs=i.unstable_NormalPriority,xf=i.unstable_LowPriority,Lu=i.unstable_IdlePriority,zu=i.log,Bu=i.unstable_setDisableYieldValue,Kn=null,Gt=null;function Mn(t){if(typeof zu=="function"&&Bu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Kn,t)}catch{}}var pt=Math.clz32?Math.clz32:$u,Fu=Math.log,Ea=Math.LN2;function $u(t){return t>>>=0,t===0?32:31-(Fu(t)/Ea|0)|0}var fi=256,xr=262144,wt=4194304;function di(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=di(l):(v&=b,v!==0?f=di(v):a||(a=b&~t,a!==0&&(f=di(a))))):(b=l&~d,b!==0?f=di(b):v!==0?f=di(v):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Yn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Nf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function pi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Nr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function If(t,s,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-pt(a),ee=1<<X;b[X]=0,N[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var Y=H[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Ir(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~s))}function Ir(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-pt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function $o(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function qo(t,s){var a=s&-s;return a=(a&42)!==0?1:Dr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:eE(t.type))}function Qn(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var Xn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Xn,Bt="__reactProps$"+Xn,gi="__reactContainer$"+Xn,Ta="__reactEvents$"+Xn,Df="__reactListeners$"+Xn,Gu="__reactHandles$"+Xn,Ku="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function wa(t){delete t[bt],delete t[Bt],delete t[Ta],delete t[Df],delete t[Gu]}function _i(t){var s=t[bt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[gi]||a[bt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Uv(t);t!==null;){if(a=t[bt])return a;t=Uv(t)}return s}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[bt]||t[gi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function En(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function vi(t){var s=t[Ku];return s||(s=t[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(t){t[yi]=!0}var Ho=new Set,Go={};function Ei(t,s){Ti(t,s),Ti(t+"Capture",s)}function Ti(t,s){for(Go[t]=s,t=0;t<s.length;t++)Ho.add(s[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Qo={};function Yu(t){return Tt.call(Qo,t)?!0:Tt.call(Yo,t)?!1:Ko.test(t)?Qo[t]=!0:(Yo[t]=!0,!1)}function ba(t,s,a){if(Yu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Tn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function At(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ye(t){if(!t._valueTracker){var s=xs(t)?"checked":"value";t._valueTracker=Xo(t,s,""+t[s])}}function Or(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function hn(t){return t.replace(Mr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sa(t,s,a,l,f,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ft(s)):t.value!==""+Ft(s)&&(t.value=""+Ft(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Jo(t,v,Ft(s)):a!=null?Jo(t,v,Ft(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ft(b):t.removeAttribute("name")}function Qu(t,s,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Ye(t);return}a=a!=null?""+Ft(a):"",s=s!=null?""+Ft(s):a,b||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Jo(t,s,a){s==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ns(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Xu(t,s,a){if(s!=null&&(s=""+Ft(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ft(a):""}function Is(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(jt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ft(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function fn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Ju.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Zo(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Wo(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Wo(t,d,s[d])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var el=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,bi=null;function Vr(t){var s=Vn(t);if(s&&(t=s.stateNode)){var a=t[Bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Bt]||null;if(!f)throw Error(r(90));Sa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Or(l)}break e;case"textarea":Xu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ns(t,!!a.multiple,s,!1)}}}var Ca=!1;function Ms(t,s,a){if(Ca)return t(s,a);Ca=!0;try{var l=t(s);return l}finally{if(Ca=!1,(Os!==null||bi!==null)&&(Hc(),Os&&(s=Os,t=bi,bi=Os=null,Vr(s),t)))for(s=0;s<t.length;s++)Vr(t[s])}}function Wn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{jr=!1}var Si=null,tl=null,kr=null;function nl(){if(kr)return kr;var t,s=tl,a=s.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return kr=f.slice(t,1<l?1-l:void 0)}function Pr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function Zn(){return!1}function Kt(t){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:Zn,this.isPropagationStopped=Zn,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Kt(Xi),Vs=w({},Xi,{view:0,detail:0}),il=Kt(Vs),js,xa,Ri,Na=w({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(js=t.screenX-Ri.screenX,xa=t.screenY-Ri.screenY):xa=js=0,Ri=t),js)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),sl=Kt(Na),Ur=w({},Na,{dataTransfer:0}),Zu=Kt(Ur),ec=w({},Vs,{relatedTarget:0}),Lr=Kt(ec),rl=w({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=Kt(rl),Ia=w({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nc=Kt(Ia),ic=w({},Xi,{data:0}),Ci=Kt(ic),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ac[t])?!!s[t]:!1}function ks(){return oc}var un=w({},Vs,{key:function(t){if(t.key){var s=sc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lc=Kt(un),uc=w({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Kt(uc),c=w({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),_=Kt(c),E=w({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(E),F=w({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Kt(F),re=w({},Xi,{newState:0,oldState:0}),Ce=Kt(re),gt=[9,13,27,32],qe=kn&&"CompositionEvent"in window,ut=null;kn&&"documentMode"in document&&(ut=document.documentMode);var Pn=kn&&"TextEvent"in window&&!ut,xi=kn&&(!qe||ut&&8<ut&&11>=ut),ei=" ",ti=!1;function zr(t,s){switch(t){case"keyup":return gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function vS(t,s){switch(t){case"compositionend":return Da(s);case"keypress":return s.which!==32?null:(ti=!0,ei);case"textInput":return t=s.data,t===ei&&ti?null:t;default:return null}}function ES(t,s){if(Oa)return t==="compositionend"||!qe&&zr(t,s)?(t=nl(),kr=tl=Si=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xi&&s.locale!=="ko"?null:s.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!TS[t.type]:s==="textarea"}function Fg(t,s,a,l){Os?bi?bi.push(l):bi=[l]:Os=l,s=Wc(s,"onChange"),0<s.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var al=null,ol=null;function wS(t){Sv(t,0)}function cc(t){var s=En(t);if(Or(s))return t}function $g(t,s){if(t==="change")return s}var qg=!1;if(kn){var Of;if(kn){var Mf="oninput"in document;if(!Mf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Mf=typeof Hg.oninput=="function"}Of=Mf}else Of=!1;qg=Of&&(!document.documentMode||9<document.documentMode)}function Gg(){al&&(al.detachEvent("onpropertychange",Kg),ol=al=null)}function Kg(t){if(t.propertyName==="value"&&cc(ol)){var s=[];Fg(s,ol,t,jn(t)),Ms(wS,s)}}function bS(t,s,a){t==="focusin"?(Gg(),al=s,ol=a,al.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function SS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(ol)}function AS(t,s){if(t==="click")return cc(s)}function RS(t,s){if(t==="input"||t==="change")return cc(s)}function CS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var wn=typeof Object.is=="function"?Object.is:CS;function ll(t,s){if(wn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(s,f)||!wn(t[f],s[f]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,s){var a=Yg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yg(a)}}function Xg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Xg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=wi(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=wi(t.document)}return s}function Vf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var xS=kn&&"documentMode"in document&&11>=document.documentMode,Ma=null,jf=null,ul=null,kf=!1;function Wg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Ma==null||Ma!==wi(l)||(l=Ma,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Wc(jf,"onSelect"),0<l.length&&(s=new Ai("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ma)))}function Br(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Va={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},Pf={},Zg={};kn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Fr(t){if(Pf[t])return Pf[t];if(!Va[t])return t;var s=Va[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Zg)return Pf[t]=s[a];return t}var ey=Fr("animationend"),ty=Fr("animationiteration"),ny=Fr("animationstart"),NS=Fr("transitionrun"),IS=Fr("transitionstart"),DS=Fr("transitioncancel"),iy=Fr("transitionend"),sy=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function ni(t,s){sy.set(t,s),Ei(s,[t])}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],ja=0,Lf=0;function fc(){for(var t=ja,s=Lf=ja=0;s<t;){var a=Un[s];Un[s++]=null;var l=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var d=Un[s];if(Un[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&ry(a,f,d)}}function dc(t,s,a,l){Un[ja++]=t,Un[ja++]=s,Un[ja++]=a,Un[ja++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zf(t,s,a,l){return dc(t,s,a,l),mc(t)}function $r(t,s){return dc(t,null,null,s),mc(t)}function ry(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function mc(t){if(50<Dl)throw Dl=0,Qd=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ka={};function OS(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,s,a,l){return new OS(t,s,a,l)}function Bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,s){var a=t.alternate;return a===null?(a=bn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ay(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function pc(t,s,a,l,f,d){var v=0;if(l=t,typeof t=="function")Bf(t)&&(v=1);else if(typeof t=="string")v=P1(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=bn(31,a,s,f),t.elementType=C,t.lanes=d,t;case D:return qr(a.children,f,d,s);case k:v=8,f|=24;break;case Q:return t=bn(12,a,s,f|2),t.elementType=Q,t.lanes=d,t;case Te:return t=bn(13,a,s,f),t.elementType=Te,t.lanes=d,t;case be:return t=bn(19,a,s,f),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:v=10;break e;case te:v=9;break e;case ge:v=11;break e;case I:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=bn(v,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function qr(t,s,a,l){return t=bn(7,t,l,s),t.lanes=a,t}function Ff(t,s,a){return t=bn(6,t,null,s),t.lanes=a,t}function oy(t){var s=bn(18,null,null,0);return s.stateNode=t,s}function $f(t,s,a){return s=bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var ly=new WeakMap;function Ln(t,s){if(typeof t=="object"&&t!==null){var a=ly.get(t);return a!==void 0?a:(s={value:t,source:s,stack:zo(s)},ly.set(t,s),s)}return{value:t,source:s,stack:zo(s)}}var Pa=[],Ua=0,gc=null,cl=0,zn=[],Bn=0,Ps=null,Ni=1,Ii="";function Zi(t,s){Pa[Ua++]=cl,Pa[Ua++]=gc,gc=t,cl=s}function uy(t,s,a){zn[Bn++]=Ni,zn[Bn++]=Ii,zn[Bn++]=Ps,Ps=t;var l=Ni;t=Ii;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ni=1<<32-pt(s)+f|a<<f|l,Ii=d+t}else Ni=1<<d|a<<f|l,Ii=t}function qf(t){t.return!==null&&(Zi(t,1),uy(t,1,0))}function Hf(t){for(;t===gc;)gc=Pa[--Ua],Pa[Ua]=null,cl=Pa[--Ua],Pa[Ua]=null;for(;t===Ps;)Ps=zn[--Bn],zn[Bn]=null,Ii=zn[--Bn],zn[Bn]=null,Ni=zn[--Bn],zn[Bn]=null}function cy(t,s){zn[Bn++]=Ni,zn[Bn++]=Ii,zn[Bn++]=Ps,Ni=s.id,Ii=s.overflow,Ps=t}var Yt=null,it=null,Ue=!1,Us=null,Fn=!1,Gf=Error(r(519));function Ls(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Ln(s,t)),Gf}function hy(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[bt]=t,s[Bt]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Oe(Ml[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Qu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Is(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||xv(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Jn),s=!0):s=!1,s||Ls(t,!0)}function fy(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Yt=Yt.return}}function La(t){if(t!==Yt)return!1;if(!Ue)return fy(t),Ue=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cm(t.type,t.memoizedProps)),a=!a),a&&it&&Ls(t),fy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Pv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Pv(t)}else s===27?(s=it,Zs(t.type)?(t=pm,pm=null,it=t):it=s):it=Yt?qn(t.stateNode.nextSibling):null;return!0}function Hr(){it=Yt=null,Ue=!1}function Kf(){var t=Us;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Us=null),t}function hl(t){Us===null?Us=[t]:Us.push(t)}var Yf=j(null),Gr=null,es=null;function zs(t,s,a){oe(Yf,s._currentValue),s._currentValue=a}function ts(t){t._currentValue=Yf.current,ne(Yf)}function Qf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Xf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<s.length;N++)if(b.context===s[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Qf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function za(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var b=f.type;wn(f.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(f===Le.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}f=f.return}t!==null&&Xf(s,t,a,l),s.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Gr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return dy(Gr,t)}function _c(t,s){return Gr===null&&Kr(t),dy(t,s)}function dy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(t===null)throw Error(r(308));es=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else es=es.next=s;return a}var MS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},VS=i.unstable_scheduleCallback,jS=i.unstable_NormalPriority,Rt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new MS,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&VS(jS,function(){t.controller.abort()})}var dl=null,Wf=0,Ba=0,Fa=null;function kS(t,s){if(dl===null){var a=dl=[];Wf=0,Ba=tm(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,s.then(my,my),s}function my(){if(--Wf===0&&dl!==null){Fa!==null&&(Fa.status="fulfilled");var t=dl;dl=null,Ba=0,Fa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function PS(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var py=J.S;J.S=function(t,s){W_=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&kS(t,s),py!==null&&py(t,s)};var Yr=j(null);function Zf(){var t=Yr.current;return t!==null?t:tt.pooledCache}function vc(t,s){s===null?oe(Yr,Yr.current):oe(Yr,s.pool)}function gy(){var t=Zf();return t===null?null:{parent:Rt._currentValue,pool:t}}var $a=Error(r(460)),ed=Error(r(474)),Ec=Error(r(542)),Tc={then:function(){}};function yy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _y(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Jn,Jn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ey(t),t;default:if(typeof s.status=="string")s.then(Jn,Jn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ey(t),t}throw Xr=s,$a}}function Qr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,$a):a}}var Xr=null;function vy(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function Ey(t){if(t===$a||t===Ec)throw Error(r(483))}var qa=null,ml=0;function wc(t){var s=ml;return ml+=1,qa===null&&(qa=[]),_y(qa,t,s)}function pl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function bc(t,s){throw s.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ty(t){function s(L,O){if(t){var $=L.deletions;$===null?(L.deletions=[O],L.flags|=16):$.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Wi(L,O),L.index=0,L.sibling=null,L}function d(L,O,$){return L.index=$,t?($=L.alternate,$!==null?($=$.index,$<O?(L.flags|=67108866,O):$):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,$,W){return O===null||O.tag!==6?(O=Ff($,L.mode,W),O.return=L,O):(O=f(O,$),O.return=L,O)}function N(L,O,$,W){var me=$.type;return me===D?X(L,O,$.props.children,W,$.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qr(me)===O.type)?(O=f(O,$.props),pl(O,$),O.return=L,O):(O=pc($.type,$.key,$.props,null,L.mode,W),pl(O,$),O.return=L,O)}function q(L,O,$,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==$.containerInfo||O.stateNode.implementation!==$.implementation?(O=$f($,L.mode,W),O.return=L,O):(O=f(O,$.children||[]),O.return=L,O)}function X(L,O,$,W,me){return O===null||O.tag!==7?(O=qr($,L.mode,W,me),O.return=L,O):(O=f(O,$),O.return=L,O)}function ee(L,O,$){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ff(""+O,L.mode,$),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return $=pc(O.type,O.key,O.props,null,L.mode,$),pl($,O),$.return=L,$;case K:return O=$f(O,L.mode,$),O.return=L,O;case R:return O=Qr(O),ee(L,O,$)}if(jt(O)||z(O))return O=qr(O,L.mode,$,null),O.return=L,O;if(typeof O.then=="function")return ee(L,wc(O),$);if(O.$$typeof===se)return ee(L,_c(L,O),$);bc(L,O)}return null}function H(L,O,$,W){var me=O!==null?O.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:b(L,O,""+$,W);if(typeof $=="object"&&$!==null){switch($.$$typeof){case V:return $.key===me?N(L,O,$,W):null;case K:return $.key===me?q(L,O,$,W):null;case R:return $=Qr($),H(L,O,$,W)}if(jt($)||z($))return me!==null?null:X(L,O,$,W,null);if(typeof $.then=="function")return H(L,O,wc($),W);if($.$$typeof===se)return H(L,O,_c(L,$),W);bc(L,$)}return null}function Y(L,O,$,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get($)||null,b(O,L,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return L=L.get(W.key===null?$:W.key)||null,N(O,L,W,me);case K:return L=L.get(W.key===null?$:W.key)||null,q(O,L,W,me);case R:return W=Qr(W),Y(L,O,$,W,me)}if(jt(W)||z(W))return L=L.get($)||null,X(O,L,W,me,null);if(typeof W.then=="function")return Y(L,O,$,wc(W),me);if(W.$$typeof===se)return Y(L,O,$,_c(O,W),me);bc(O,W)}return null}function fe(L,O,$,W){for(var me=null,Fe=null,de=O,Ie=O=0,Ve=null;de!==null&&Ie<$.length;Ie++){de.index>Ie?(Ve=de,de=null):Ve=de.sibling;var $e=H(L,de,$[Ie],W);if($e===null){de===null&&(de=Ve);break}t&&de&&$e.alternate===null&&s(L,de),O=d($e,O,Ie),Fe===null?me=$e:Fe.sibling=$e,Fe=$e,de=Ve}if(Ie===$.length)return a(L,de),Ue&&Zi(L,Ie),me;if(de===null){for(;Ie<$.length;Ie++)de=ee(L,$[Ie],W),de!==null&&(O=d(de,O,Ie),Fe===null?me=de:Fe.sibling=de,Fe=de);return Ue&&Zi(L,Ie),me}for(de=l(de);Ie<$.length;Ie++)Ve=Y(de,L,Ie,$[Ie],W),Ve!==null&&(t&&Ve.alternate!==null&&de.delete(Ve.key===null?Ie:Ve.key),O=d(Ve,O,Ie),Fe===null?me=Ve:Fe.sibling=Ve,Fe=Ve);return t&&de.forEach(function(sr){return s(L,sr)}),Ue&&Zi(L,Ie),me}function _e(L,O,$,W){if($==null)throw Error(r(151));for(var me=null,Fe=null,de=O,Ie=O=0,Ve=null,$e=$.next();de!==null&&!$e.done;Ie++,$e=$.next()){de.index>Ie?(Ve=de,de=null):Ve=de.sibling;var sr=H(L,de,$e.value,W);if(sr===null){de===null&&(de=Ve);break}t&&de&&sr.alternate===null&&s(L,de),O=d(sr,O,Ie),Fe===null?me=sr:Fe.sibling=sr,Fe=sr,de=Ve}if($e.done)return a(L,de),Ue&&Zi(L,Ie),me;if(de===null){for(;!$e.done;Ie++,$e=$.next())$e=ee(L,$e.value,W),$e!==null&&(O=d($e,O,Ie),Fe===null?me=$e:Fe.sibling=$e,Fe=$e);return Ue&&Zi(L,Ie),me}for(de=l(de);!$e.done;Ie++,$e=$.next())$e=Y(de,L,Ie,$e.value,W),$e!==null&&(t&&$e.alternate!==null&&de.delete($e.key===null?Ie:$e.key),O=d($e,O,Ie),Fe===null?me=$e:Fe.sibling=$e,Fe=$e);return t&&de.forEach(function(Y1){return s(L,Y1)}),Ue&&Zi(L,Ie),me}function et(L,O,$,W){if(typeof $=="object"&&$!==null&&$.type===D&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case V:e:{for(var me=$.key;O!==null;){if(O.key===me){if(me=$.type,me===D){if(O.tag===7){a(L,O.sibling),W=f(O,$.props.children),W.return=L,L=W;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qr(me)===O.type){a(L,O.sibling),W=f(O,$.props),pl(W,$),W.return=L,L=W;break e}a(L,O);break}else s(L,O);O=O.sibling}$.type===D?(W=qr($.props.children,L.mode,W,$.key),W.return=L,L=W):(W=pc($.type,$.key,$.props,null,L.mode,W),pl(W,$),W.return=L,L=W)}return v(L);case K:e:{for(me=$.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===$.containerInfo&&O.stateNode.implementation===$.implementation){a(L,O.sibling),W=f(O,$.children||[]),W.return=L,L=W;break e}else{a(L,O);break}else s(L,O);O=O.sibling}W=$f($,L.mode,W),W.return=L,L=W}return v(L);case R:return $=Qr($),et(L,O,$,W)}if(jt($))return fe(L,O,$,W);if(z($)){if(me=z($),typeof me!="function")throw Error(r(150));return $=me.call($),_e(L,O,$,W)}if(typeof $.then=="function")return et(L,O,wc($),W);if($.$$typeof===se)return et(L,O,_c(L,$),W);bc(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,O!==null&&O.tag===6?(a(L,O.sibling),W=f(O,$),W.return=L,L=W):(a(L,O),W=Ff($,L.mode,W),W.return=L,L=W),v(L)):a(L,O)}return function(L,O,$,W){try{ml=0;var me=et(L,O,$,W);return qa=null,me}catch(de){if(de===$a||de===Ec)throw de;var Fe=bn(29,de,null,L.mode);return Fe.lanes=W,Fe.return=L,Fe}}}var Jr=Ty(!0),wy=Ty(!1),Bs=!1;function td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=mc(t),ry(t,null,a),s}return dc(t,l,s,a),mc(t)}function gl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,$o(t,a)}}function id(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var sd=!1;function yl(){if(sd){var t=Fa;if(t!==null)throw t}}function _l(t,s,a,l){sd=!1;var f=t.updateQueue;Bs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,q=N.next;N.next=null,v===null?d=q:v.next=q,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==v&&(b===null?X.firstBaseUpdate=q:b.next=q,X.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;v=0,X=q=N=null,b=d;do{var H=b.lane&-536870913,Y=H!==b.lane;if(Y?(Me&H)===H:(l&H)===H){H!==0&&H===Ba&&(sd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,_e=b;H=s;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(et,ee,H);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,H=typeof fe=="function"?fe.call(et,ee,H):fe,H==null)break e;ee=w({},ee,H);break e;case 2:Bs=!0}}H=b.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(q=X=Y,N=ee):X=X.next=Y,v|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ys|=v,t.lanes=v,t.memoizedState=ee}}function by(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Sy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)by(a[t],s)}var Ha=j(null),Sc=j(0);function Ay(t,s){t=cs,oe(Sc,t),oe(Ha,s),cs=t|s.baseLanes}function rd(){oe(Sc,cs),oe(Ha,Ha.current)}function ad(){cs=Sc.current,ne(Ha),ne(Sc)}var Sn=j(null),$n=null;function qs(t){var s=t.alternate;oe(yt,yt.current&1),oe(Sn,t),$n===null&&(s===null||Ha.current!==null||s.memoizedState!==null)&&($n=t)}function od(t){oe(yt,yt.current),oe(Sn,t),$n===null&&($n=t)}function Ry(t){t.tag===22?(oe(yt,yt.current),oe(Sn,t),$n===null&&($n=t)):Hs()}function Hs(){oe(yt,yt.current),oe(Sn,Sn.current)}function An(t){ne(Sn),$n===t&&($n=null),ne(yt)}var yt=j(0);function Ac(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dm(a)||mm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ns=0,xe=null,We=null,Ct=null,Rc=!1,Ga=!1,Wr=!1,Cc=0,vl=0,Ka=null,US=0;function dt(){throw Error(r(321))}function ld(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!wn(t[a],s[a]))return!1;return!0}function ud(t,s,a,l,f,d){return ns=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=t===null||t.memoizedState===null?u_:Sd,Wr=!1,d=a(l,f),Wr=!1,Ga&&(d=xy(s,a,l,f)),Cy(t),d}function Cy(t){J.H=wl;var s=We!==null&&We.next!==null;if(ns=0,Ct=We=xe=null,Rc=!1,vl=0,Ka=null,s)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&yc(t)&&(xt=!0))}function xy(t,s,a,l){xe=t;var f=0;do{if(Ga&&(Ka=null),vl=0,Ga=!1,25<=f)throw Error(r(301));if(f+=1,Ct=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=c_,d=s(a,l)}while(Ga);return d}function LS(){var t=J.H,s=t.useState()[0];return s=typeof s.then=="function"?El(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),s}function cd(){var t=Cc!==0;return Cc=0,t}function hd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function fd(t){if(Rc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Rc=!1}ns=0,Ct=We=xe=null,Ga=!1,vl=Cc=0,Ka=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=Ct===null?xe.memoizedState:Ct.next;if(s!==null)Ct=s,We=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var s=vl;return vl+=1,Ka===null&&(Ka=[]),t=_y(Ka,t,s),s=xe,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?u_:Sd),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===se)return Qt(t)}throw Error(r(438,String(t)))}function dd(t){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xc(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=P;return s.index++,a}function is(t,s){return typeof s=="function"?s(t):s}function Ic(t){var s=_t();return md(s,We,t)}function md(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var b=v=null,N=null,q=s,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Me&ee)===ee:(ns&ee)===ee){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ba&&(X=!0);else if((ns&H)===H){q=q.next,H===Ba&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=ee,v=d):N=N.next=ee,xe.lanes|=H,Ys|=H;ee=q.action,Wr&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=H,v=d):N=N.next=H,xe.lanes|=ee,Ys|=ee;q=q.next}while(q!==null&&q!==s);if(N===null?v=d:N.next=b,!wn(d,t.memoizedState)&&(xt=!0,X&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pd(t){var s=_t(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);wn(d,s.memoizedState)||(xt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Ny(t,s,a){var l=xe,f=_t(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!wn((We||f).memoizedState,a);if(v&&(f.memoizedState=a,xt=!0),f=f.queue,_d(Oy.bind(null,l,f,t),[t]),f.getSnapshot!==s||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Dy.bind(null,l,f,a,s),null),tt===null)throw Error(r(349));d||(ns&127)!==0||Iy(l,s,a)}return a}function Iy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=xc(),xe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Dy(t,s,a,l){s.value=a,s.getSnapshot=l,My(s)&&Vy(t)}function Oy(t,s,a){return a(function(){My(s)&&Vy(t)})}function My(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!wn(t,a)}catch{return!0}}function Vy(t){var s=$r(t,2);s!==null&&yn(s,t,2)}function gd(t){var s=cn();if(typeof t=="function"){var a=t;if(t=a(),Wr){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},s}function jy(t,s,a,l){return t.baseState=a,md(t,We,typeof l=="function"?l:is)}function zS(t,s,a,l,f){if(Mc(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,ky(s,d)):(d.next=a.next,s.pending=a.next=d)}}function ky(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=J.T,v={};J.T=v;try{var b=a(f,l),N=J.S;N!==null&&N(v,b),Py(t,s,b)}catch(q){yd(t,s,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),J.T=d}}else try{d=a(f,l),Py(t,s,d)}catch(q){yd(t,s,q)}}function Py(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(t,s,l)},function(l){return yd(t,s,l)}):Uy(t,s,a)}function Uy(t,s,a){s.status="fulfilled",s.value=a,Ly(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,ky(t,a)))}function yd(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ly(s),s=s.next;while(s!==l)}t.action=null}function Ly(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function zy(t,s){return s}function By(t,s){if(Ue){var a=tt.formState;if(a!==null){e:{var l=xe;if(Ue){if(it){t:{for(var f=it,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=qn(f.nextSibling),l=f.data==="F!";break e}}Ls(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:s},a.queue=l,a=a_.bind(null,xe,l),l.dispatch=a,l=gd(!1),d=bd.bind(null,xe,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=zS.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Fy(t){var s=_t();return $y(s,We,t)}function $y(t,s,a){if(s=md(t,s,zy)[0],t=Ic(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=El(s)}catch(v){throw v===$a?Ec:v}else l=s;s=_t();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,Ya(9,{destroy:void 0},BS.bind(null,f,a),null)),[l,d,t]}function BS(t,s){t.action=s}function qy(t){var s=_t(),a=We;if(a!==null)return $y(s,a,t);_t(),s=s.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ya(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=xe.updateQueue,s===null&&(s=xc(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Hy(){return _t().memoizedState}function Dc(t,s,a,l){var f=cn();xe.flags|=t,f.memoizedState=Ya(1|s,{destroy:void 0},a,l===void 0?null:l)}function Oc(t,s,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&ld(l,We.memoizedState.deps)?f.memoizedState=Ya(s,d,a,l):(xe.flags|=t,f.memoizedState=Ya(1|s,d,a,l))}function Gy(t,s){Dc(8390656,8,t,s)}function _d(t,s){Oc(2048,8,t,s)}function FS(t){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=xc(),xe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Ky(t){var s=_t().memoizedState;return FS({ref:s,nextImpl:t}),function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Yy(t,s){return Oc(4,2,t,s)}function Qy(t,s){return Oc(4,4,t,s)}function Xy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Jy(t,s,a){a=a!=null?a.concat([t]):null,Oc(4,4,Xy.bind(null,s,t),a)}function vd(){}function Wy(t,s){var a=_t();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ld(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Zy(t,s){var a=_t();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ld(s,l[1]))return l[0];if(l=t(),Wr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function Ed(t,s,a){return a===void 0||(ns&1073741824)!==0&&(Me&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=ev(),xe.lanes|=t,Ys|=t,a)}function e_(t,s,a,l){return wn(a,s)?a:Ha.current!==null?(t=Ed(t,a,l),wn(t,s)||(xt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Me&261930)===0?(xt=!0,t.memoizedState=a):(t=ev(),xe.lanes|=t,Ys|=t,s)}function t_(t,s,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=J.T,b={};J.T=b,bd(t,!1,s,a);try{var N=f(),q=J.S;if(q!==null&&q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=PS(N,l);Tl(t,s,X,xn(t))}else Tl(t,s,l,xn(t))}catch(ee){Tl(t,s,{then:function(){},status:"rejected",reason:ee},xn())}finally{ae.p=d,v!==null&&b.types!==null&&(v.types=b.types),J.T=v}}function $S(){}function Td(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=n_(t).queue;t_(t,f,s,ye,a===null?$S:function(){return i_(t),a(l)})}function n_(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function i_(t){var s=n_(t);s.next===null&&(s=t.alternate.memoizedState),Tl(t,s.next.queue,{},xn())}function wd(){return Qt(Ul)}function s_(){return _t().memoizedState}function r_(){return _t().memoizedState}function qS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();t=Fs(a);var l=$s(s,t,a);l!==null&&(yn(l,s,a),gl(l,s,a)),s={cache:Jf()},t.payload=s;return}s=s.return}}function HS(t,s,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(t)?o_(s,a):(a=zf(t,s,a,l),a!==null&&(yn(a,t,l),l_(a,s,l)))}function a_(t,s,a){var l=xn();Tl(t,s,a,l)}function Tl(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))o_(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,wn(b,v))return dc(t,s,f,0),tt===null&&fc(),!1}catch{}if(a=zf(t,s,f,l),a!==null)return yn(a,t,l),l_(a,s,l),!0}return!1}function bd(t,s,a,l){if(l={lane:2,revertLane:tm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(s)throw Error(r(479))}else s=zf(t,a,l,2),s!==null&&yn(s,t,2)}function Mc(t){var s=t.alternate;return t===xe||s!==null&&s===xe}function o_(t,s){Ga=Rc=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function l_(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,$o(t,a)}}var wl={readContext:Qt,use:Nc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};wl.useEffectEvent=dt;var u_={readContext:Qt,use:Nc,useCallback:function(t,s){return cn().memoizedState=[t,s===void 0?null:s],t},useContext:Qt,useEffect:Gy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Dc(4194308,4,Xy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Dc(4194308,4,t,s)},useInsertionEffect:function(t,s){Dc(4,2,t,s)},useMemo:function(t,s){var a=cn();s=s===void 0?null:s;var l=t();if(Wr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=cn();if(a!==void 0){var f=a(s);if(Wr){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=HS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var s=cn();return t={current:t},s.memoizedState=t},useState:function(t){t=gd(t);var s=t.queue,a=a_.bind(null,xe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(t,s){var a=cn();return Ed(a,t,s)},useTransition:function(){var t=gd(!1);return t=t_.bind(null,xe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=xe,f=cn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),tt===null)throw Error(r(349));(Me&127)!==0||Iy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Gy(Oy.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},Dy.bind(null,l,d,a,s),null),a},useId:function(){var t=cn(),s=tt.identifierPrefix;if(Ue){var a=Ii,l=Ni;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Cc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=US++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:wd,useFormState:By,useActionState:By,useOptimistic:function(t){var s=cn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=bd.bind(null,xe,!0,a),a.dispatch=s,[t,s]},useMemoCache:dd,useCacheRefresh:function(){return cn().memoizedState=qS.bind(null,xe)},useEffectEvent:function(t){var s=cn(),a={impl:t};return s.memoizedState=a,function(){if((He&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Sd={readContext:Qt,use:Nc,useCallback:Wy,useContext:Qt,useEffect:_d,useImperativeHandle:Jy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Zy,useReducer:Ic,useRef:Hy,useState:function(){return Ic(is)},useDebugValue:vd,useDeferredValue:function(t,s){var a=_t();return e_(a,We.memoizedState,t,s)},useTransition:function(){var t=Ic(is)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:El(t),s]},useSyncExternalStore:Ny,useId:s_,useHostTransitionStatus:wd,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,s){var a=_t();return jy(a,We,t,s)},useMemoCache:dd,useCacheRefresh:r_};Sd.useEffectEvent=Ky;var c_={readContext:Qt,use:Nc,useCallback:Wy,useContext:Qt,useEffect:_d,useImperativeHandle:Jy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Zy,useReducer:pd,useRef:Hy,useState:function(){return pd(is)},useDebugValue:vd,useDeferredValue:function(t,s){var a=_t();return We===null?Ed(a,t,s):e_(a,We.memoizedState,t,s)},useTransition:function(){var t=pd(is)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:El(t),s]},useSyncExternalStore:Ny,useId:s_,useHostTransitionStatus:wd,useFormState:qy,useActionState:qy,useOptimistic:function(t,s){var a=_t();return We!==null?jy(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dd,useCacheRefresh:r_};c_.useEffectEvent=Ky;function Ad(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:w({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=xn(),f=Fs(l);f.payload=s,a!=null&&(f.callback=a),s=$s(t,f,l),s!==null&&(yn(s,t,l),gl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=xn(),f=Fs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=$s(t,f,l),s!==null&&(yn(s,t,l),gl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=xn(),l=Fs(a);l.tag=2,s!=null&&(l.callback=s),s=$s(t,l,a),s!==null&&(yn(s,t,a),gl(s,t,a))}};function h_(t,s,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!ll(a,l)||!ll(f,d):!0}function f_(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Rd.enqueueReplaceState(s,s.state,null)}function Zr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function d_(t){hc(t)}function m_(t){console.error(t)}function p_(t){hc(t)}function Vc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function g_(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cd(t,s,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(t,s)},a}function y_(t){return t=Fs(t),t.tag=3,t}function __(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){g_(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){g_(s,a,l),typeof f!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function GS(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&za(s,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Gc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Tc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Wd(t,l,f)),!1;case 22:return a.flags|=65536,l===Tc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Wd(t,l,f)),!1}throw Error(r(435,a.tag))}return Wd(t,l,f),Gc(),!1}if(Ue)return s=Sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Gf&&(t=Error(r(422),{cause:l}),hl(Ln(t,a)))):(l!==Gf&&(s=Error(r(423),{cause:l}),hl(Ln(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=Cd(t.stateNode,l,f),id(t,f),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),Il===null?Il=[d]:Il.push(d),mt!==4&&(mt=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Cd(a.stateNode,l,t),id(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qs===null||!Qs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=y_(f),__(f,t,a,l),id(a,f),!1}a=a.return}while(a!==null);return!1}var xd=Error(r(461)),xt=!1;function Xt(t,s,a,l){s.child=t===null?wy(s,null,a,l):Jr(s,t.child,a,l)}function v_(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Kr(s),l=ud(t,s,a,v,d,f),b=cd(),t!==null&&!xt?(hd(t,s,f),ss(t,s,f)):(Ue&&b&&qf(s),s.flags|=1,Xt(t,s,l,f),s.child)}function E_(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,T_(t,s,d,l,f)):(t=pc(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!kd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&t.ref===s.ref)return ss(t,s,f)}return s.flags|=1,t=Wi(d,l),t.ref=s.ref,t.return=s,s.child=t}function T_(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===s.ref)if(xt=!1,s.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(xt=!0);else return s.lanes=t.lanes,ss(t,s,f)}return Nd(t,s,a,l,f)}function w_(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return b_(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&vc(s,d!==null?d.cachePool:null),d!==null?Ay(s,d):rd(),Ry(s);else return l=s.lanes=536870912,b_(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(vc(s,d.cachePool),Ay(s,d),Hs(),s.memoizedState=null):(t!==null&&vc(s,null),rd(),Hs());return Xt(t,s,f,a),s.child}function bl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function b_(t,s,a,l,f){var d=Zf();return d=d===null?null:{parent:Rt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&vc(s,null),rd(),Ry(s),t!==null&&za(t,s,l,!0),s.childLanes=f,null}function jc(t,s){return s=Pc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function S_(t,s,a){return Jr(s,t.child,null,a),t=jc(s,s.pendingProps),t.flags|=2,An(s),s.memoizedState=null,t}function KS(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=jc(s,l),s.lanes=536870912,bl(null,t);if(od(s),(t=it)?(t=kv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=oy(t),a.return=s,s.child=a,Yt=s,it=null)):t=null,t===null)throw Ls(s);return s.lanes=536870912,null}return jc(s,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(od(s),f)if(s.flags&256)s.flags&=-257,s=S_(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(xt||za(t,s,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=tt,l!==null&&(v=qo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,$r(t,v),yn(l,t,v),xd;Gc(),s=S_(t,s,a)}else t=d.treeContext,it=qn(v.nextSibling),Yt=s,Ue=!0,Us=null,Fn=!1,t!==null&&cy(s,t),s=jc(s,l),s.flags|=4096;return s}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function kc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Nd(t,s,a,l,f){return Kr(s),a=ud(t,s,a,l,void 0,f),l=cd(),t!==null&&!xt?(hd(t,s,f),ss(t,s,f)):(Ue&&l&&qf(s),s.flags|=1,Xt(t,s,a,f),s.child)}function A_(t,s,a,l,f,d){return Kr(s),s.updateQueue=null,a=xy(s,l,a,f),Cy(t),l=cd(),t!==null&&!xt?(hd(t,s,d),ss(t,s,d)):(Ue&&l&&qf(s),s.flags|=1,Xt(t,s,a,d),s.child)}function R_(t,s,a,l,f){if(Kr(s),s.stateNode===null){var d=ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},td(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):ka,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ad(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Rd.enqueueReplaceState(d,d.state,null),_l(s,l,d,f),yl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var b=s.memoizedProps,N=Zr(a,b);d.props=N;var q=d.context,X=a.contextType;v=ka,typeof X=="object"&&X!==null&&(v=Qt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&f_(s,d,l,v),Bs=!1;var H=s.memoizedState;d.state=H,_l(s,l,d,f),yl(),q=s.memoizedState,b||H!==q||Bs?(typeof ee=="function"&&(Ad(s,a,ee,l),q=s.memoizedState),(N=Bs||h_(s,a,N,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,nd(t,s),v=s.memoizedProps,X=Zr(a,v),d.props=X,ee=s.pendingProps,H=d.context,q=a.contextType,N=ka,typeof q=="object"&&q!==null&&(N=Qt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||H!==N)&&f_(s,d,l,N),Bs=!1,H=s.memoizedState,d.state=H,_l(s,l,d,f),yl();var Y=s.memoizedState;v!==ee||H!==Y||Bs||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof b=="function"&&(Ad(s,a,b,l),Y=s.memoizedState),(X=Bs||h_(s,a,X,l,H,Y,N)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,kc(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=Jr(s,t.child,null,f),s.child=Jr(s,null,a,f)):Xt(t,s,a,f),s.memoizedState=d.state,t=s.child):t=ss(t,s,f),t}function C_(t,s,a,l){return Hr(),s.flags|=256,Xt(t,s,a,l),s.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(t){return{baseLanes:t,cachePool:gy()}}function Od(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Cn),t}function x_(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ue){if(f?qs(s):Hs(),(t=it)?(t=kv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=oy(t),a.return=s,s.child=a,Yt=s,it=null)):t=null,t===null)throw Ls(s);return mm(t)?s.lanes=32:s.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Hs(),f=s.mode,b=Pc({mode:"hidden",children:b},f),l=qr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,l=s.child,l.memoizedState=Dd(a),l.childLanes=Od(t,v,a),s.memoizedState=Id,bl(null,l)):(qs(s),Md(s,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)s.flags&256?(qs(s),s.flags&=-257,s=Vd(t,s,a)):s.memoizedState!==null?(Hs(),s.child=t.child,s.flags|=128,s=null):(Hs(),b=l.fallback,f=s.mode,l=Pc({mode:"visible",children:l.children},f),b=qr(b,f,a,null),b.flags|=2,l.return=s,b.return=s,l.sibling=b,s.child=l,Jr(s,t.child,null,a),l=s.child,l.memoizedState=Dd(a),l.childLanes=Od(t,v,a),s.memoizedState=Id,s=bl(null,l));else if(qs(s),mm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(r(419)),l.stack="",l.digest=v,hl({value:l,source:null,stack:null}),s=Vd(t,s,a)}else if(xt||za(t,s,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=tt,v!==null&&(l=qo(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,$r(t,l),yn(v,t,l),xd;dm(b)||Gc(),s=Vd(t,s,a)}else dm(b)?(s.flags|=192,s.child=t.child,s=null):(t=N.treeContext,it=qn(b.nextSibling),Yt=s,Ue=!0,Us=null,Fn=!1,t!==null&&cy(s,t),s=Md(s,l.children),s.flags|=4096);return s}return f?(Hs(),b=l.fallback,f=s.mode,N=t.child,q=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?b=Wi(q,b):(b=qr(b,f,a,null),b.flags|=2),b.return=s,l.return=s,l.sibling=b,s.child=l,bl(null,l),l=s.child,b=t.child.memoizedState,b===null?b=Dd(a):(f=b.cachePool,f!==null?(N=Rt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=gy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Od(t,v,a),s.memoizedState=Id,bl(t.child,l)):(qs(s),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Md(t,s){return s=Pc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Pc(t,s){return t=bn(22,t,null,s),t.lanes=0,t}function Vd(t,s,a){return Jr(s,t.child,null,a),t=Md(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function N_(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Qf(t.return,s,a)}function jd(t,s,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function I_(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=yt.current,b=(v&2)!==0;if(b?(v=v&1|2,s.flags|=128):v&=1,oe(yt,v),Xt(t,s,l,a),l=Ue?cl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,a,s);else if(t.tag===19)N_(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Ac(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),jd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Ac(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}jd(s,!0,a,null,d,l);break;case"together":jd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ss(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ys|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(za(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Wi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function kd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function YS(t,s,a){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),zs(s,Rt,t.memoizedState.cache),Hr();break;case 27:case 5:Ar(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,od(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?x_(t,s,a):(qs(s),t=ss(t,s,a),t!==null?t.sibling:null);qs(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(za(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return I_(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return s.lanes=0,w_(t,s,a,s.pendingProps);case 24:zs(s,Rt,t.memoizedState.cache)}return ss(t,s,a)}function D_(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)xt=!0;else{if(!kd(t,a)&&(s.flags&128)===0)return xt=!1,YS(t,s,a);xt=(t.flags&131072)!==0}else xt=!1,Ue&&(s.flags&1048576)!==0&&uy(s,cl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Qr(s.elementType),s.type=t,typeof t=="function")Bf(t)?(l=Zr(t,l),s.tag=1,s=R_(null,s,t,l,a)):(s.tag=0,s=Nd(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ge){s.tag=11,s=v_(null,s,t,l,a);break e}else if(f===I){s.tag=14,s=E_(null,s,t,l,a);break e}}throw s=ot(t)||t,Error(r(306,s,""))}}return s;case 0:return Nd(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Zr(l,s.pendingProps),R_(t,s,l,f,a);case 3:e:{if(kt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,nd(t,s),_l(s,l,null,a);var v=s.memoizedState;if(l=v.cache,zs(s,Rt,l),l!==d.cache&&Xf(s,[Rt],a,!0),yl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=C_(t,s,l,a);break e}else if(l!==f){f=Ln(Error(r(424)),s),hl(f),s=C_(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=qn(t.firstChild),Yt=s,Ue=!0,Us=null,Fn=!0,a=wy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hr(),l===f){s=ss(t,s,a);break e}Xt(t,s,l,a)}s=s.child}return s;case 26:return kc(t,s),t===null?(a=Fv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ue||(a=s.type,t=s.pendingProps,l=Zc(Ne.current).createElement(a),l[bt]=s,l[Bt]=t,Jt(l,a,t),St(l),s.stateNode=l):s.memoizedState=Fv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ar(s),t===null&&Ue&&(l=s.stateNode=Lv(s.type,s.pendingProps,Ne.current),Yt=s,Fn=!0,f=it,Zs(s.type)?(pm=f,it=qn(l.firstChild)):it=f),Xt(t,s,s.pendingProps.children,a),kc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ue&&((f=l=it)&&(l=S1(l,s.type,s.pendingProps,Fn),l!==null?(s.stateNode=l,Yt=s,it=qn(l.firstChild),Fn=!1,f=!0):f=!1),f||Ls(s)),Ar(s),f=s.type,d=s.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,cm(f,d)?l=null:v!==null&&cm(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=ud(t,s,LS,null,null,a),Ul._currentValue=f),kc(t,s),Xt(t,s,l,a),s.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=A1(a,s.pendingProps,Fn),a!==null?(s.stateNode=a,Yt=s,it=null,t=!0):t=!1),t||Ls(s)),null;case 13:return x_(t,s,a);case 4:return kt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Jr(s,null,l,a):Xt(t,s,l,a),s.child;case 11:return v_(t,s,s.type,s.pendingProps,a);case 7:return Xt(t,s,s.pendingProps,a),s.child;case 8:return Xt(t,s,s.pendingProps.children,a),s.child;case 12:return Xt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,zs(s,s.type,l.value),Xt(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Kr(s),f=Qt(f),l=l(f),s.flags|=1,Xt(t,s,l,a),s.child;case 14:return E_(t,s,s.type,s.pendingProps,a);case 15:return T_(t,s,s.type,s.pendingProps,a);case 19:return I_(t,s,a);case 31:return KS(t,s,a);case 22:return w_(t,s,a,s.pendingProps);case 24:return Kr(s),l=Qt(Rt),t===null?(f=Zf(),f===null&&(f=tt,d=Jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},td(s),zs(s,Rt,f)):((t.lanes&a)!==0&&(nd(t,s),_l(s,null,null,a),yl()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),zs(s,Rt,l)):(l=d.cache,zs(s,Rt,l),l!==f.cache&&Xf(s,[Rt],a,!0))),Xt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(t){t.flags|=4}function Pd(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(sv())t.flags|=8192;else throw Xr=Tc,ed}else t.flags&=-16777217}function O_(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(s))if(sv())t.flags|=8192;else throw Xr=Tc,ed}function Uc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?qu():536870912,t.lanes|=s,Wa|=s)}function Sl(t,s){if(!Ue)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function QS(t,s,a){var l=s.pendingProps;switch(Hf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return st(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(s)?rs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kf())),st(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(rs(s),d!==null?(st(s),O_(s,d)):(st(s),Pd(s,f,null,l,a))):d?d!==t.memoizedState?(rs(s),st(s),O_(s,d)):(st(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(s),st(s),Pd(s,f,t,l,a)),null;case 27:if(ya(s),a=Ne.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return st(s),null}t=ce.current,La(s)?hy(s):(t=Lv(f,l,a),s.stateNode=t,rs(s))}return st(s),null;case 5:if(ya(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return st(s),null}if(d=ce.current,La(s))hy(s);else{var v=Zc(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[bt]=s,d[Bt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Jt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(s)}}return st(s),Pd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=Ne.current,La(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xv(t.nodeValue,a)),t||Ls(s,!0)}else t=Zc(t).createTextNode(l),t[bt]=s,s.stateNode=t}return st(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=La(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),t=!1}else a=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(An(s),s):(An(s),null);if((s.flags&128)!==0)throw Error(r(558))}return st(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=La(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[bt]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),f=!1}else f=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(An(s),s):(An(s),null)}return An(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Uc(s,s.updateQueue),st(s),null);case 4:return lt(),t===null&&rm(s.stateNode.containerInfo),st(s),null;case 10:return ts(s.type),st(s),null;case 19:if(ne(yt),l=s.memoizedState,l===null)return st(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Sl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Ac(t),d!==null){for(s.flags|=128,Sl(l,!1),t=d.updateQueue,s.updateQueue=t,Uc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)ay(a,t),a=a.sibling;return oe(yt,yt.current&1|2),Ue&&Zi(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&ln()>$c&&(s.flags|=128,f=!0,Sl(l,!1),s.lanes=4194304)}else{if(!f)if(t=Ac(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Uc(s,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return st(s),null}else 2*ln()-l.renderingStartTime>$c&&a!==536870912&&(s.flags|=128,f=!0,Sl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,a=yt.current,oe(yt,f?a&1|2:a&1),Ue&&Zi(s,l.treeForkCount),t):(st(s),null);case 22:case 23:return An(s),ad(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),a=s.updateQueue,a!==null&&Uc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&ne(Yr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(Rt),st(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function XS(t,s){switch(Hf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ts(Rt),lt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ya(s),null;case 31:if(s.memoizedState!==null){if(An(s),s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(An(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ne(yt),null;case 4:return lt(),null;case 10:return ts(s.type),null;case 22:case 23:return An(s),ad(),t!==null&&ne(Yr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ts(Rt),null;case 25:return null;default:return null}}function M_(t,s){switch(Hf(s),s.tag){case 3:ts(Rt),lt();break;case 26:case 27:case 5:ya(s);break;case 4:lt();break;case 31:s.memoizedState!==null&&An(s);break;case 13:An(s);break;case 19:ne(yt);break;case 10:ts(s.type);break;case 22:case 23:An(s),ad(),t!==null&&ne(Yr);break;case 24:ts(Rt)}}function Al(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){Xe(s,s.return,b)}}function Gs(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=s;var N=a,q=b;try{q()}catch(X){Xe(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(s,s.return,X)}}function V_(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Sy(s,a)}catch(l){Xe(t,t.return,l)}}}function j_(t,s,a){a.props=Zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,s,l)}}function Rl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,s,f)}}function Di(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,s,f)}else a.current=null}function k_(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Ud(t,s,a){try{var l=t.stateNode;_1(l,t.type,a,s),l[Bt]=s}catch(f){Xe(t,t.return,f)}}function P_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zd(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jn));else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(zd(t,s,a),t=t.sibling;t!==null;)zd(t,s,a),t=t.sibling}function Lc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,s,a),t=t.sibling;t!==null;)Lc(t,s,a),t=t.sibling}function U_(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Jt(s,l,a),s[bt]=t,s[Bt]=a}catch(d){Xe(t,t.return,d)}}var as=!1,Nt=!1,Bd=!1,L_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function JS(t,s){if(t=t.containerInfo,lm=ah,t=Jg(t),Vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,N=-1,q=0,X=0,ee=t,H=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(b=v+f),ee!==d||l!==0&&ee.nodeType!==3||(N=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)H=ee,ee=Y;for(;;){if(ee===t)break t;if(H===a&&++q===f&&(b=v),H===d&&++X===l&&(N=v),(Y=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Y}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(um={focusedElem:t,selectionRange:a},ah=!1,$t=s;$t!==null;)if(s=$t,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,$t=t;else for(;$t!==null;){switch(s=$t,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Zr(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)fm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,$t=t;break}$t=s.return}}function z_(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),l&4&&Al(5,a);break;case 1:if(ls(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var f=Zr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&V_(a),l&512&&Rl(a,a.return);break;case 3:if(ls(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Sy(t,s)}catch(v){Xe(a,a.return,v)}}break;case 27:s===null&&l&4&&U_(a);case 26:case 5:ls(t,a),s===null&&l&4&&k_(a),l&512&&Rl(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),l&4&&$_(t,a);break;case 13:ls(t,a),l&4&&q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=a1.bind(null,a),R1(t,a))));break;case 22:if(l=a.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||Nt,f=as;var d=Nt;as=l,(Nt=s)&&!d?us(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),as=f,Nt=d}break;case 30:break;default:ls(t,a)}}function B_(t){var s=t.alternate;s!==null&&(t.alternate=null,B_(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&wa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function os(t,s,a){for(a=a.child;a!==null;)F_(t,s,a),a=a.sibling}function F_(t,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Nt||Di(a,s),os(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Di(a,s);var l=ct,f=dn;Zs(a.type)&&(ct=a.stateNode,dn=!1),os(t,s,a),jl(a.stateNode),ct=l,dn=f;break;case 5:Nt||Di(a,s);case 6:if(l=ct,f=dn,ct=null,os(t,s,a),ct=l,dn=f,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,s,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,s,d)}break;case 18:ct!==null&&(dn?(t=ct,Vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):Vv(ct,a.stateNode));break;case 4:l=ct,f=dn,ct=a.stateNode.containerInfo,dn=!0,os(t,s,a),ct=l,dn=f;break;case 0:case 11:case 14:case 15:Gs(2,a,s),Nt||Gs(4,a,s),os(t,s,a);break;case 1:Nt||(Di(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,s,l)),os(t,s,a);break;case 21:os(t,s,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,os(t,s,a),Nt=l;break;default:os(t,s,a)}}function $_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){Xe(s,s.return,a)}}}function q_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){Xe(s,s.return,a)}}function WS(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new L_),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new L_),s;default:throw Error(r(435,t.tag))}}function zc(t,s){var a=WS(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=o1.bind(null,t,l);l.then(f,f)}})}function mn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=s,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Zs(b.type)){ct=b.stateNode,dn=!1;break e}break;case 5:ct=b.stateNode,dn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(ct===null)throw Error(r(160));F_(d,v,f),ct=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)H_(s,t),s=s.sibling}var ii=null;function H_(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(s,t),pn(t),l&4&&(Gs(3,t,t.return),Al(3,t),Gs(5,t,t.return));break;case 1:mn(s,t),pn(t),l&512&&(Nt||a===null||Di(a,a.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(mn(s,t),pn(t),l&512&&(Nt||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Jt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var v=Hv("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Hv("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else Gv(f,t.type,t.stateNode);else t.stateNode=qv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(f,t.type,t.stateNode):qv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(s,t),pn(t),l&512&&(Nt||a===null||Di(a,a.return)),a!==null&&l&4&&Ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(s,t),pn(t),l&512&&(Nt||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ud(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Bd=!0);break;case 6:if(mn(s,t),pn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(nh=null,f=ii,ii=eh(s.containerInfo),mn(s,t),ii=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(s.containerInfo)}catch(fe){Xe(t,t.return,fe)}Bd&&(Bd=!1,G_(t));break;case 4:l=ii,ii=eh(t.stateNode.containerInfo),mn(s,t),pn(t),ii=l;break;case 12:mn(s,t),pn(t);break;case 31:mn(s,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 13:mn(s,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fc=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=as,X=Nt;if(as=q||f,Nt=X||N,mn(s,t),Nt=X,as=q,pn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||N||as||Nt||ea(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=N.stateNode;var ee=N.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){Xe(N,N.return,fe)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){Xe(N,N.return,fe)}}}else if(s.tag===18){if(a===null){N=s;try{var Y=N.stateNode;f?jv(Y,!0):jv(N.stateNode,!1)}catch(fe){Xe(N,N.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zc(t,a))));break;case 19:mn(s,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 30:break;case 21:break;default:mn(s,t),pn(t)}}function pn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(P_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Ld(t);Lc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var b=Ld(t);Lc(t,b,v);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Ld(t);zd(t,q,N);break;default:throw Error(r(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function G_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;G_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ls(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)z_(t,s.alternate,s),s=s.sibling}function ea(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Gs(4,s,s.return),ea(s);break;case 1:Di(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&j_(s,s.return,a),ea(s);break;case 27:jl(s.stateNode);case 26:case 5:Di(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}t=t.sibling}}function us(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:us(f,d,a),Al(4,d);break;case 1:if(us(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)by(N[f],b)}catch(q){Xe(l,l.return,q)}}a&&v&64&&V_(d),Rl(d,d.return);break;case 27:U_(d);case 26:case 5:us(f,d,a),a&&l===null&&v&4&&k_(d),Rl(d,d.return);break;case 12:us(f,d,a);break;case 31:us(f,d,a),a&&v&4&&$_(f,d);break;case 13:us(f,d,a),a&&v&4&&q_(f,d);break;case 22:d.memoizedState===null&&us(f,d,a),Rl(d,d.return);break;case 30:break;default:us(f,d,a)}s=s.sibling}}function Fd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function $d(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fl(t))}function si(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K_(t,s,a,l),s=s.sibling}function K_(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:si(t,s,a,l),f&2048&&Al(9,s);break;case 1:si(t,s,a,l);break;case 3:si(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fl(t)));break;case 12:if(f&2048){si(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(s,s.return,N)}}else si(t,s,a,l);break;case 31:si(t,s,a,l);break;case 13:si(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?si(t,s,a,l):Cl(t,s):d._visibility&2?si(t,s,a,l):(d._visibility|=2,Qa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Fd(v,s);break;case 24:si(t,s,a,l),f&2048&&$d(s.alternate,s);break;default:si(t,s,a,l)}}function Qa(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,v=s,b=a,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,b,N,f),Al(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Qa(d,v,b,N,f):Cl(d,v):(X._visibility|=2,Qa(d,v,b,N,f)),f&&q&2048&&Fd(v.alternate,v);break;case 24:Qa(d,v,b,N,f),f&&q&2048&&$d(v.alternate,v);break;default:Qa(d,v,b,N,f)}s=s.sibling}}function Cl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&Fd(l.alternate,l);break;case 24:Cl(a,l),f&2048&&$d(l.alternate,l);break;default:Cl(a,l)}s=s.sibling}}var xl=8192;function Xa(t,s,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Y_(t,s,a),t=t.sibling}function Y_(t,s,a){switch(t.tag){case 26:Xa(t,s,a),t.flags&xl&&t.memoizedState!==null&&U1(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,s,a);break;case 3:case 4:var l=ii;ii=eh(t.stateNode.containerInfo),Xa(t,s,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,Xa(t,s,a),xl=l):Xa(t,s,a));break;default:Xa(t,s,a)}}function Q_(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Nl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,J_(l,t)}Q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)X_(t),t=t.sibling}function X_(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Bc(t)):Nl(t);break;default:Nl(t)}}function Bc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,J_(l,t)}Q_(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Gs(8,s,s.return),Bc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(s));break;default:Bc(s)}t=t.sibling}}function J_(t,s){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Gs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var f=l.sibling,d=l.return;if(B_(l),l===a){$t=null;break e}if(f!==null){f.return=d,$t=f;break e}$t=d}}}var ZS={getCacheForType:function(t){var s=Qt(Rt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Qt(Rt).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,He=0,tt=null,De=null,Me=0,Qe=0,Rn=null,Ks=!1,Ja=!1,qd=!1,cs=0,mt=0,Ys=0,ta=0,Hd=0,Cn=0,Wa=0,Il=null,gn=null,Gd=!1,Fc=0,W_=0,$c=1/0,qc=null,Qs=null,Ut=0,Xs=null,Za=null,hs=0,Kd=0,Yd=null,Z_=null,Dl=0,Qd=null;function xn(){return(He&2)!==0&&Me!==0?Me&-Me:J.T!==null?tm():Hu()}function ev(){if(Cn===0)if((Me&536870912)===0||Ue){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Cn=t}else Cn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Cn}function yn(t,s,a){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Js(t,Me,Cn,!1)),Nr(t,a),((He&2)===0||t!==tt)&&(t===tt&&((He&2)===0&&(ta|=a),mt===4&&Js(t,Me,Cn,!1)),Oi(t))}function tv(t,s,a){if((He&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Yn(t,s),f=l?i1(t,s):Jd(t,s,!0),d=l;do{if(f===0){Ja&&!l&&Js(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!t1(a)){f=Jd(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var b=t;f=Il;var N=b.current.memoizedState.isDehydrated;if(N&&(eo(b,v).flags|=256),v=Jd(b,v,!1),v!==2){if(qd&&!N){b.errorRecoveryDisabledLanes|=d,ta|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){eo(t,0),Js(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Js(l,s,Cn,!Ks);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Fc+300-ln(),10<f)){if(Js(l,s,Cn,!Ks),mi(l,0,!0)!==0)break e;hs=s,l.timeoutHandle=Ov(nv.bind(null,l,a,gn,qc,Gd,s,Cn,ta,Wa,Ks,d,"Throttled",-0,0),f);break e}nv(l,a,gn,qc,Gd,s,Cn,ta,Wa,Ks,d,null,-0,0)}}break}while(!0);Oi(t)}function nv(t,s,a,l,f,d,v,b,N,q,X,ee,H,Y){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Y_(s,d,ee);var fe=(d&62914560)===d?Fc-ln():(d&4194048)===d?W_-ln():0;if(fe=L1(ee,fe),fe!==null){hs=d,t.cancelPendingCommit=fe(cv.bind(null,t,s,d,a,l,f,v,b,N,X,ee,null,H,Y)),Js(t,d,v,!q);return}}cv(t,s,d,a,l,f,v,b,N)}function t1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Js(t,s,a,l){s&=~Hd,s&=~ta,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-pt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Ir(t,a,s)}function Hc(){return(He&6)===0?(Ol(0),!1):!0}function Xd(){if(De!==null){if(Qe===0)var t=De.return;else t=De,es=Gr=null,fd(t),qa=null,ml=0,t=De;for(;t!==null;)M_(t.alternate,t),t=t.return;De=null}}function eo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,T1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hs=0,Xd(),tt=t,De=a=Wi(t.current,null),Me=s,Qe=0,Rn=null,Ks=!1,Ja=Yn(t,s),qd=!1,Wa=Cn=Hd=ta=Ys=mt=0,gn=Il=null,Gd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-pt(l),d=1<<f;s|=t[f],l&=~d}return cs=s,fc(),a}function iv(t,s){xe=null,J.H=wl,s===$a||s===Ec?(s=vy(),Qe=3):s===ed?(s=vy(),Qe=4):Qe=s===xd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,De===null&&(mt=1,Vc(t,Ln(s,t.current)))}function sv(){var t=Sn.current;return t===null?!0:(Me&4194048)===Me?$n===null:(Me&62914560)===Me||(Me&536870912)!==0?t===$n:!1}function rv(){var t=J.H;return J.H=wl,t===null?wl:t}function av(){var t=J.A;return J.A=ZS,t}function Gc(){mt=4,Ks||(Me&4194048)!==Me&&Sn.current!==null||(Ja=!0),(Ys&134217727)===0&&(ta&134217727)===0||tt===null||Js(tt,Me,Cn,!1)}function Jd(t,s,a){var l=He;He|=2;var f=rv(),d=av();(tt!==t||Me!==s)&&(qc=null,eo(t,s)),s=!1;var v=mt;e:do try{if(Qe!==0&&De!==null){var b=De,N=Rn;switch(Qe){case 8:Xd(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(s=!0);var q=Qe;if(Qe=0,Rn=null,to(t,b,N,q),a&&Ja){v=0;break e}break;default:q=Qe,Qe=0,Rn=null,to(t,b,N,q)}}n1(),v=mt;break}catch(X){iv(t,X)}while(!0);return s&&t.shellSuspendCounter++,es=Gr=null,He=l,J.H=f,J.A=d,De===null&&(tt=null,Me=0,fc()),v}function n1(){for(;De!==null;)ov(De)}function i1(t,s){var a=He;He|=2;var l=rv(),f=av();tt!==t||Me!==s?(qc=null,$c=ln()+500,eo(t,s)):Ja=Yn(t,s);e:do try{if(Qe!==0&&De!==null){s=De;var d=Rn;t:switch(Qe){case 1:Qe=0,Rn=null,to(t,s,d,1);break;case 2:case 9:if(yy(d)){Qe=0,Rn=null,lv(s);break}s=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),Oi(t)},d.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:yy(d)?(Qe=0,Rn=null,lv(s)):(Qe=0,Rn=null,to(t,s,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var b=De;if(v?Kv(v):b.stateNode.complete){Qe=0,Rn=null;var N=b.sibling;if(N!==null)De=N;else{var q=b.return;q!==null?(De=q,Kc(q)):De=null}break t}}Qe=0,Rn=null,to(t,s,d,5);break;case 6:Qe=0,Rn=null,to(t,s,d,6);break;case 8:Xd(),mt=6;break e;default:throw Error(r(462))}}s1();break}catch(X){iv(t,X)}while(!0);return es=Gr=null,J.H=l,J.A=f,He=a,De!==null?0:(tt=null,Me=0,fc(),mt)}function s1(){for(;De!==null&&!Cf();)ov(De)}function ov(t){var s=D_(t.alternate,t,cs);t.memoizedProps=t.pendingProps,s===null?Kc(t):De=s}function lv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=A_(a,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=A_(a,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:fd(s);default:M_(a,s),s=De=ay(s,cs),s=D_(a,s,cs)}t.memoizedProps=t.pendingProps,s===null?Kc(t):De=s}function to(t,s,a,l){es=Gr=null,fd(s),qa=null,ml=0;var f=s.return;try{if(GS(t,f,s,a,Me)){mt=1,Vc(t,Ln(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,Vc(t,Ln(a,t.current)),De=null;return}s.flags&32768?(Ue||l===1?t=!0:Ja||(Me&536870912)!==0?t=!1:(Ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uv(s,t)):Kc(s)}function Kc(t){var s=t;do{if((s.flags&32768)!==0){uv(s,Ks);return}t=s.return;var a=QS(s.alternate,s,cs);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);mt===0&&(mt=5)}function uv(t,s){do{var a=XS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function cv(t,s,a,l,f,d,v,b,N){t.cancelPendingCommit=null;do Yc();while(Ut!==0);if((He&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Lf,If(t,a,d,v,b,N),t===tt&&(De=tt=null,Me=0),Za=s,Xs=t,hs=a,Kd=d,Yd=f,Z_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,l1(Cs,function(){return pv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=ae.p,ae.p=2,v=He,He|=4;try{JS(t,s,a)}finally{He=v,ae.p=f,J.T=l}}Ut=1,hv(),fv(),dv()}}function hv(){if(Ut===1){Ut=0;var t=Xs,s=Za,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{H_(s,t);var d=um,v=Jg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Xg(b.ownerDocument.documentElement,b)){if(N!==null&&Vf(b)){var q=N.start,X=N.end;if(X===void 0&&(X=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(X,b.value.length);else{var ee=b.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Y=H.getSelection(),fe=b.textContent.length,_e=Math.min(N.start,fe),et=N.end===void 0?_e:Math.min(N.end,fe);!Y.extend&&_e>et&&(v=et,et=_e,_e=v);var L=Qg(b,_e),O=Qg(b,et);if(L&&O&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var $=ee.createRange();$.setStart(L.node,L.offset),Y.removeAllRanges(),_e>et?(Y.addRange($),Y.extend(O.node,O.offset)):($.setEnd(O.node,O.offset),Y.addRange($))}}}}for(ee=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ah=!!lm,um=lm=null}finally{He=f,ae.p=l,J.T=a}}t.current=s,Ut=2}}function fv(){if(Ut===2){Ut=0;var t=Xs,s=Za,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{z_(t,s.alternate,s)}finally{He=f,ae.p=l,J.T=a}}Ut=3}}function dv(){if(Ut===4||Ut===3){Ut=0,Uu();var t=Xs,s=Za,a=hs,l=Z_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,Za=Xs=null,mv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Qs=null),Yi(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=J.T,f=ae.p,ae.p=2,J.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{J.T=s,ae.p=f}}(hs&3)!==0&&Yc(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Qd?Dl++:(Dl=0,Qd=t):Dl=0,Ol(0)}}function mv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,fl(s)))}function Yc(){return hv(),fv(),dv(),pv()}function pv(){if(Ut!==5)return!1;var t=Xs,s=Kd;Kd=0;var a=Yi(hs),l=J.T,f=ae.p;try{ae.p=32>a?32:a,J.T=null,a=Yd,Yd=null;var d=Xs,v=hs;if(Ut=0,Za=Xs=null,hs=0,(He&6)!==0)throw Error(r(331));var b=He;if(He|=4,X_(d.current),K_(d,d.current,v,a),He=b,Ol(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{ae.p=f,J.T=l,mv(t,s)}}function gv(t,s,a){s=Ln(a,s),s=Cd(t.stateNode,s,2),t=$s(t,s,2),t!==null&&(Nr(t,2),Oi(t))}function Xe(t,s,a){if(t.tag===3)gv(t,t,a);else for(;s!==null;){if(s.tag===3){gv(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){t=Ln(a,t),a=y_(2),l=$s(s,a,2),l!==null&&(__(a,l,s,t),Nr(l,2),Oi(l));break}}s=s.return}}function Wd(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new e1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(qd=!0,f.add(a),t=r1.bind(null,t,s,a),s.then(t,t))}function r1(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>ln()-Fc?(He&2)===0&&eo(t,0):Hd|=a,Wa===Me&&(Wa=0)),Oi(t)}function yv(t,s){s===0&&(s=qu()),t=$r(t,s),t!==null&&(Nr(t,s),Oi(t))}function a1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),yv(t,a)}function o1(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),yv(t,a)}function l1(t,s){return Pt(t,s)}var Qc=null,no=null,Zd=!1,Xc=!1,em=!1,Ws=0;function Oi(t){t!==no&&t.next===null&&(no===null?Qc=no=t:no=no.next=t),Xc=!0,Zd||(Zd=!0,c1())}function Ol(t,s){if(!em&&Xc){em=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Tv(l,d))}else d=Me,d=mi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,Tv(l,d));l=l.next}while(a);em=!1}}function u1(){_v()}function _v(){Xc=Zd=!1;var t=0;Ws!==0&&E1()&&(t=Ws);for(var s=ln(),a=null,l=Qc;l!==null;){var f=l.next,d=vv(l,s);d===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Xc=!0)),l=f}Ut!==0&&Ut!==5||Ol(t),Ws!==0&&(Ws=0)}function vv(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),b=1<<v,N=f[v];N===-1?((b&a)===0||(b&l)!==0)&&(f[v]=Nf(b,s)):N<=s&&(t.expiredLanes|=b),d&=~b}if(s=tt,a=Me,a=mi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Rs(l),Yi(a)){case 2:case 8:a=Fo;break;case 32:a=Cs;break;case 268435456:a=Lu;break;default:a=Cs}return l=Ev.bind(null,t),a=Pt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Rs(l),t.callbackPriority=2,t.callbackNode=null,2}function Ev(t,s){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yc()&&t.callbackNode!==a)return null;var l=Me;return l=mi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tv(t,l,s),vv(t,ln()),t.callbackNode!=null&&t.callbackNode===a?Ev.bind(null,t):null)}function Tv(t,s){if(Yc())return null;tv(t,s,!0)}function c1(){w1(function(){(He&6)!==0?Pt(Bo,u1):_v()})}function tm(){if(Ws===0){var t=Ba;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Ws=t}return Ws}function wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function bv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function h1(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=wv((f[Bt]||null).action),v=l.submitter;v&&(s=(s=v[Bt]||null)?wv(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var b=new Ai("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var N=v?bv(f,v):new FormData(f);Td(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=v?bv(f,v):new FormData(f),Td(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var nm=0;nm<Uf.length;nm++){var im=Uf[nm],f1=im.toLowerCase(),d1=im[0].toUpperCase()+im.slice(1);ni(f1,"on"+d1)}ni(ey,"onAnimationEnd"),ni(ty,"onAnimationIteration"),ni(ny,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(NS,"onTransitionRun"),ni(IS,"onTransitionStart"),ni(DS,"onTransitionCancel"),ni(iy,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Sv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var b=l[v],N=b.instance,q=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=q;try{d(f)}catch(X){hc(X)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(b=l[v],N=b.instance,q=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=q;try{d(f)}catch(X){hc(X)}f.currentTarget=null,d=N}}}}function Oe(t,s){var a=s[Ta];a===void 0&&(a=s[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Av(s,t,2,!1),a.add(l))}function sm(t,s,a){var l=0;s&&(l|=4),Av(a,t,l,s)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Jc]){t[Jc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(m1.has(a)||sm(a,!1,t),sm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Jc]||(s[Jc]=!0,sm("selectionchange",!1,s))}}function Av(t,s,a,l){switch(eE(s)){case 2:var f=F1;break;case 8:f=$1;break;default:f=Em}a=f.bind(null,s,a,t),f=void 0,!jr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function am(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=_i(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Ms(function(){var q=d,X=jn(a),ee=[];e:{var H=sy.get(t);if(H!==void 0){var Y=Ai,fe=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":Y=lc;break;case"focusin":fe="focus",Y=Lr;break;case"focusout":fe="blur",Y=Lr;break;case"beforeblur":case"afterblur":Y=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case ey:case ty:case ny:Y=tc;break;case iy:Y=S;break;case"scroll":case"scrollend":Y=il;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ji;break;case"toggle":case"beforetoggle":Y=Ce}var _e=(s&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var O=q,$;O!==null;){var W=O;if($=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||$===null||L===null||(W=Wn(O,L),W!=null&&_e.push(Vl(O,W,$))),et)break;O=O.return}0<_e.length&&(H=new Y(H,fe,null,a,X),ee.push({event:H,listeners:_e}))}}if((s&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==el&&(fe=a.relatedTarget||a.fromElement)&&(_i(fe)||fe[gi]))break e;if((Y||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=q,fe=fe?_i(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Y=null,fe=q),Y!==fe)){if(_e=sl,W="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ji,W="onPointerLeave",L="onPointerEnter",O="pointer"),et=Y==null?H:En(Y),$=fe==null?H:En(fe),H=new _e(W,O+"leave",Y,a,X),H.target=et,H.relatedTarget=$,W=null,_i(X)===q&&(_e=new _e(L,O+"enter",fe,a,X),_e.target=$,_e.relatedTarget=et,W=_e),et=W,Y&&fe)t:{for(_e=p1,L=Y,O=fe,$=0,W=L;W;W=_e(W))$++;W=0;for(var me=O;me;me=_e(me))W++;for(;0<$-W;)L=_e(L),$--;for(;0<W-$;)O=_e(O),W--;for(;$--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;Y!==null&&Rv(ee,H,Y,_e,!1),fe!==null&&et!==null&&Rv(ee,et,fe,_e,!0)}}e:{if(H=q?En(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Fe=$g;else if(Bg(H))if(qg)Fe=RS;else{Fe=SS;var de=bS}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Aa(q.elementType)&&(Fe=$g):Fe=AS;if(Fe&&(Fe=Fe(t,q))){Fg(ee,Fe,a,X);break e}de&&de(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Jo(H,"number",H.value)}switch(de=q?En(q):window,t){case"focusin":(Bg(de)||de.contentEditable==="true")&&(Ma=de,jf=q,ul=null);break;case"focusout":ul=jf=Ma=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Wg(ee,a,X);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":Wg(ee,a,X)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Oa?zr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(xi&&a.locale!=="ko"&&(Oa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Oa&&(Ie=nl()):(Si=X,tl="value"in Si?Si.value:Si.textContent,Oa=!0)),de=Wc(q,Ve),0<de.length&&(Ve=new Ci(Ve,t,null,a,X),ee.push({event:Ve,listeners:de}),Ie?Ve.data=Ie:(Ie=Da(a),Ie!==null&&(Ve.data=Ie)))),(Ie=Pn?vS(t,a):ES(t,a))&&(Ve=Wc(q,"onBeforeInput"),0<Ve.length&&(de=new Ci("onBeforeInput","beforeinput",null,a,X),ee.push({event:de,listeners:Ve}),de.data=Ie)),h1(ee,t,q,a,X)}Sv(ee,s)})}function Vl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Wc(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Wn(t,a),f!=null&&l.unshift(Vl(t,f,d)),f=Wn(t,s),f!=null&&l.push(Vl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function p1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rv(t,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var b=a,N=b.alternate,q=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||q===null||(N=q,f?(q=Wn(a,d),q!=null&&v.unshift(Vl(a,q,N))):f||(q=Wn(a,d),q!=null&&v.push(Vl(a,q,N)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var g1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function Cv(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(y1,"")}function xv(t,s){return s=Cv(s),Cv(t)===s}function Ze(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&fn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":Zo(t,l,d);break;case"data":if(s!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Ze(t,s,"name",f.name,f,null),Ze(t,s,"formEncType",f.formEncType,f,null),Ze(t,s,"formMethod",f.formMethod,f,null),Ze(t,s,"formTarget",f.formTarget,f,null)):(Ze(t,s,"encType",f.encType,f,null),Ze(t,s,"method",f.method,f,null),Ze(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wu.get(a)||a,ba(t,a,l))}}function om(t,s,a,l,f,d){switch(a){case"style":Zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Jt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,d,v,a,null)}}f&&Ze(t,s,"srcSet",a.srcSet,a,null),l&&Ze(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=v=f=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Ze(t,s,l,X,a,null)}}Qu(t,d,b,N,q,v,f,!1);return;case"select":Oe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Ze(t,s,f,b,a,null)}s=d,a=v,t.multiple=!!l,s!=null?Ns(t,!!l,s,!1):a!=null&&Ns(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Ze(t,s,v,b,a,null)}Is(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,s,N,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Oe(Ml[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,q,l,a,null)}return;default:if(Aa(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&om(t,s,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,s,b,l,a,null))}function _1(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,N=null,q=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||Ze(t,s,Y,null,l,ee)}}for(var H in l){var Y=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Y!=null||ee!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==ee&&Ze(t,s,H,Y,l,ee)}}Sa(t,v,b,N,q,X,d,f);return;case"select":Y=v=b=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||Ze(t,s,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==N&&Ze(t,s,f,d,l,N)}s=b,a=v,l=Y,H!=null?Ns(t,!!a,H,!1):!!l!=!!a&&(s!=null?Ns(t,!!a,s,!0):Ns(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,s,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Ze(t,s,v,f,l,d)}Xu(t,H,Y);return;case"option":for(var fe in a)H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:Ze(t,s,fe,null,l,H));for(N in l)H=l[N],Y=a[N],l.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Ze(t,s,N,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Ze(t,s,_e,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Ze(t,s,q,H,l,Y)}return;default:if(Aa(s)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&om(t,s,et,void 0,l,H);for(X in l)H=l[X],Y=a[X],!l.hasOwnProperty(X)||H===Y||H===void 0&&Y===void 0||om(t,s,X,H,l,Y);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ze(t,s,L,null,l,H);for(ee in l)H=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||H===Y||H==null&&Y==null||Ze(t,s,ee,H,l,Y)}function Nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,b=f.duration;if(d&&b&&Nv(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>b)break;var X=N.transferSize,ee=N.initiatorType;X&&Nv(ee)&&(N=N.responseEnd,v+=X*(N<b?1:(b-q)/(N-q)))}if(--l,s+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lm=null,um=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function cm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hm=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===hm?!1:(hm=t,!0):(hm=null,!1)}var Ov=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(b1)}:Ov;function b1(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function Vv(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ao(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[yi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&jl(t.ownerDocument.body);a=f}while(a);ao(s)}function jv(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function fm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function S1(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function A1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function kv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$?"||t.data==="$~"}function mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function R1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var pm=null;function Pv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return qn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Uv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Lv(t,s,a){switch(s=Zc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);wa(t)}var Hn=new Map,zv=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=ae.d;ae.d={f:C1,r:x1,D:N1,C:I1,L:D1,m:O1,X:V1,S:M1,M:j1};function C1(){var t=fs.f(),s=Hc();return t||s}function x1(t){var s=Vn(t);s!==null&&s.tag===5&&s.type==="form"?i_(s):fs.r(t)}var io=typeof document>"u"?null:document;function Bv(t,s,a){var l=io;if(l&&typeof s=="string"&&s){var f=hn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),zv.has(f)||(zv.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Jt(s,"link",t),St(s),l.head.appendChild(s)))}}function N1(t){fs.D(t),Bv("dns-prefetch",t,null)}function I1(t,s){fs.C(t,s),Bv("preconnect",t,s)}function D1(t,s,a){fs.L(t,s,a);var l=io;if(l&&t&&s){var f='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(s){case"style":d=so(t);break;case"script":d=ro(t)}Hn.has(d)||(t=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Hn.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(kl(d))||s==="script"&&l.querySelector(Pl(d))||(s=l.createElement("link"),Jt(s,"link",t),St(s),l.head.appendChild(s)))}}function O1(t,s){fs.m(t,s);var a=io;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!Hn.has(d)&&(t=w({rel:"modulepreload",href:t},s),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Jt(l,"link",t),St(l),a.head.appendChild(l)}}}function M1(t,s,a){fs.S(t,s,a);var l=io;if(l&&t){var f=vi(l).hoistableStyles,d=so(t);s=s||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(kl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Hn.get(d))&&gm(t,a);var N=v=l.createElement("link");St(N),Jt(N,"link",t),N._p=new Promise(function(q,X){N.onload=q,N.onerror=X}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,th(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function V1(t,s){fs.X(t,s);var a=io;if(a&&t){var l=vi(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=w({src:t,async:!0},s),(s=Hn.get(f))&&ym(t,s),d=a.createElement("script"),St(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function j1(t,s){fs.M(t,s);var a=io;if(a&&t){var l=vi(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=w({src:t,async:!0,type:"module"},s),(s=Hn.get(f))&&ym(t,s),d=a.createElement("script"),St(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Fv(t,s,a,l){var f=(f=Ne.current)?eh(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=so(a.href),a=vi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var d=vi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(kl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||k1(f,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ro(a),a=vi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function so(t){return'href="'+hn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function $v(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function k1(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Jt(s,"link",a),St(s),t.head.appendChild(s))}function ro(t){return'[src="'+hn(t)+'"]'}function Pl(t){return"script[async]"+t}function qv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return s.instance=l,St(l),l;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Jt(l,"style",f),th(l,a.precedence,t),s.instance=l;case"stylesheet":f=so(a.href);var d=t.querySelector(kl(f));if(d)return s.state.loading|=4,s.instance=d,St(d),d;l=$v(a),(f=Hn.get(f))&&gm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),Jt(d,"link",l),s.state.loading|=4,th(d,a.precedence,t),s.instance=d;case"script":return d=ro(a.src),(f=t.querySelector(Pl(d)))?(s.instance=f,St(f),f):(l=a,(f=Hn.get(d))&&(l=w({},a),ym(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Jt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,th(l,a.precedence,t));return s.instance}function th(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===s)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function gm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function ym(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var nh=null;function Hv(t,s,a){if(nh===null){var l=new Map,f=nh=new Map;f.set(a,l)}else f=nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Gv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function P1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function U1(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=so(l.href),d=s.querySelector(kl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ih.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=s.ownerDocument||s,l=$v(l),(f=Hn.get(f))&&gm(l,f),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),Jt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ih.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var _m=0;function L1(t,s){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&_m===0&&(_m=62500*v1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>_m?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function rh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,s.forEach(z1,t),sh=null,ih.call(t))}function z1(t,s){if(!(s.state.loading&4)){var a=sh.get(t);if(a)var l=a.get(null);else{a=new Map,sh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Ul={$$typeof:se,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function B1(t,s,a,l,f,d,v,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Yv(t,s,a,l,f,d,v,b,N,q,X,ee){return t=new B1(t,s,a,v,N,q,X,ee,b),s=1,d===!0&&(s|=24),d=bn(3,null,null,s),t.current=d,d.stateNode=t,s=Jf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},td(d),t}function Qv(t){return t?(t=ka,t):ka}function Xv(t,s,a,l,f,d){f=Qv(f),l.context===null?l.context=f:l.pendingContext=f,l=Fs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$s(t,l,s),a!==null&&(yn(a,t,s),gl(a,t,s))}function Jv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function vm(t,s){Jv(t,s),(t=t.alternate)&&Jv(t,s)}function Wv(t){if(t.tag===13||t.tag===31){var s=$r(t,67108864);s!==null&&yn(s,t,67108864),vm(t,67108864)}}function Zv(t){if(t.tag===13||t.tag===31){var s=xn();s=Dr(s);var a=$r(t,s);a!==null&&yn(a,t,s),vm(t,s)}}var ah=!0;function F1(t,s,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=2,Em(t,s,a,l)}finally{ae.p=d,J.T=f}}function $1(t,s,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=8,Em(t,s,a,l)}finally{ae.p=d,J.T=f}}function Em(t,s,a,l){if(ah){var f=Tm(l);if(f===null)am(t,s,l,oh,a),tE(t,l);else if(H1(f,t,s,a,l))l.stopPropagation();else if(tE(t,l),s&4&&-1<q1.indexOf(t)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=di(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-pt(v);b.entanglements[1]|=N,v&=~N}Oi(d),(He&6)===0&&($c=ln()+500,Ol(0))}}break;case 31:case 13:b=$r(d,2),b!==null&&yn(b,d,2),Hc(),vm(d,2)}if(d=Tm(l),d===null&&am(t,s,l,oh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else am(t,s,l,null,a)}}function Tm(t){return t=jn(t),wm(t)}var oh=null;function wm(t){if(oh=null,t=_i(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return oh=t,null}function eE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cr()){case Bo:return 2;case Fo:return 8;case Cs:case xf:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var bm=!1,er=null,tr=null,nr=null,Ll=new Map,zl=new Map,ir=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(t,s){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ll.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(s.pointerId)}}function Bl(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Vn(s),s!==null&&Wv(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function H1(t,s,a,l,f){switch(s){case"focusin":return er=Bl(er,t,s,a,l,f),!0;case"dragenter":return tr=Bl(tr,t,s,a,l,f),!0;case"mouseover":return nr=Bl(nr,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,Bl(Ll.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,zl.set(d,Bl(zl.get(d)||null,t,s,a,l,f)),!0}return!1}function nE(t){var s=_i(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){Zv(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){Zv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return s=Vn(a),s!==null&&Wv(s),t.blockedOn=a,!1;s.shift()}return!0}function iE(t,s,a){lh(t)&&a.delete(s)}function G1(){bm=!1,er!==null&&lh(er)&&(er=null),tr!==null&&lh(tr)&&(tr=null),nr!==null&&lh(nr)&&(nr=null),Ll.forEach(iE),zl.forEach(iE)}function uh(t,s){t.blockedOn===s&&(t.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,G1)))}var ch=null;function sE(t){ch!==t&&(ch=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ch===t&&(ch=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var d=Vn(a);d!==null&&(t.splice(s,3),s-=3,Td(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ao(t){function s(N){return uh(N,t)}er!==null&&uh(er,t),tr!==null&&uh(tr,t),nr!==null&&uh(nr,t),Ll.forEach(s),zl.forEach(s);for(var a=0;a<ir.length;a++){var l=ir[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)nE(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Bt]||null;if(typeof d=="function")v||sE(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Bt]||null)b=v.formAction;else if(wm(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),sE(a)}}}function rE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Sm(t){this._internalRoot=t}hh.prototype.render=Sm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=xn();Xv(a,l,t,s,null,null)},hh.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Xv(t.current,2,null,t,null,null),Hc(),s[gi]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Hu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,t),a===0&&nE(t)}};var aE=e.version;if(aE!=="19.2.3")throw Error(r(527,aE,"19.2.3"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Kn=fh.inject(K1),Gt=fh}catch{}}return $l.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=d_,d=m_,v=p_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Yv(t,1,!1,null,null,a,l,null,f,d,v,rE),t[gi]=s.current,rm(t),new Sm(s)},$l.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=d_,v=m_,b=p_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),s=Yv(t,1,!0,s,a??null,l,f,N,d,v,b,rE),s.context=Qv(null),a=s.current,l=xn(),l=Dr(l),f=Fs(l),f.callback=null,$s(a,f,l),a=l,s.current.lanes=a,Nr(s,a),Oi(s),t[gi]=s.current,rm(t),new hh(s)},$l.version="19.2.3",$l}var gE;function iA(){if(gE)return Cm.exports;gE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cm.exports=nA(),Cm.exports}var sA=iA();const rA=dT(sA);var yE="popstate";function aA(i={}){function e(r,o){let{pathname:u,search:h,hash:m}=r.location;return Wm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:su(o)}return lA(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Dn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substring(2,10)}function _E(i,e){return{usr:i.state,key:i.key,idx:e}}function Wm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||r||oA()}}function su({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Co(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function lA(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",y=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function w(){m="POP";let k=T(),Q=k==null?null:k-p;p=k,y&&y({action:m,location:D.location,delta:Q})}function A(k,Q){m="PUSH";let te=Wm(D.location,k,Q);p=T()+1;let se=_E(te,p),ge=D.createHref(te);try{h.pushState(se,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ge)}u&&y&&y({action:m,location:D.location,delta:1})}function V(k,Q){m="REPLACE";let te=Wm(D.location,k,Q);p=T();let se=_E(te,p),ge=D.createHref(te);h.replaceState(se,"",ge),u&&y&&y({action:m,location:D.location,delta:0})}function K(k){return uA(k)}let D={get action(){return m},get location(){return i(o,h)},listen(k){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(yE,w),y=k,()=>{o.removeEventListener(yE,w),y=null}},createHref(k){return e(o,k)},createURL:K,encodeLocation(k){let Q=K(k);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:V,go(k){return h.go(k)}};return D}function uA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:su(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function mT(i,e,n="/"){return cA(i,e,n,!1)}function cA(i,e,n,r){let o=typeof e=="string"?Co(e):e,u=vs(o.pathname||"/",n);if(u==null)return null;let h=pT(i);hA(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let p=wA(u);m=EA(h[y],p,r)}return m}function pT(i,e=[],n=[],r="",o=!1){let u=(h,m,y=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&y)return;ht(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let w=gs([r,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),pT(h.children,e,A,w,y)),!(h.path==null&&!h.index)&&e.push({path:w,score:_A(w,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let y of gT(h.path))u(h,m,!0,y)}),e}function gT(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=gT(r.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...h),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function hA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:vA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fA=/^:[\w-]+$/,dA=3,mA=2,pA=1,gA=10,yA=-2,vE=i=>i==="*";function _A(i,e){let n=i.split("/"),r=n.length;return n.some(vE)&&(r+=yA),e&&(r+=mA),n.filter(o=>!vE(o)).reduce((o,u)=>o+(fA.test(u)?dA:u===""?pA:gA),r)}function vA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function EA(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let m=0;m<r.length;++m){let y=r[m],p=m===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=Mh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},T),A=y.route;if(!w&&p&&n&&!r[r.length-1].route.index&&(w=Mh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:gs([u,w.pathname]),pathnameBase:RA(gs([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=gs([u,w.pathnameBase]))}return h}function Mh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=TA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:T,isOptional:w},A)=>{if(T==="*"){let K=m[A]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const V=m[A];return w&&!V?p[T]=void 0:p[T]=(V||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function TA(i,e=!1,n=!0){Dn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function wA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function vs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bA=i=>yT.test(i);function SA(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?Co(i):i,u;if(n)if(bA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=EE(n.substring(1),"/"):u=EE(n,e)}else u=e;return{pathname:u,search:CA(r),hash:xA(o)}}function EE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Np(i){let e=AA(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ip(i,e,n,r=!1){let o;typeof i=="string"?o=Co(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let y=SA(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||T)&&(y.pathname+="/"),y}var gs=i=>i.join("/").replace(/\/\/+/g,"/"),RA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,xA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,NA=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function IA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function DA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vT(i,e){let n=i;if(typeof n!="string"||!yT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(_T)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=vs(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var OA=["GET",...ET];new Set(OA);var xo=U.createContext(null);xo.displayName="DataRouter";var nf=U.createContext(null);nf.displayName="DataRouterState";var MA=U.createContext(!1),TT=U.createContext({isTransitioning:!1});TT.displayName="ViewTransition";var VA=U.createContext(new Map);VA.displayName="Fetchers";var jA=U.createContext(null);jA.displayName="Await";var On=U.createContext(null);On.displayName="Navigation";var pu=U.createContext(null);pu.displayName="Location";var ci=U.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Dp=U.createContext(null);Dp.displayName="RouteError";var wT="REACT_ROUTER_ERROR",kA="REDIRECT",PA="ROUTE_ERROR_RESPONSE";function UA(i){if(i.startsWith(`${wT}:${kA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LA(i){if(i.startsWith(`${wT}:${PA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new NA(e.status,e.statusText,e.data)}catch{}}function zA(i,{relative:e}={}){ht(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(On),{hash:o,pathname:u,search:h}=gu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gs([n,u])),r.createHref({pathname:m,search:h,hash:o})}function No(){return U.useContext(pu)!=null}function As(){return ht(No(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(pu).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ST(i){U.useContext(On).static||U.useLayoutEffect(i)}function sf(){let{isDataRoute:i}=U.useContext(ci);return i?tR():BA()}function BA(){ht(No(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(xo),{basename:e,navigator:n}=U.useContext(On),{matches:r}=U.useContext(ci),{pathname:o}=As(),u=JSON.stringify(Np(r)),h=U.useRef(!1);return ST(()=>{h.current=!0}),U.useCallback((y,p={})=>{if(Dn(h.current,bT),!h.current)return;if(typeof y=="number"){n.go(y);return}let T=Ip(y,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:gs([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,i])}var FA=U.createContext(null);function $A(i){let e=U.useContext(ci).outlet;return U.useMemo(()=>e&&U.createElement(FA.Provider,{value:i},e),[e,i])}function gu(i,{relative:e}={}){let{matches:n}=U.useContext(ci),{pathname:r}=As(),o=JSON.stringify(Np(n));return U.useMemo(()=>Ip(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function qA(i,e){return AT(i,e)}function AT(i,e,n,r,o){ht(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(On),{matches:h}=U.useContext(ci),m=h[h.length-1],y=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let te=w&&w.path||"";CT(p,!w||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=As(),V;if(e){let te=typeof e=="string"?Co(e):e;ht(T==="/"||te.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=A;let K=V.pathname||"/",D=K;if(T!=="/"){let te=T.replace(/^\//,"").split("/");D="/"+K.replace(/^\//,"").split("/").slice(te.length).join("/")}let k=mT(i,{pathname:D});Dn(w||k!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Dn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=QA(k&&k.map(te=>Object.assign({},te,{params:Object.assign({},y,te.params),pathname:gs([T,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?T:gs([T,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,r,o);return e&&Q?U.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Q):Q}function HA(){let i=eR(),e=IA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,h)}var GA=U.createElement(HA,null),RT=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=LA(i.digest);n&&(i=n)}let e=i!==void 0?U.createElement(ci.Provider,{value:this.props.routeContext},U.createElement(Dp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?U.createElement(KA,{error:i},e):e}};RT.contextType=MA;var Om=new WeakMap;function KA({children:i,error:e}){let{basename:n}=U.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=UA(e.digest);if(r){let o=Om.get(e);if(o)throw o;let u=vT(r.location,n);if(_T&&!Om.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Om.set(e,h),h}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function YA({routeContext:i,match:e,children:n}){let r=U.useContext(xo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ci.Provider,{value:i},n)}function QA(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let T=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);ht(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,y=-1;if(n)for(let T=0;T<u.length;T++){let w=u[T];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=T),w.route.id){let{loaderData:A,errors:V}=n,K=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!V||V[w.route.id]===void 0);if(w.route.lazy||K){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=n&&r?(T,w)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:DA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((T,w,A)=>{let V,K=!1,D=null,k=null;n&&(V=h&&w.route.id?h[w.route.id]:void 0,D=w.route.errorElement||GA,m&&(y<0&&A===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,k=null):y===A&&(K=!0,k=w.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,A+1)),te=()=>{let se;return V?se=D:K?se=k:w.route.Component?se=U.createElement(w.route.Component,null):w.route.element?se=w.route.element:se=T,U.createElement(YA,{match:w,routeContext:{outlet:T,matches:Q,isDataRoute:n!=null},children:se})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?U.createElement(RT,{location:n.location,revalidation:n.revalidation,component:D,error:V,children:te(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:p}):te()},null)}function Op(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(i){let e=U.useContext(xo);return ht(e,Op(i)),e}function JA(i){let e=U.useContext(nf);return ht(e,Op(i)),e}function WA(i){let e=U.useContext(ci);return ht(e,Op(i)),e}function Mp(i){let e=WA(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ZA(){return Mp("useRouteId")}function eR(){let i=U.useContext(Dp),e=JA("useRouteError"),n=Mp("useRouteError");return i!==void 0?i:e.errors?.[n]}function tR(){let{router:i}=XA("useNavigate"),e=Mp("useNavigate"),n=U.useRef(!1);return ST(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Dn(n.current,bT),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var TE={};function CT(i,e,n){!e&&!TE[i]&&(TE[i]=!0,Dn(!1,n))}U.memo(nR);function nR({routes:i,future:e,state:n,onError:r}){return AT(i,void 0,n,r,e)}function xT({to:i,replace:e,state:n,relative:r}){ht(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(On);Dn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ci),{pathname:h}=As(),m=sf(),y=Ip(i,Np(u),h,r==="path"),p=JSON.stringify(y);return U.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:r})},[m,p,r,e,n]),null}function iR(i){return $A(i.context)}function Wt(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sR({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),y=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:T="",hash:w="",state:A=null,key:V="default"}=n,K=U.useMemo(()=>{let D=vs(p,m);return D==null?null:{location:{pathname:D,search:T,hash:w,state:A,key:V},navigationType:r}},[m,p,T,w,A,V,r]);return Dn(K!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${w}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:U.createElement(On.Provider,{value:y},U.createElement(pu.Provider,{children:e,value:K}))}function rR({children:i,location:e}){return qA(Zm(i),e)}function Zm(i,e=[]){let n=[];return U.Children.forEach(i,(r,o)=>{if(!U.isValidElement(r))return;let u=[...e,o];if(r.type===U.Fragment){n.push.apply(n,Zm(r.props.children,u));return}ht(r.type===Wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Zm(r.props.children,u)),n.push(h)}),n}var Th="get",wh="application/x-www-form-urlencoded";function rf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function aR(i){return rf(i)&&i.tagName.toLowerCase()==="button"}function oR(i){return rf(i)&&i.tagName.toLowerCase()==="form"}function lR(i){return rf(i)&&i.tagName.toLowerCase()==="input"}function uR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function cR(i,e){return i.button===0&&(!e||e==="_self")&&!uR(i)}function ep(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let r=i[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function hR(i,e){let n=ep(i);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var dh=null;function fR(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var dR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(i){return i!=null&&!dR.has(i)?(Dn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):i}function mR(i,e){let n,r,o,u,h;if(oR(i)){let m=i.getAttribute("action");r=m?vs(m,e):null,n=i.getAttribute("method")||Th,o=Mm(i.getAttribute("enctype"))||wh,u=new FormData(i)}else if(aR(i)||lR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(r=y?vs(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Th,o=Mm(i.getAttribute("formenctype"))||Mm(m.getAttribute("enctype"))||wh,u=new FormData(m,i),!fR()){let{name:p,type:T,value:w}=i;if(T==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,w)}}else{if(rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,r=null,o=wh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pR(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&vs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function gR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _R(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await gR(u,n);return h.links?h.links():[]}return[]}));return wR(r.flat(1).filter(yR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wE(i,e,n,r,o,u){let h=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,m=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>h(y,p)||m(y,p)):u==="data"?e.filter((y,p)=>{let T=r.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(h(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function vR(i,e,{includeHydrateFallback:n}={}){return ER(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ER(i){return[...new Set(i)]}function TR(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function wR(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(TR(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function NT(){let i=U.useContext(xo);return Vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bR(){let i=U.useContext(nf);return Vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var jp=U.createContext(void 0);jp.displayName="FrameworkContext";function IT(){let i=U.useContext(jp);return Vp(i,"You must render this element inside a <HydratedRouter> element"),i}function SR(i,e){let n=U.useContext(jp),[r,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:T,onTouchStart:w}=e,A=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let D=Q=>{Q.forEach(te=>{h(te.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[i]),U.useEffect(()=>{if(r){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[r]);let V=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:ql(m,V),onBlur:ql(y,K),onMouseEnter:ql(p,V),onMouseLeave:ql(T,K),onTouchStart:ql(w,V)}]:[!1,A,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function AR({page:i,...e}){let{router:n}=NT(),r=U.useMemo(()=>mT(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?U.createElement(CR,{page:i,matches:r,...e}):null}function RR(i){let{manifest:e,routeModules:n}=IT(),[r,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return _R(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),r}function CR({page:i,matches:e,...n}){let r=As(),{future:o,manifest:u,routeModules:h}=IT(),{basename:m}=NT(),{loaderData:y,matches:p}=bR(),T=U.useMemo(()=>wE(i,e,p,u,r,"data"),[i,e,p,u,r]),w=U.useMemo(()=>wE(i,e,p,u,r,"assets"),[i,e,p,u,r]),A=U.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let D=new Set,k=!1;if(e.forEach(te=>{let se=u.routes[te.route.id];!se||!se.hasLoader||(!T.some(ge=>ge.route.id===te.route.id)&&te.route.id in y&&h[te.route.id]?.shouldRevalidate||se.hasClientLoader?k=!0:D.add(te.route.id))}),D.size===0)return[];let Q=pR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return k&&D.size>0&&Q.searchParams.set("_routes",e.filter(te=>D.has(te.route.id)).map(te=>te.route.id).join(",")),[Q.pathname+Q.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,r,u,T,e,i,h]),V=U.useMemo(()=>vR(w,u),[w,u]),K=RR(w);return U.createElement(U.Fragment,null,A.map(D=>U.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),V.map(D=>U.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),K.map(({key:D,link:k})=>U.createElement("link",{key:D,nonce:n.nonce,...k})))}function xR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NR&&(window.__reactRouterVersion="7.12.0")}catch{}function IR({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=U.useRef();o.current==null&&(o.current=aA({window:r,v5Compat:!0}));let u=o.current,[h,m]=U.useState({action:u.action,location:u.location}),y=U.useCallback(p=>{n===!1?m(p):U.startTransition(()=>m(p))},[n]);return U.useLayoutEffect(()=>u.listen(y),[u,y]),U.createElement(sR,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OT=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:y,to:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},K){let{basename:D,unstable_useTransitions:k}=U.useContext(On),Q=typeof p=="string"&&DT.test(p),te=vT(p,D);p=te.to;let se=zA(p,{relative:o}),[ge,Te,be]=SR(r,V),I=MR(p,{replace:h,state:m,target:y,preventScrollReset:T,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:k});function R(P){e&&e(P),P.defaultPrevented||I(P)}let C=U.createElement("a",{...V,...be,href:te.absoluteURL||se,onClick:te.isExternal||u?e:R,ref:xR(K,Te),target:y,"data-discover":!Q&&n==="render"?"true":void 0});return ge&&!Q?U.createElement(U.Fragment,null,C,U.createElement(AR,{page:se})):C});OT.displayName="Link";var kp=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:y,...p},T){let w=gu(h,{relative:p.relative}),A=As(),V=U.useContext(nf),{navigator:K,basename:D}=U.useContext(On),k=V!=null&&LR(w)&&m===!0,Q=K.encodeLocation?K.encodeLocation(w).pathname:w.pathname,te=A.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(te=te.toLowerCase(),se=se?se.toLowerCase():null,Q=Q.toLowerCase()),se&&D&&(se=vs(se,D)||se);const ge=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Te=te===Q||!o&&te.startsWith(Q)&&te.charAt(ge)==="/",be=se!=null&&(se===Q||!o&&se.startsWith(Q)&&se.charAt(Q.length)==="/"),I={isActive:Te,isPending:be,isTransitioning:k},R=Te?e:void 0,C;typeof r=="function"?C=r(I):C=[r,Te?"active":null,be?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(I):u;return U.createElement(OT,{...p,"aria-current":R,className:C,ref:T,style:P,to:h,viewTransition:m},typeof y=="function"?y(I):y)});kp.displayName="NavLink";var DR=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=Th,action:m,onSubmit:y,relative:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},K)=>{let{unstable_useTransitions:D}=U.useContext(On),k=PR(),Q=UR(m,{relative:p}),te=h.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&DT.test(m),ge=Te=>{if(y&&y(Te),Te.defaultPrevented)return;Te.preventDefault();let be=Te.nativeEvent.submitter,I=be?.getAttribute("formmethod")||h,R=()=>k(be||Te.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A});D&&n!==!1?U.startTransition(()=>R()):R()};return U.createElement("form",{ref:K,method:te,action:Q,onSubmit:r?y:ge,...V,"data-discover":!se&&i==="render"?"true":void 0})});DR.displayName="Form";function OR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(i){let e=U.useContext(xo);return ht(e,OR(i)),e}function MR(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let p=sf(),T=As(),w=gu(i,{relative:u});return U.useCallback(A=>{if(cR(A,e)){A.preventDefault();let V=n!==void 0?n:su(T)===su(w),K=()=>p(i,{replace:V,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});y?U.startTransition(()=>K()):K()}},[T,p,w,n,r,e,i,o,u,h,m,y])}function VR(i){Dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(ep(i)),n=U.useRef(!1),r=As(),o=U.useMemo(()=>hR(r.search,n.current?null:e.current),[r.search]),u=sf(),h=U.useCallback((m,y)=>{const p=ep(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+p,y)},[u,o]);return[o,h]}var jR=0,kR=()=>`__${String(++jR)}__`;function PR(){let{router:i}=MT("useSubmit"),{basename:e}=U.useContext(On),n=ZA(),r=i.fetch,o=i.navigate;return U.useCallback(async(u,h={})=>{let{action:m,method:y,encType:p,formData:T,body:w}=mR(u,e);if(h.navigate===!1){let A=h.fetcherKey||kR();await r(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:w,formMethod:h.method||y,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:w,formMethod:h.method||y,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function UR(i,{relative:e}={}){let{basename:n}=U.useContext(On),r=U.useContext(ci);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...gu(i||".",{relative:e})},h=As();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(T=>T==="")){m.delete("index"),y.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gs([n,u.pathname])),su(u)}function LR(i,{relative:e}={}){let n=U.useContext(TT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MT("useViewTransitionState"),o=gu(i,{relative:e});if(!n.isTransitioning)return!1;let u=vs(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=vs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mh(o.pathname,h)!=null||Mh(o.pathname,u)!=null}const bE=i=>{let e;const n=new Set,r=(p,T)=>{const w=typeof p=="function"?p(e):p;if(!Object.is(w,e)){const A=e;e=T??(typeof w!="object"||w===null)?w:Object.assign({},e,w),n.forEach(V=>V(e,A))}},o=()=>e,m={setState:r,getState:o,getInitialState:()=>y,subscribe:p=>(n.add(p),()=>n.delete(p))},y=e=i(r,o,m);return m},zR=(i=>i?bE(i):bE),BR=i=>i;function FR(i,e=BR){const n=Hl.useSyncExternalStore(i.subscribe,Hl.useCallback(()=>e(i.getState()),[i,e]),Hl.useCallback(()=>e(i.getInitialState()),[i,e]));return Hl.useDebugValue(n),n}const SE=i=>{const e=zR(i),n=r=>FR(e,r);return Object.assign(n,e),n},$R=(i=>i?SE(i):SE),VT=$R(i=>({user:null,loading:!0,setUser:e=>i({user:e}),setLoading:e=>i({loading:e})})),he={card:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",header:"",title:"w-full",selection:"relative w-full h-12 cursor-pointer mt-[-3rem]",list_content:"my-4 p-2 text-cyan-500 space-y-2 text-sm",icon_list:"flex gap-2 items-center",tags:"inline-block px-1 text-xs font-medium rounded",name:"text-base font-medium text-white cursor-pointer",selected_name:"text-xl font-bold text-cyan-400 w-full cursor-pointer",contact_grid:"flex gap-1 items-center"},yu={profile_initial:"rounded-full h-12 w-12 flex items-center justify-center font-light text-2xl"},qR={error:"text-red-700 text-center py-8",notice:"text-cyan-400 text-center py-8"},HR={page:"max-w-8xl",header:"h-[8vh] lg:h-[7vh] bg-blue-700/40",title:"p-4 flex items-center gap-2 h-full text-2xl font-bold text-cyan-500",content:"max-h-[81vh] lg:max-h-[93vh] overflow-y-scroll"},GR={layout:"space-y-4 p-4 bg-blue-800/50 border border-cyan-500 rounded-lg",label:"block text-sm font-medium text-cyan-500 mb-1",input:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",action:"flex flex-col sm:flex-row gap-2 pt-2"},KR={solid:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-cyan-700 to-cyan-500 hover:from-cyan-600 hover:to-cyan-400 border-cyan-500 hover:border-cyan-300 text-cyan-200 hover:text-cyan-50",outline:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-blue-700/60 to-blue-800/60 hover:from-blue-600/70 hover:to-blue-500/70 border-cyan-500 hover:border-cyan-300 text-cyan-500 hover:text-cyan-300"},YR={dark:"relative w-full h-screen overflow-hidden bg-gradient-to-b from-blue-900 to-blue-950"},B={background:YR,system:qR,view:HR,form:GR,button:KR};function QR(){const[i,e]=U.useState([]),n=50,r=o=>{const u=["bg-blue-400","bg-blue-500","bg-cyan-400","bg-teal-400","bg-blue-800","bg-white"],h=["opacity-20","opacity-30","opacity-40","opacity-50"];return{id:o,x:1+Math.random()*99,y:110+Math.random()*20,size:10+Math.random()*100,color:u[Math.floor(Math.random()*u.length)],opacity:h[Math.floor(Math.random()*h.length)],speed:.2+Math.random()*.3,wobble:Math.random()*2-1,wobbleSpeed:.01+Math.random()*.02}};return U.useEffect(()=>{const o=[];for(let y=0;y<n;y++){const p=r(y);p.y=Math.random()*120,o.push(p)}e(o);let u,h=0;const m=y=>{const p=y-h;p>16&&(h=y,e(T=>T.map(w=>{const A=w.y-w.speed*p/50;if(A<-10)return r(w.id);const V=w.wobble+w.wobbleSpeed,K=w.x+Math.sin(V)*.05;return{...w,x:K,y:A,wobble:V}}))),u=requestAnimationFrame(m)};return u=requestAnimationFrame(m),()=>{cancelAnimationFrame(u)}},[]),g.jsx("div",{className:`${B.background.dark}`,children:i.map(o=>g.jsx("div",{className:`absolute rounded-full ${o.color} ${o.opacity}`,style:{left:`${o.x}%`,bottom:`${100-o.y}%`,width:`${o.size}px`,height:`${o.size}px`,boxShadow:"0 0 8px rgba(255, 255, 255, 0.2)",transform:"translate(-50%, 50%)"}},o.id))})}const XR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AE=i=>{const e=JR(i);return e.charAt(0).toUpperCase()+e.slice(1)},jT=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),WR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eC=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:h,...m},y)=>U.createElement("svg",{ref:y,...ZR,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:jT("lucide",o),...!u&&!WR(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,T])=>U.createElement(p,T)),...Array.isArray(u)?u:[u]]));const Ht=(i,e)=>{const n=U.forwardRef(({className:r,...o},u)=>U.createElement(eC,{ref:u,iconNode:e,className:jT(`lucide-${XR(AE(i))}`,`lucide-${i}`,r),...o}));return n.displayName=AE(i),n};const tC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nC=Ht("briefcase",tC);const iC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sC=Ht("chevron-down",iC);const rC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aC=Ht("chevron-up",rC);const oC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vh=Ht("file-text",oC);const lC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pp=Ht("info",lC);const uC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Up=Ht("layout-dashboard",uC);const cC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hC=Ht("log-in",cC);const fC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kT=Ht("log-out",fC);const dC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vo=Ht("mail",dC);const mC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PT=Ht("map-pin",mC);const pC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],_u=Ht("pencil",pC);const gC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Eo=Ht("phone",gC);const yC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lp=Ht("plus",yC);const _C=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zp=Ht("settings",_C);const vC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EC=Ht("trash-2",vC);const TC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Bp=Ht("user-plus",TC);const wC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ji=Ht("users",wC);const bC=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],Vi=Ht("washing-machine",bC),SC=()=>{};var RE={};const UT=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AC=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,y=o+2<i.length,p=y?i[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,V=p&63;y||(V=64,h||(A=64)),r.push(n[T],n[w],n[A],n[V])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(UT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):AC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new RC;const A=u<<2|m>>4;if(r.push(A),p!==64){const V=m<<4&240|p>>2;if(r.push(V),w!==64){const K=p<<6&192|w;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class RC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CC=function(i){const e=UT(i);return LT.encodeByteArray(e,!0)},jh=function(i){return CC(i).replace(/\./g,"")},zT=function(i){try{return LT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NC=()=>xC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof RE>"u")return;const i=RE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},DC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zT(i[1]);return e&&JSON.parse(e)},af=()=>{try{return SC()||NC()||IC()||DC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},BT=i=>af()?.emulatorHosts?.[i],FT=i=>{const e=BT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$T=()=>af()?.config,qT=i=>af()?.[`_${i}`];class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ha(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fp(i){return(await fetch(i,{credentials:"include"})).ok}function HT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[jh(JSON.stringify(n)),jh(JSON.stringify(h)),""].join(".")}const Wl={};function MC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function VC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let CE=!1;function $p(i,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Wl[i]===e||Wl[i]||CE)return;Wl[i]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=MC().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{CE=!0,h()},A}function T(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=VC(r),V=n("text"),K=document.getElementById(V)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),Q=n("preprendIcon"),te=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;m(se),T(k,D);const ge=p();y(te,Q),se.append(te,K,k,ge),document.body.appendChild(se)}u?(K.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function kC(){const i=af()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function LC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function BC(){return!kC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FC(){try{return typeof indexedDB=="object"}catch{return!1}}function $C(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const qC="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qC,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?HC(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Gi(o,m,r)}}function HC(i,e){return i.replace(GC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GC=/\{\$([^}]+)}/g;function KC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ra(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(xE(u)&&xE(h)){if(!ra(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function xE(i){return i!==null&&typeof i=="object"}function Eu(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function YC(i,e){const n=new QC(i,e);return n.subscribe.bind(n)}class QC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Vm(){}function zt(i){return i&&i._delegate?i._delegate:i}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class JC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZC(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WC(i){return i===na?void 0:i}function ZC(i){return i.instantiationMode==="EAGER"}class ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const tx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},nx=je.INFO,ix={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},sx=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=ix[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=nx,this._logHandler=sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const rx=(i,e)=>e.some(n=>i instanceof n);let NE,IE;function ax(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ox(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,tp=new WeakMap,KT=new WeakMap,jm=new WeakMap,Hp=new WeakMap;function lx(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(cr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,i)}).catch(()=>{}),Hp.set(e,i),e}function ux(i){if(tp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});tp.set(i,e)}let np={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return tp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||KT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cx(i){np=i(np)}function hx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(km(this),e,...n);return KT.set(r,e.sort?e.sort():[e]),cr(r)}:ox().includes(i)?function(...e){return i.apply(km(this),e),cr(GT.get(this))}:function(...e){return cr(i.apply(km(this),e))}}function fx(i){return typeof i=="function"?hx(i):(i instanceof IDBTransaction&&ux(i),rx(i,ax())?new Proxy(i,np):i)}function cr(i){if(i instanceof IDBRequest)return lx(i);if(jm.has(i))return jm.get(i);const e=fx(i);return e!==i&&(jm.set(i,e),Hp.set(e,i)),e}const km=i=>Hp.get(i);function dx(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=cr(h);return r&&h.addEventListener("upgradeneeded",y=>{r(cr(h.result),y.oldVersion,y.newVersion,cr(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const mx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],Pm=new Map;function DE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=px.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mx.includes(n)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return Pm.set(e,u),u}cx(i=>({...i,get:(e,n,r)=>DE(e,n)||i.get(e,n,r),has:(e,n)=>!!DE(e,n)||i.has(e,n)}));class gx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yx(i){return i.getComponent()?.type==="VERSION"}const ip="@firebase/app",OE="0.14.6";const Es=new qp("@firebase/app"),_x="@firebase/app-compat",vx="@firebase/analytics-compat",Ex="@firebase/analytics",Tx="@firebase/app-check-compat",wx="@firebase/app-check",bx="@firebase/auth",Sx="@firebase/auth-compat",Ax="@firebase/database",Rx="@firebase/data-connect",Cx="@firebase/database-compat",xx="@firebase/functions",Nx="@firebase/functions-compat",Ix="@firebase/installations",Dx="@firebase/installations-compat",Ox="@firebase/messaging",Mx="@firebase/messaging-compat",Vx="@firebase/performance",jx="@firebase/performance-compat",kx="@firebase/remote-config",Px="@firebase/remote-config-compat",Ux="@firebase/storage",Lx="@firebase/storage-compat",zx="@firebase/firestore",Bx="@firebase/ai",Fx="@firebase/firestore-compat",$x="firebase",qx="12.6.0";const sp="[DEFAULT]",Hx={[ip]:"fire-core",[_x]:"fire-core-compat",[Ex]:"fire-analytics",[vx]:"fire-analytics-compat",[wx]:"fire-app-check",[Tx]:"fire-app-check-compat",[bx]:"fire-auth",[Sx]:"fire-auth-compat",[Ax]:"fire-rtdb",[Rx]:"fire-data-connect",[Cx]:"fire-rtdb-compat",[xx]:"fire-fn",[Nx]:"fire-fn-compat",[Ix]:"fire-iid",[Dx]:"fire-iid-compat",[Ox]:"fire-fcm",[Mx]:"fire-fcm-compat",[Vx]:"fire-perf",[jx]:"fire-perf-compat",[kx]:"fire-rc",[Px]:"fire-rc-compat",[Ux]:"fire-gcs",[Lx]:"fire-gcs-compat",[zx]:"fire-fst",[Fx]:"fire-fst-compat",[Bx]:"fire-vertex","fire-js":"fire-js",[$x]:"fire-js-all"};const kh=new Map,Gx=new Map,rp=new Map;function ME(i,e){try{i.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function aa(i){const e=i.name;if(rp.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,i);for(const n of kh.values())ME(n,i);for(const n of Gx.values())ME(n,i);return!0}function of(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Nn(i){return i==null?!1:i.settings!==void 0}const Kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new vu("app","Firebase",Kx);class Yx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const fa=qx;function YT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:sp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(n||(n=$T()),!n)throw hr.create("no-options");const u=kh.get(o);if(u){if(ra(n,u.options)&&ra(r,u.config))return u;throw hr.create("duplicate-app",{appName:o})}const h=new ex(o);for(const y of rp.values())h.addComponent(y);const m=new Yx(n,r,h);return kh.set(o,m),m}function Gp(i=sp){const e=kh.get(i);if(!e&&i===sp&&$T())return YT();if(!e)throw hr.create("no-app",{appName:i});return e}function ki(i,e,n){let r=Hx[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(h.join(" "));return}aa(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Qx="firebase-heartbeat-database",Xx=1,ru="firebase-heartbeat-store";let Um=null;function QT(){return Um||(Um=dx(Qx,Xx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw hr.create("idb-open",{originalErrorMessage:i.message})})),Um}async function Jx(i){try{const n=(await QT()).transaction(ru),r=await n.objectStore(ru).get(XT(i));return await n.done,r}catch(e){if(e instanceof Gi)Es.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function VE(i,e){try{const r=(await QT()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,XT(i)),await r.done}catch(n){if(n instanceof Gi)Es.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function XT(i){return`${i.name}!${i.options.appId}`}const Wx=1024,Zx=30;class e2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Zx){const o=i2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jE(),{heartbeatsToSend:n,unsentEntries:r}=t2(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function jE(){return new Date().toISOString().substring(0,10)}function t2(i,e=Wx){const n=[];let r=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),kE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FC()?$C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kE(i){return jh(JSON.stringify({version:2,heartbeats:i})).length}function i2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function s2(i){aa(new mr("platform-logger",e=>new gx(e),"PRIVATE")),aa(new mr("heartbeat",e=>new e2(e),"PRIVATE")),ki(ip,OE,i),ki(ip,OE,"esm2020"),ki("fire-js","")}s2("");var r2="firebase",a2="12.7.0";ki(r2,a2,"app");function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o2=JT,WT=new vu("auth","Firebase",JT());const Ph=new qp("@firebase/auth");function l2(i,...e){Ph.logLevel<=je.WARN&&Ph.warn(`Auth (${fa}): ${i}`,...e)}function bh(i,...e){Ph.logLevel<=je.ERROR&&Ph.error(`Auth (${fa}): ${i}`,...e)}function li(i,...e){throw Kp(i,...e)}function Pi(i,...e){return Kp(i,...e)}function ZT(i,e,n){const r={...o2(),[e]:n};return new vu("auth","Firebase",r).create(e,{appName:i.name})}function ys(i){return ZT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return WT.create(i,...e)}function ve(i,e,...n){if(!i)throw Kp(e,...n)}function ms(i){const e="INTERNAL ASSERTION FAILED: "+i;throw bh(e),new Error(e)}function Ts(i,e){i||ms(e)}function ap(){return typeof self<"u"&&self.location?.href||""}function u2(){return PE()==="http:"||PE()==="https:"}function PE(){return typeof self<"u"&&self.location?.protocol||null}function c2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u2()||UC()||"connection"in navigator)?navigator.onLine:!0}function h2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=jC()||LC()}get(){return c2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(i,e){Ts(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ew{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const f2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const d2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m2=new Tu(3e4,6e4);function Tr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function wr(i,e,n,r,o={}){return tw(i,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=Eu({key:i.config.apiKey,...h}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:y,...u};return PC()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ha(i.emulatorConfig.host)&&(p.credentials="include"),ew.fetch()(await nw(i,i.config.apiHost,n,m),p)})}async function tw(i,e,n){i._canInitEmulator=!1;const r={...f2,...e};try{const o=new g2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw mh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw mh(i,"user-disabled",h);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ZT(i,T,p);li(i,T)}}catch(o){if(o instanceof Gi)throw o;li(i,"network-request-failed",{message:String(o)})}}async function wu(i,e,n,r,o={}){const u=await wr(i,e,n,r,o);return"mfaPendingCredential"in u&&li(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function nw(i,e,n,r){const o=`${e}${n}?${r}`,u=i,h=u.config.emulator?Yp(i.config,o):`${i.config.apiScheme}://${o}`;return d2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function p2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),m2.get())})}}function mh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Pi(i,e,r);return o.customData._tokenResponse=n,o}function UE(i){return i!==void 0&&i.enterprise!==void 0}class y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _2(i,e){return wr(i,"GET","/v2/recaptchaConfig",Tr(i,e))}async function v2(i,e){return wr(i,"POST","/v1/accounts:delete",e)}async function Uh(i,e){return wr(i,"POST","/v1/accounts:lookup",e)}function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E2(i,e=!1){const n=zt(i),r=await n.getIdToken(e),o=Qp(r);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:Zl(Lm(o.auth_time)),issuedAtTime:Zl(Lm(o.iat)),expirationTime:Zl(Lm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Lm(i){return Number(i)*1e3}function Qp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=zT(n);return o?JSON.parse(o):(bh("Failed to decode base64 JWT payload"),null)}catch(o){return bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function LE(i){const e=Qp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gi&&T2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function T2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class w2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(i){const e=i.auth,n=await i.getIdToken(),r=await au(i,Uh(e,{idToken:n}));ve(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?iw(o.providerUserInfo):[],h=S2(i.providerData,u),m=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!h?.length,p=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,T)}async function b2(i){const e=zt(i);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function iw(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function A2(i,e){const n=await tw(i,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await nw(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return i.emulatorConfig&&ha(i.emulatorConfig.host)&&(y.credentials="include"),ew.fetch()(h,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R2(i,e){return wr(i,"POST","/v2/accounts:revokeToken",Tr(i,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=LE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await A2(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new fo;return r&&(ve(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return ms("not implemented")}}function rr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new w2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E2(this,e)}reload(){return b2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await au(this,v2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:V,providerData:K,stsTokenManager:D}=n;ve(w&&D,e,"internal-error");const k=fo.fromJSON(this.name,D);ve(typeof w=="string",e,"internal-error"),rr(r,e.name),rr(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof V=="boolean",e,"internal-error"),rr(u,e.name),rr(h,e.name),rr(m,e.name),rr(y,e.name),rr(p,e.name),rr(T,e.name);const Q=new ri({uid:w,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:V,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:p,lastLoginAt:T});return K&&Array.isArray(K)&&(Q.providerData=K.map(te=>({...te}))),y&&(Q._redirectEventId=y),Q}static async _fromIdTokenResponse(e,n,r=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?iw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(r);const y=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const zE=new Map;function ps(i){Ts(i instanceof Function,"Expected a class definition");let e=zE.get(i);return e?(Ts(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,zE.set(i,e),e)}class sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sw.type="NONE";const BE=sw;function Sh(i,e,n){return`firebase:${i}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(ps(BE),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ps(BE);const h=Sh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let w;if(typeof T=="string"){const A=await Uh(e,{idToken:T}).catch(()=>{});if(!A)break;w=await ri._fromGetAccountInfoResponse(e,A,T)}else w=ri._fromJSON(e,T);p!==u&&(m=w),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new mo(u,e,r):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new mo(u,e,r))}}function FE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cw(e))return"Blackberry";if(hw(e))return"Webos";if(aw(e))return"Safari";if((e.includes("chrome/")||ow(e))&&!e.includes("edge/"))return"Chrome";if(uw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function rw(i=on()){return/firefox\//i.test(i)}function aw(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ow(i=on()){return/crios\//i.test(i)}function lw(i=on()){return/iemobile/i.test(i)}function uw(i=on()){return/android/i.test(i)}function cw(i=on()){return/blackberry/i.test(i)}function hw(i=on()){return/webos/i.test(i)}function Xp(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function C2(i=on()){return Xp(i)&&!!window.navigator?.standalone}function x2(){return zC()&&document.documentMode===10}function fw(i=on()){return Xp(i)||uw(i)||hw(i)||cw(i)||/windows phone/i.test(i)||lw(i)}function dw(i,e=[]){let n;switch(i){case"Browser":n=FE(on());break;case"Worker":n=`${FE(on())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}class N2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function I2(i,e={}){return wr(i,"GET","/v2/passwordPolicy",Tr(i,e))}const D2=6;class O2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??D2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class M2{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(ys(this));const n=e?zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I2(this),n=new O2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ps(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{h=!0,y()}}else{const y=e.addObserver(n);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(i){return zt(i)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(i){lf=i}function mw(i){return lf.loadJS(i)}function j2(){return lf.recaptchaEnterpriseScript}function k2(){return lf.gapiScript}function P2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class U2{constructor(){this.enterprise=new L2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class L2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const z2="recaptcha-enterprise",pw="NO_RECAPTCHA";class B2{constructor(e){this.type=z2,this.auth=da(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new y2(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(y=>{m(y)})})}function o(u,h,m){const y=window.grecaptcha;UE(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(pw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&UE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=j2();y.length!==0&&(y+=m),mw(y).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function qE(i,e,n,r=!1,o=!1){const u=new B2(i);let h;if(o)h=pw;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function lp(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qE(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await qE(i,e,n,n==="getOobCode");return r(i,h)}else return Promise.reject(u)})}function F2(i,e){const n=of(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function $2(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ps);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function q2(i,e,n){const r=da(i);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=gw(e),{host:h,port:m}=H2(e),y=m===null?"":`:${m}`,p={url:`${u}//${h}${y}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(ra(p,r.config.emulator)&&ra(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ha(h)?(Fp(`${u}//${h}${y}`),$p("Auth",!0)):G2()}function gw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function H2(i){const e=gw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:HE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:HE(h)}}}function HE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function G2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function K2(i,e){return wr(i,"POST","/v1/accounts:signUp",e)}async function Y2(i,e){return wu(i,"POST","/v1/accounts:signInWithPassword",Tr(i,e))}async function Q2(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}async function X2(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}class ou extends Jp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ou(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,n,"signInWithPassword",Y2);case"emailLink":return Q2(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,r,"signUpPassword",K2);case"emailLink":return X2(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(i,e){return wu(i,"POST","/v1/accounts:signInWithIdp",Tr(i,e))}const J2="http://localhost";class oa extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new oa(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:J2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}function W2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z2(i){const e=Gl(Kl(i)).link,n=e?Gl(Kl(e)).deep_link_id:null,r=Gl(Kl(i)).deep_link_id;return(r?Gl(Kl(r)).link:null)||r||n||e||i}class Wp{constructor(e){const n=Gl(Kl(e)),r=n.apiKey??null,o=n.oobCode??null,u=W2(n.mode??null);ve(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Z2(e);try{return new Wp(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wp.parseLink(n);return ve(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bu extends yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends bu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class ds extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class or extends bu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends bu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function eN(i,e){return wu(i,"POST","/v1/accounts:signUp",Tr(i,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ri._fromIdTokenResponse(e,r,o),h=GE(r);return new la({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=GE(r);return new la({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function GE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class zh extends Gi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new zh(e,n,r,o)}}function _w(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,u,e,r):u})}async function tN(i,e,n=!1){const r=await au(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return la._forOperation(i,"link",r)}async function nN(i,e,n=!1){const{auth:r}=i;if(Nn(r.app))return Promise.reject(ys(r));const o="reauthenticate";try{const u=await au(i,_w(r,o,e,i),n);ve(u.idToken,r,"internal-error");const h=Qp(u.idToken);ve(h,r,"internal-error");const{sub:m}=h;return ve(i.uid===m,r,"user-mismatch"),la._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&li(r,"user-mismatch"),u}}async function vw(i,e,n=!1){if(Nn(i.app))return Promise.reject(ys(i));const r="signIn",o=await _w(i,r,e),u=await la._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(u.user),u}async function iN(i,e){return vw(da(i),e)}async function Ew(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sN(i,e,n){if(Nn(i.app))return Promise.reject(ys(i));const r=da(i),h=await lp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Ew(i),y}),m=await la._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function rN(i,e,n){return Nn(i.app)?Promise.reject(ys(i)):iN(zt(i),Io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ew(i),r})}function aN(i,e,n,r){return zt(i).onIdTokenChanged(e,n,r)}function oN(i,e,n){return zt(i).beforeAuthStateChanged(e,n)}function lN(i,e,n,r){return zt(i).onAuthStateChanged(e,n,r)}async function uN(i){return zt(i).delete()}const Bh="__sak";class Tw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cN=1e3,hN=10;class ww extends Tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);x2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ww.type="LOCAL";const fN=ww;class bw extends Tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bw.type="SESSION";const Sw=bw;function dN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),y=await dN(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];function Zp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class mN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const p=Zp("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ui(){return window}function pN(i){Ui().location.href=i}function Aw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function gN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){return navigator?.serviceWorker?.controller||null}function _N(){return Aw()?self:null}const Rw="firebaseLocalStorageDb",vN=1,Fh="firebaseLocalStorage",Cw="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,e){return i.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function EN(){const i=indexedDB.deleteDatabase(Rw);return new Su(i).toPromise()}function up(){const i=indexedDB.open(Rw,vN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Fh,{keyPath:Cw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await EN(),e(await up()))})})}async function KE(i,e,n){const r=cf(i,!0).put({[Cw]:e,value:n});return new Su(r).toPromise()}async function TN(i,e){const n=cf(i,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function YE(i,e){const n=cf(i,!0).delete(e);return new Su(n).toPromise()}const wN=800,bN=3;class xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(_N()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await KE(e,Bh,"1"),await YE(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xw.type="LOCAL";const SN=xw;new Tu(3e4,6e4);function AN(i,e){return e?ps(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class eg extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RN(i){return vw(i.auth,new eg(i),i.bypassAuthState)}function CN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),nN(n,new eg(i),i.bypassAuthState)}async function xN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),tN(n,new eg(i),i.bypassAuthState)}class Nw{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:li(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NN=new Tu(2e3,1e4);class ho extends Nw{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NN.get())};e()}}ho.currentPopupAction=null;const IN="pendingRedirect",Ah=new Map;class DN extends Nw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(i,e){const n=jN(e),r=VN(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function MN(i,e){Ah.set(i._key(),e)}function VN(i){return ps(i._redirectPersistence)}function jN(i){return Sh(IN,i.config.apiKey,i.name)}async function kN(i,e,n=!1){if(Nn(i.app))return Promise.reject(ys(i));const r=da(i),o=AN(r,e),h=await new DN(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const PN=600*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Iw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Iw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function LN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iw(i);default:return!1}}async function zN(i,e={}){return wr(i,"GET","/v1/projects",e)}const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FN=/^https?/;async function $N(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zN(i);for(const n of e)try{if(qN(n))return}catch{}li(i,"unauthorized-domain")}function qN(i){const e=ap(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!FN.test(n))return!1;if(BN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const HN=new Tu(3e4,6e4);function XE(){const i=Ui().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function GN(i){return new Promise((e,n)=>{function r(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(Pi(i,"network-request-failed"))},timeout:HN.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const o=P2("iframefcb");return Ui()[o]=()=>{gapi.load?r():n(Pi(i,"network-request-failed"))},mw(`${k2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function KN(i){return Rh=Rh||GN(i),Rh}const YN=new Tu(5e3,15e3),QN="__/auth/iframe",XN="emulator/auth/iframe",JN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Yp(e,XN):`https://${i.config.authDomain}/${QN}`,r={apiKey:e.apiKey,appName:i.name,v:fa},o=WN.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Eu(r).slice(1)}`}async function eI(i){const e=await KN(i),n=Ui().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:ZN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Pi(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},YN.get());function y(){Ui().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(h)})}))}const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,iI=600,sI="_blank",rI="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aI(i,e,n,r=nI,o=iI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...tI,width:r.toString(),height:o.toString(),top:u,left:h},p=on().toLowerCase();n&&(m=ow(p)?sI:n),rw(p)&&(e=e||rI,y.scrollbars="yes");const T=Object.entries(y).reduce((A,[V,K])=>`${A}${V}=${K},`,"");if(C2(p)&&m!=="_self")return oI(e||"",m),new JE(null);const w=window.open(e||"",m,T);ve(w,i,"popup-blocked");try{w.focus()}catch{}return new JE(w)}function oI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const lI="__/auth/handler",uI="emulator/auth/handler",cI=encodeURIComponent("fac");async function WE(i,e,n,r,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:fa,eventId:o};if(e instanceof yw){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",KC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))h[T]=w}if(e instanceof bu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await i._getAppCheckToken(),p=y?`#${cI}=${encodeURIComponent(y)}`:"";return`${hI(i)}?${Eu(m).slice(1)}${p}`}function hI({config:i}){return i.emulator?Yp(i,uI):`https://${i.authDomain}/${lI}`}const zm="webStorageSupport";class fI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=kN,this._overrideRedirectResult=MN}async _openPopup(e,n,r,o){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await WE(e,n,r,ap(),o);return aI(e,u,Zp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await WE(e,n,r,ap(),o);return pN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ts(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eI(e),r=new UN(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},o=>{const u=o?.[0]?.[zm];u!==void 0&&n(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$N(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fw()||aw()||Xp()}}const dI=fI;var ZE="@firebase/auth",e0="1.12.0";class mI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gI(i){aa(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dw(i)},p=new M2(r,o,u,y);return $2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),aa(new mr("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(r=>new mI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(ZE,e0,pI(i)),ki(ZE,e0,"esm2020")}const yI=300,_I=qT("authIdTokenMaxAge")||yI;let t0=null;const vI=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_I)return;const o=n?.token;t0!==o&&(t0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Dw(i=Gp()){const e=of(i,"auth");if(e.isInitialized())return e.getImmediate();const n=F2(i,{popupRedirectResolver:dI,persistence:[SN,fN,Sw]}),r=qT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=vI(u.toString());oN(n,h,()=>h(n.currentUser)),aN(n,m=>h(m))}}const o=BT("auth");return o&&q2(n,`http://${o}`),n}function EI(){return document.getElementsByTagName("head")?.[0]??document}V2({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",EI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gI("Browser");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,Ow;(function(){var i;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,M,z){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return R.prototype[M].apply(P,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const P=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)P[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)P[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],M=I.g[2];let z=I.g[3],x;x=R+(z^C&(M^z))+P[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+P[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+P[2]+606105819&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+P[3]+3250441966&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(z^C&(M^z))+P[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+P[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+P[6]+2821735955&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+P[7]+4249261313&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(z^C&(M^z))+P[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+P[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+P[10]+4294925233&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+P[11]+2304563134&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(z^C&(M^z))+P[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+P[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+P[14]+2792965006&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+P[15]+1236535329&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(M^z&(C^M))+P[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+P[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+P[11]+643717713&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+P[0]+3921069994&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(M^z&(C^M))+P[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+P[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+P[15]+3634488961&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+P[4]+3889429448&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(M^z&(C^M))+P[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+P[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+P[3]+4107603335&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+P[8]+1163531501&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(M^z&(C^M))+P[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+P[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+P[7]+1735328473&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+P[12]+2368359562&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(C^M^z)+P[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+P[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+P[11]+1839030562&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+P[14]+4259657740&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(C^M^z)+P[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+P[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+P[7]+4139469664&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+P[10]+3200236656&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(C^M^z)+P[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+P[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+P[3]+3572445317&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+P[6]+76029189&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(C^M^z)+P[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+P[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+P[15]+530742520&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+P[2]+3299628645&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(M^(C|~z))+P[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+P[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+P[14]+2878612391&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+P[5]+4237533241&4294967295,C=M+(x<<21&4294967295|x>>>11),x=R+(M^(C|~z))+P[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+P[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+P[10]+4293915773&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+P[1]+2240044497&4294967295,C=M+(x<<21&4294967295|x>>>11),x=R+(M^(C|~z))+P[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+P[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+P[6]+2734768916&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+P[13]+1309151649&4294967295,C=M+(x<<21&4294967295|x>>>11),x=R+(M^(C|~z))+P[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+P[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+P[2]+718787259&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,P=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=C;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<R;)if(P[M++]=I.charCodeAt(z++),M==this.blockSize){o(this,P),M=0;break}}else for(;z<R;)if(P[M++]=I[z++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[R++]=this.g[C]>>>P&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;const C=[];let P=!0;for(let M=I.length-1;M>=0;M--){const z=I[M]|0;P&&z==R||(C[M]=z,P=!1)}this.g=C}var m={};function y(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return k(p(-I));const R=[];let C=1;for(let P=0;I>=C;P++)R[P]=I/C|0,C*=4294967296;return new h(R,0)}function T(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return k(T(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let P=w;for(let z=0;z<I.length;z+=8){var M=Math.min(8,I.length-z);const x=parseInt(I.substring(z,z+M),R);M<8?(M=p(Math.pow(R,M)),P=P.j(M).add(p(x))):(P=P.j(C),P=P.add(p(x)))}return P}var w=y(0),A=y(1),V=y(16777216);i=h.prototype,i.m=function(){if(D(this))return-k(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(D(this))return"-"+k(this).toString(I);const R=p(Math.pow(I,6));var C=this;let P="";for(;;){const M=ge(C,R).g;C=Q(C,M.j(R));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=M,K(C))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function D(I){return I.h==-1}i.l=function(I){return I=Q(this,I),D(I)?-1:K(I)?0:1};function k(I){const R=I.g.length,C=[];for(let P=0;P<R;P++)C[P]=~I.g[P];return new h(C,~I.h).add(A)}i.abs=function(){return D(this)?k(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let M=0;M<=R;M++){let z=P+(this.i(M)&65535)+(I.i(M)&65535),x=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);P=x>>>16,z&=65535,x&=65535,C[M]=x<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(I,R){return I.add(k(R))}i.j=function(I){if(K(this)||K(I))return w;if(D(this))return D(I)?k(this).j(k(I)):k(k(this).j(I));if(D(I))return k(this.j(k(I)));if(this.l(V)<0&&I.l(V)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<I.g.length;M++){const z=this.i(P)>>>16,x=this.i(P)&65535,ot=I.i(M)>>>16,jt=I.i(M)&65535;C[2*P+2*M]+=x*jt,te(C,2*P+2*M),C[2*P+2*M+1]+=z*jt,te(C,2*P+2*M+1),C[2*P+2*M+1]+=x*ot,te(C,2*P+2*M+1),C[2*P+2*M+2]+=z*ot,te(C,2*P+2*M+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function te(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function se(I,R){this.g=I,this.h=R}function ge(I,R){if(K(R))throw Error("division by zero");if(K(I))return new se(w,w);if(D(I))return R=ge(k(I),R),new se(k(R.g),k(R.h));if(D(R))return R=ge(I,k(R)),new se(k(R.g),R.h);if(I.g.length>30){if(D(I)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,P=R;P.l(I)<=0;)C=Te(C),P=Te(P);var M=be(C,1),z=be(P,1);for(P=be(P,2),C=be(C,2);!K(P);){var x=z.add(P);x.l(I)<=0&&(M=M.add(C),z=x),P=be(P,1),C=be(C,1)}return R=Q(I,M.j(R)),new se(M,R)}for(M=w;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=p(C),x=z.j(R);D(x)||x.l(I)>0;)C-=P,z=p(C),x=z.j(R);K(z)&&(z=A),M=M.add(z),I=Q(I,x)}return new se(M,I)}i.B=function(I){return ge(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)&I.i(P);return new h(C,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)|I.i(P);return new h(C,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)^I.i(P);return new h(C,this.h^I.h)};function Te(I){const R=I.g.length+1,C=[];for(let P=0;P<R;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new h(C,I.h)}function be(I,R){const C=R>>5;R%=32;const P=I.g.length-C,M=[];for(let z=0;z<P;z++)M[z]=R>0?I.i(z+C)>>>R|I.i(z+C+1)<<32-R:I.i(z+C);return new h(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ow=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,fr=h}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mw,Yl,Vw,Ch,cp,jw,kw,Pw;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(c,_){if(_)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in E))break e;E=E[F]}c=c[c.length-1],S=E[c],_=_(S),_!=S&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&E.push([S,_[S]]);return E}});var u=u||{},h=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function y(c,_,E){return c.call.apply(c.bind,arguments)}function p(c,_,E){return p=y,p.apply(null,arguments)}function T(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,F,G){for(var re=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)re[Ce-2]=arguments[Ce];return _.prototype[F].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const _=c.length;if(_>0){const E=Array(_);for(let S=0;S<_;S++)E[S]=c[S];return E}return[]}function K(c,_){for(let S=1;S<arguments.length;S++){const F=arguments[S];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=c.length||0;const G=F.length||0;c.length=E+G;for(let re=0;re<G;re++)c[E+re]=F[re]}else c.push(F)}}class D{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(c){h.setTimeout(()=>{throw c},0)}function Q(){var c=I;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class te{constructor(){this.h=this.g=null}add(_,E){const S=se.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new D(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,be=!1,I=new te,R=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(C)}};function C(){for(var c;c=Q();){try{c.h.call(c.g)}catch(E){k(E)}var _=se;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}be=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ot(c,_){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}w(ot,M),ot.prototype.init=function(c,_){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,_,E,S,F){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=F,this.key=++J,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,_,E){for(const S in c)_.call(E,c[S],S,c)}function Ke(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function j(c){const _={};for(const E in c)_[E]=c[E];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,_){let E,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(E in S)c[E]=S[E];for(let G=0;G<ne.length;G++)E=ne[G],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,_,E,S,F){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ne(c,_,S,F);return re>-1?(_=c[re],E||(_.fa=!1)):(_=new ae(_,this.src,G,!!S,F),_.fa=E,c.push(_)),_};function we(c,_){const E=_.type;if(E in c.g){var S=c.g[E],F=Array.prototype.indexOf.call(S,_,void 0),G;(G=F>=0)&&Array.prototype.splice.call(S,F,1),G&&(ye(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ne(c,_,E,S){for(let F=0;F<c.length;++F){const G=c[F];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==S)return F}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),kt={};function lt(c,_,E,S,F){if(Array.isArray(_)){for(let G=0;G<_.length;G++)lt(c,_[G],E,S,F);return null}return E=zo(E),c&&c[jt]?c.J(_,E,m(S)?!!S.capture:!1,F):Ar(c,_,E,!1,S,F)}function Ar(c,_,E,S,F,G){if(!_)throw Error("Invalid event type");const re=m(F)?!!F.capture:!!F;let Ce=Rr(c);if(Ce||(c[Le]=Ce=new ce(c)),E=Ce.add(_,E,S,re,G),E.proxy)return E;if(S=ya(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)z||(F=re),F===void 0&&(F=!1),c.addEventListener(_.toString(),S,F);else if(c.attachEvent)c.attachEvent(hi(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function c(E){return _.call(c.src,c.listener,E)}const _=Uo;return c}function _a(c,_,E,S,F){if(Array.isArray(_))for(var G=0;G<_.length;G++)_a(c,_[G],E,S,F);else S=m(S)?!!S.capture:!!S,E=zo(E),c&&c[jt]?(c=c.i,G=String(_).toString(),G in c.g&&(_=c.g[G],E=Ne(_,E,S,F),E>-1&&(ye(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[G],c.h--)))):c&&(c=Rr(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ne(_,E,S,F)),(E=c>-1?_[c]:null)&&va(E))}function va(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[jt])we(_.i,c);else{var E=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(E,S,c.capture):_.detachEvent?_.detachEvent(hi(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Rr(_))?(we(E,c),E.h==0&&(E.src=null,_[Le]=null)):ye(c)}}}function hi(c){return c in kt?kt[c]:kt[c]="on"+c}function Uo(c,_){if(c.da)c=!0;else{_=new ot(_,this);const E=c.listener,S=c.ha||c.src;c.fa&&va(c),c=E.call(S,_)}return c}function Rr(c){return c=c[Le],c instanceof ce?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(_){return c.handleEvent(_)}),c[Lo])}function Tt(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}w(Tt,P),Tt.prototype[jt]=!0,Tt.prototype.removeEventListener=function(c,_,E,S){_a(this,c,_,E,S)};function Pt(c,_){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new M(_,c);else if(_ instanceof M)_.target=_.target||c;else{var F=_;_=new M(S,c),oe(_,F)}F=!0;let G,re;if(E)for(re=E.length-1;re>=0;re--)G=_.g=E[re],F=Rs(G,S,!0,_)&&F;if(G=_.g=c,F=Rs(G,S,!0,_)&&F,F=Rs(G,S,!1,_)&&F,E)for(re=0;re<E.length;re++)G=_.g=E[re],F=Rs(G,S,!1,_)&&F}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let S=0;S<E.length;S++)ye(E[S]);delete c.g[_],c.h--}}this.G=null},Tt.prototype.J=function(c,_,E,S){return this.i.add(String(c),_,!1,E,S)},Tt.prototype.K=function(c,_,E,S){return this.i.add(String(c),_,!0,E,S)};function Rs(c,_,E,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let G=0;G<_.length;++G){const re=_[G];if(re&&!re.da&&re.capture==E){const Ce=re.listener,gt=re.ha||re.src;re.fa&&we(c.i,re),F=Ce.call(gt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Cf(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function Uu(c){c.g=Cf(()=>{c.g=null,c.i&&(c.i=!1,Uu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class ln extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){P.call(this),this.h=c,this.g={}}w(Cr,P);var Bo=[];function Fo(c){Be(c.g,function(_,E){this.g.hasOwnProperty(E)&&va(_)},c),c.g={}}Cr.prototype.N=function(){Cr.Z.N.call(this),Fo(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=h.JSON.stringify,xf=h.JSON.parse,Lu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function zu(){}function Bu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){M.call(this,"d")}w(Gt,M);function Mn(){M.call(this,"c")}w(Mn,M);var pt={},Fu=null;function Ea(){return Fu=Fu||new Tt}pt.Ia="serverreachability";function $u(c){M.call(this,pt.Ia,c)}w($u,M);function fi(c){const _=Ea();Pt(_,new $u(_))}pt.STAT_EVENT="statevent";function xr(c,_){M.call(this,pt.STAT_EVENT,c),this.stat=_}w(xr,M);function wt(c){const _=Ea();Pt(_,new xr(_,c))}pt.Ja="timingevent";function di(c,_){M.call(this,pt.Ja,c),this.size=_}w(di,M);function mi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Nf(c,_,E,S,F,G){c.info(function(){if(c.g)if(G){var re="",Ce=G.split("&");for(let qe=0;qe<Ce.length;qe++){var gt=Ce[qe].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Pn=ut.split("_");re=Pn.length>=2&&Pn[1]=="type"?re+(ut+"="+gt+"&"):re+(ut+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+_+`
`+E+`
`+re})}function qu(c,_,E,S,F,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+_+`
`+E+`
`+G+" "+re})}function pi(c,_,E,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+If(c,E)+(S?" "+S:"")})}function Nr(c,_){c.info(function(){return"TIMEOUT: "+_})}Yn.prototype.info=function(){};function If(c,_){if(!c.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var F=S[0];if(F!="noop"&&F!="stop"&&F!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return Cs(G)}catch{return _}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Dr(){}w(Dr,zu),Dr.prototype.g=function(){return new XMLHttpRequest},qo=new Dr;function Yi(c){return encodeURIComponent(String(c))}function Hu(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function Qn(c,_,E,S){this.j=c,this.i=_,this.l=E,this.S=S||1,this.V=new Cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var bt={},Bt={};function gi(c,_,E){c.M=1,c.A=Or(At(_)),c.u=E,c.R=!0,Ta(c,null)}function Ta(c,_){c.F=Date.now(),yi(c),c.B=At(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Aa(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Xn,c.g=ac(c.j,E?_:null,!c.u),c.P>0&&(c.O=new ln(p(c.Y,c,c.g),c.P)),_=c.V,E=c.g,S=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Bo[0]=F.toString()),F=Bo);for(let G=0;G<F.length;G++){const re=lt(E,F[G],S||_.handleEvent,!1,_.h||_);if(!re)break;_.g[re.key]=re}_=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),fi(),Nf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Zn(c)==3?_.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Zn(this.g),gt=this.g.ya(),qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||qe<=0?fi(3):fi(2)),_i(this);var _=this.g.ca();this.X=_;var E=Df(this);if(this.o=_==200,qu(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,F=this.g;if((S=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var G=S;break t}}G=null}if(c=G)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,wt(12),En(this),Vn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Ku(this,E),ut==Bt){Ce==4&&(this.m=4,wt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==bt){this.m=4,wt(15),pi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,ut,null),vi(this,ut);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),rl(re),re.P=!0,wt(11))}}else pi(this.i,this.l,E,null),vi(this,E);Ce==4&&En(this),this.o&&!this.K&&(Ce==4?nc(this.j,this):(this.o=!1,yi(this)))}else Xi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),En(this),Vn(this)}}}catch{}};function Df(c){if(!Gu(c))return c.g.la();const _=Kt(c.g);if(_==="")return"";let E="";const S=_.length,F=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),Vn(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,E+=c.h.i.decode(_[G],{stream:!(F&&G==S-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function Gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ku(c,_){var E=c.C,S=_.indexOf(`
`,E);return S==-1?Bt:(E=Number(_.substring(E,S)),isNaN(E)?bt:(S+=1,S+E>_.length?Bt:(_=_.slice(S,S+E),c.C=S+E,_)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function yi(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),_)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(fi(),wt(17)),En(this),this.m=2,Vn(this)):wa(this,this.T-c)};function Vn(c){c.j.I==0||c.K||nc(c.j,c)}function En(c){_i(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Fo(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function vi(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Ti(E.h,c))){if(!c.L&&Ti(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ia(E),js(E);else break e;Lr(E),wt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(p(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ci(E,11)}else if((c.L||E.g==c)&&Ia(E),!x(_))for(F=E.Ba.g.parse(_),_=0;_<F.length;_++){let qe=F[_];const ut=qe[0];if(!(ut<=E.K))if(E.K=ut,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Pn=qe[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const xi=qe[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const ei=qe[5];ei!=null&&typeof ei=="number"&&ei>0&&(S=1.5*ei,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ti=c.g;if(ti){const zr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var G=S.h;G.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ko(G,G.h),G.h=null))}if(S.G){const Da=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(S.wa=Da,Ye(S.J,S.G,Da))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var re=c;if(S.na=rc(S,S.L?S.ba:null,S.W),re.L){Yo(S.h,re);var Ce=re,gt=S.O;gt&&(Ce.H=gt),Ce.D&&(_i(Ce),yi(Ce)),S.g=re}else ec(S);E.i.length>0&&Ri(E)}else qe[0]!="stop"&&qe[0]!="close"||Ci(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ci(E,7):il(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}fi(4)}catch{}}var St=class{constructor(c,_){this.g=c,this.map=_}};function Ho(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ko(c,_){c.g?c.g.add(_):c.h=_}function Yo(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ho.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return V(c.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let F,G=null;S>=0?(F=c[E].substring(0,S),G=c[E].substring(S+1)):F=c[E],_(F,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Tn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,xs(this,c.u),this.h=c.h,Xo(this,Wu(c.i)),this.m=c.m):c&&(_=String(c).match(Yu))?(this.l=!1,Ft(this,_[1]||"",!0),this.o=wi(_[2]||""),this.g=wi(_[3]||"",!0),xs(this,_[4]),this.h=wi(_[5]||"",!0),Xo(this,_[6]||"",!0),this.m=wi(_[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}Tn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Mr(_,Sa,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Mr(_,Sa,!0),"@"),c.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Mr(E,E.charAt(0)=="/"?Jo:Qu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Mr(E,Xu)),c.join("")},Tn.prototype.resolve=function(c){const _=At(this);let E=!!c.j;E?Ft(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var S=c.h;if(E)xs(_,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var F=_.h.lastIndexOf("/");F!=-1&&(S=_.h.slice(0,F+1)+S)}if(F=S,F==".."||F==".")S="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){S=F.lastIndexOf("/",0)==0,F=F.split("/");const G=[];for(let re=0;re<F.length;){const Ce=F[re++];Ce=="."?S&&re==F.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&re==F.length&&G.push("")):(G.push(Ce),S=!0)}S=G.join("/")}else S=F}return E?_.h=S:E=c.i.toString()!=="",E?Xo(_,Wu(c.i)):E=!!c.m,E&&(_.m=c.m),_};function At(c){return new Tn(c)}function Ft(c,_,E){c.j=E?wi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function xs(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Xo(c,_,E){_ instanceof Is?(c.i=_,Ra(c.i,c.l)):(E||(_=Mr(_,Ns)),c.i=new Is(_,c.l))}function Ye(c,_,E){c.i.set(_,E)}function Or(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mr(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,Qu=/[#\?:]/g,Jo=/[#\?]/g,Ns=/[#\?@]/g,Xu=/#/g;function Is(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Is.prototype,i.add=function(c,_){fn(this),this.i=null,c=Ds(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Ju(c,_){fn(c),_=Ds(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Wo(c,_){return fn(c),_=Ds(c,_),c.g.has(_)}i.forEach=function(c,_){fn(this),this.g.forEach(function(E,S){E.forEach(function(F){c.call(_,F,S,this)},this)},this)};function Zo(c,_){fn(c);let E=[];if(typeof _=="string")Wo(c,_)&&(E=E.concat(c.g.get(Ds(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}i.set=function(c,_){return fn(this),this.i=null,c=Ds(this,c),Wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=Zo(this,c),c.length>0?String(c[0]):_):_};function Aa(c,_,E){Ju(c,_),E.length>0&&(c.i=null,c.g.set(Ds(c,_),V(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var E=_[S];const F=Yi(E);E=Zo(this,E);for(let G=0;G<E.length;G++){let re=F;E[G]!==""&&(re+="="+Yi(E[G])),c.push(re)}}return this.i=c.join("&")};function Wu(c){const _=new Is;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Ds(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ra(c,_){_&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,S){const F=S.toLowerCase();S!=F&&(Ju(this,S),Aa(this,F,E))},c)),c.j=_}function Jn(c,_){const E=new Yn;if(h.Image){const S=new Image;S.onload=T(jn,E,"TestLoadImage: loaded",!0,_,S),S.onerror=T(jn,E,"TestLoadImage: error",!1,_,S),S.onabort=T(jn,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=T(jn,E,"TestLoadImage: timeout",!1,_,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function el(c,_){const E=new Yn,S=new AbortController,F=setTimeout(()=>{S.abort(),jn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(F),G.ok?jn(E,"TestPingServer: ok",!0,_):jn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),jn(E,"TestPingServer: error",!1,_)})}function jn(c,_,E,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(E)}catch{}}function Os(){this.g=new Lu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(bi,zu),bi.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(c,_){Tt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Vr,Tt),i=Vr.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Wn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Ms(this):Wn(this),this.readyState==3&&Ca(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ms(this))},i.Na=function(c){this.g&&(this.response=c,Ms(this))},i.ga=function(){this.g&&Ms(this)};function Ms(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}i.setRequestHeader=function(c,_){this.A.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let _="";return Be(c,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function jr(c,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=kn(E),typeof c=="string"?E!=null&&Yi(E):Ye(c,_,E))}function Je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Tt);var Si=/^https?$/i,tl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){kr(this,G);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)E.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),F=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(tl,_,void 0)>=0)||S||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of E)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){kr(this,G)}};function kr(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,nl(c),Qi(c)}function nl(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},i.Xa=function(){Pr(this)};function Pr(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=G===0){let re=String(c.D).match(Yu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Si.test(re?re.toLowerCase():"")}E=S}if(E)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var F=Zn(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",nl(c)}}finally{Qi(c)}}}}function Qi(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||Pt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),xf(_)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const _={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var E=Hu(c[S]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[F]||[];_[F]=G,G.push(E)}Ke(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Vs(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new Os,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vs.prototype,i.ka=8,i.I=1,i.connect=function(c,_,E,S){wt(0),this.W=c,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=rc(this,null,this.W),Ri(this)};function il(c){if(xa(c),c.I==3){var _=c.V++,E=At(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",_),Ye(E,"TYPE","terminate"),Ur(c,E),_=new Qn(c,c.j,_),_.M=2,_.A=Or(At(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.A,E=!0),E||(_.g=ac(_.j,null),_.g.ea(_.A)),_.F=Date.now(),yi(_)}sc(c)}function js(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function xa(c){js(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Go(c.h)&&!c.m){c.m=!0;var _=c.Ea;Te||R(),be||(Te(),be=!0),I.add(_,c),c.D=0}}function Na(c,_){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,_),ic(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new Qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=j(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(F.J=G,G=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Zu(this,F,_),E=At(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Ur(this,E),G&&(this.R?_="headers="+Yi(kn(G))+"&"+_:this.u&&jr(E,this.u,G)),Ko(this.h,F),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",_),Ye(E,"SID","null"),F.U=!0,gi(F,E,null)):gi(F,E,_),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Go(this.h)||sl(this))};function sl(c,_){var E;_?E=_.l:E=c.V++;const S=At(c.J);Ye(S,"SID",c.M),Ye(S,"RID",E),Ye(S,"AID",c.K),Ur(c,S),c.u&&c.o&&jr(S,c.u,c.o),E=new Qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Zu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ko(c.h,E),gi(E,S,_)}function Ur(c,_){c.H&&Be(c.H,function(E,S){Ye(_,S,E)}),c.l&&Be({},function(E,S){Ye(_,S,E)})}function Zu(c,_,E){E=Math.min(c.i.length,E);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var F=c.i;let Ce=-1;for(;;){const gt=["count="+E];Ce==-1?E>0?(Ce=F[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let qe=!0;for(let ut=0;ut<E;ut++){var G=F[ut].g;const Pn=F[ut].map;if(G-=Ce,G<0)Ce=Math.max(0,F[ut].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var re=Pn instanceof Map?Pn:Object.entries(Pn);for(const[xi,ei]of re){let ti=ei;m(ei)&&(ti=Cs(ei)),gt.push(G+xi+"="+encodeURIComponent(ti))}}catch(xi){throw gt.push(G+"type="+encodeURIComponent("_badmap")),xi}}catch{S&&S(Pn)}}if(qe){re=gt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),_.G=c,re}function ec(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Te||R(),be||(Te(),be=!0),I.add(_,c),c.A=0}}function Lr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),ic(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),js(this),tc(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function tc(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=At(c.na);Ye(_,"RID","rpc"),Ye(_,"SID",c.M),Ye(_,"AID",c.K),Ye(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(_,"TO",c.ia),Ye(_,"TYPE","xmlhttp"),Ur(c,_),c.u&&c.o&&jr(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Or(At(_)),E.u=null,E.R=!0,Ta(E,c)}i.Va=function(){this.C!=null&&(this.C=null,js(this),Lr(this),wt(19))};function Ia(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function nc(c,_){var E=null;if(c.g==_){Ia(c),rl(c),c.g=null;var S=2}else if(Ti(c.h,_))E=_.G,Yo(c.h,_),S=1;else return;if(c.I!=0){if(_.o)if(S==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var F=c.D;S=Ea(),Pt(S,new di(S,E)),Ri(c)}else ec(c);else if(F=_.m,F==3||F==0&&_.X>0||!(S==1&&Na(c,_)||S==2&&Lr(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),F){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function ic(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function Ci(c,_){if(c.j.info("Error code "+_),_==2){var E=p(c.bb,c),S=c.Ua;const F=!S;S=new Tn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ft(S,"https"),Or(S),F?Jn(S.toString(),E):el(S.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(_),sc(c),xa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function sc(c){if(c.I=0,c.ja=[],c.l){const _=Qo(c.h);(_.length!=0||c.i.length!=0)&&(K(c.ja,_),K(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function rc(c,_,E){var S=E instanceof Tn?At(E):new Tn(E);if(S.g!="")_&&(S.g=_+"."+S.g),xs(S,S.u);else{var F=h.location;S=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const G=new Tn(null);S&&Ft(G,S),_&&(G.g=_),F&&xs(G,F),E&&(G.h=E),S=G}return E=c.G,_=c.wa,E&&_&&Ye(S,E,_),Ye(S,"VER",c.ka),Ur(c,S),S}function ac(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new bi({ab:E})):new Je(c.ma),_.Fa(c.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}i=oc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ks(){}ks.prototype.g=function(c,_){return new un(c,_)};function un(c,_){Tt.call(this),this.g=new Vs(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!x(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ji(this)}w(un,Tt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){il(this.g)},un.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Cs(c),c=E);_.i.push(new St(_.Ya++,c)),_.I==3&&Ri(_)},un.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,un.Z.N.call(this)};function lc(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}w(lc,Gt);function uc(){Mn.call(this),this.status=1}w(uc,Mn);function Ji(c){this.g=c}w(Ji,oc),Ji.prototype.ra=function(){Pt(this.g,"a")},Ji.prototype.qa=function(c){Pt(this.g,new lc(c))},Ji.prototype.pa=function(c){Pt(this.g,new uc)},Ji.prototype.oa=function(){Pt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Pw=function(){return new ks},kw=function(){return Ea()},jw=pt,cp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Ch=Ir,$o.COMPLETE="complete",Vw=$o,Bu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Yl=Bu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Mw=Je}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",s0="4.9.3";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Do="12.7.0";const ua=new qp("@firebase/firestore");function oo(){return ua.logLevel}function ue(i,...e){if(ua.logLevel<=je.DEBUG){const n=e.map(tg);ua.debug(`Firestore (${Do}): ${i}`,...n)}}function ws(i,...e){if(ua.logLevel<=je.ERROR){const n=e.map(tg);ua.error(`Firestore (${Do}): ${i}`,...n)}}function To(i,...e){if(ua.logLevel<=je.WARN){const n=e.map(tg);ua.warn(`Firestore (${Do}): ${i}`,...n)}}function tg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Uw(i,r,n)}function Uw(i,e,n){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ws(r),new Error(r)}function Ge(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||Uw(e,o,r)}function Re(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Lw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class wI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bI{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _s,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _s)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new Lw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class SI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=CI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function ke(i,e){return i<e?-1:i>e?1:0}function hp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Bm(o)===Bm(u)?ke(o,u):Bm(o)?1:-1}return ke(i.length,e.length)}const xI=55296,NI=57343;function Bm(i){const e=i.charCodeAt(0);return e>=xI&&e<=NI}function wo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const a0="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),o=Mi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class nt extends Mi{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Mi{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return II.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new en([a0])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function zw(i,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function DI(i,e,n,r){if(e===!0&&r===!0)throw new le(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function o0(i){if(!pe.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function l0(i){if(pe.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Bw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function $i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(i);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function Au(i,e){if(!Bw(i))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const u0=-62135596800,c0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c0);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function OI(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new pr(o,pe.empty(),e)}function MI(i){return new pr(i.readTime,i.key,lu)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(Se.min(),pe.empty(),lu)}static max(){return new pr(Se.max(),pe.empty(),lu)}}function VI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const jI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==jI)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(y=>r(y)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((T=>{h[p]=T,++m,m===u&&r(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function PI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;const ig=-1;function df(i){return i==null}function $h(i){return i===0&&1/i==-1/0}function UI(i){return typeof i=="number"&&Number.isInteger(i)&&!$h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Fw="";function LI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=h0(e)),e=zI(i.get(n),e);return h0(e)}function zI(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Fw:n+="";break;default:n+=u}}return n}function h0(i){return i+Fw+""}function f0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function br(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function $w(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Zt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new In([])}unionWith(e){let n=new Lt(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qw("Invalid base64 string: "+u):u}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=BI.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function yr(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}const Hw="server_timestamp",Gw="__type__",Kw="__previous_value__",Yw="__local_write_time__";function sg(i){return(i?.mapValue?.fields||{})[Gw]?.stringValue===Hw}function mf(i){const e=i.mapValue.fields[Kw];return sg(e)?mf(e):e}function uu(i){const e=gr(i.mapValue.fields[Yw].timestampValue);return new rt(e.seconds,e.nanos)}class FI{constructor(e,n,r,o,u,h,m,y,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const qh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}const Qw="__type__",$I="__max__",yh={mapValue:{}},Xw="__vector__",Hh="value";function _r(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sg(i)?4:HI(i)?9007199254740991:qI(i)?10:11:Ee(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=_r(i);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gr(o.timestampValue),m=gr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return yr(o.bytesValue).isEqual(yr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?$h(h)===$h(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(h)!==f0(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!qi(h[y],m[y])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function hu(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function bo(i,e){if(i===e)return 0;const n=_r(i),r=_r(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),y=vt(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return m0(i.timestampValue,e.timestampValue);case 4:return m0(uu(i),uu(e));case 5:return hp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=yr(u),y=yr(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let p=0;p<m.length&&p<y.length;p++){const T=ke(m[p],y[p]);if(T!==0)return T}return ke(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(vt(u.latitude),vt(h.latitude));return m!==0?m:ke(vt(u.longitude),vt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return p0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},p=m[Hh]?.arrayValue,T=y[Hh]?.arrayValue,w=ke(p?.values?.length||0,T?.values?.length||0);return w!==0?w:p0(p,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===yh.mapValue&&h===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(h===yh.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),p=h.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const A=hp(y[w],T[w]);if(A!==0)return A;const V=bo(m[y[w]],p[T[w]]);if(V!==0)return V}return ke(y.length,T.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function m0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=gr(i),r=gr(e),o=ke(n.seconds,r.seconds);return o!==0?o:ke(n.nanos,r.nanos)}function p0(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=bo(n[o],r[o]);if(u)return u}return ke(n.length,r.length)}function So(i){return fp(i)}function fp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=gr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return yr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=fp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${fp(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function xh(i){switch(_r(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(i);return e?16+xh(e):16;case 5:return 2*i.stringValue.length;case 6:return yr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+xh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return br(r.fields,((u,h)=>{o+=u.length+xh(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function g0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dp(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function y0(i){return!!i&&"nullValue"in i}function _0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nh(i){return!!i&&"mapValue"in i}function qI(i){return(i?.mapValue?.fields||{})[Qw]?.stringValue===Xw}function eu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return br(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return{...i}}function HI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===$I}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=en.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=eu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){br(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new vn(eu(this.value))}}function Jw(i){const e=[];return br(i.fields,((n,r)=>{const o=new en([n]);if(Nh(r)){const u=Jw(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new In(e)}class an{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,r,o){return new an(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new an(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function v0(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(h.referenceValue),n.key):r=bo(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function GI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ww{}class Dt extends Ww{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YI(e,n,r):n==="array-contains"?new JI(e,r):n==="in"?new WI(e,r):n==="not-in"?new ZI(e,r):n==="array-contains-any"?new eD(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QI(e,r):new XI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Ww{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return Zw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zw(i){return i.op==="and"}function eb(i){return KI(i)&&Zw(i)}function KI(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function mp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+So(i.value);if(eb(i))return i.filters.map((e=>mp(e))).join(",");{const e=i.filters.map((n=>mp(n))).join(",");return`${i.op}(${e})`}}function tb(i,e){return i instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(i,e):i instanceof ui?(function(r,o){return o instanceof ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&tb(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function nb(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(i):i instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(nb).join(" ,")+"}"})(i):"Filter"}class YI extends Dt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class QI extends Dt{constructor(e,n){super(e,"in",n),this.keys=ib("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=ib("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ib(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class JI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&hu(n.arrayValue,this.value)}}class WI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class ZI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class eD extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hu(this.value.arrayValue,r)))}}class tD{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function T0(i,e=null,n=[],r=[],o=null,u=null,h=null){return new tD(i,e,n,r,o,u,h)}function ag(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>mp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>So(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>So(r))).join(",")),e.Te=n}return e.Te}function og(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!GI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!tb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!E0(i.startAt,e.startAt)&&E0(i.endAt,e.endAt)}function pp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Vo{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nD(i,e,n,r,o,u,h,m){return new Vo(i,e,n,r,o,u,h,m)}function lg(i){return new Vo(i)}function w0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sb(i){return i.collectionGroup!==null}function tu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(en.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,r))})),n.has(en.keyField().canonicalString())||e.Ie.push(new fu(en.keyField(),r))}return e.Ie}function Li(i){const e=Re(i);return e.Ee||(e.Ee=iD(e,tu(i))),e.Ee}function iD(i,e){if(i.limitType==="F")return T0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=i.endAt?new Gh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Gh(i.startAt.position,i.startAt.inclusive):null;return T0(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function gp(i,e){const n=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yp(i,e,n){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function pf(i,e){return og(Li(i),Li(e))&&i.limitType===e.limitType}function rb(i){return`${ag(Li(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>nb(o))).join(", ")}]`),df(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${r})`})(Li(i))}; limitType=${i.limitType})`}function gf(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of tu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,y){const p=v0(h,m,y);return h.inclusive?p<=0:p<0})(r.startAt,tu(r),o)||r.endAt&&!(function(h,m,y){const p=v0(h,m,y);return h.inclusive?p>=0:p>0})(r.endAt,tu(r),o))})(i,e)}function sD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ab(i){return(e,n)=>{let r=!1;for(const o of tu(i)){const u=rD(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rD(i,e,n){const r=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const y=h.data.field(u),p=m.data.field(u);return y!==null&&p!==null?bo(y,p):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:i.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}const aD=new ft(pe.comparator);function bs(){return aD}const ob=new ft(pe.comparator);function Ql(...i){let e=ob;for(const n of i)e=e.insert(n.key,n);return e}function lb(i){let e=ob;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ia(){return nu()}function ub(){return nu()}function nu(){return new ma((i=>i.toString()),((i,e)=>i.isEqual(e)))}const oD=new ft(pe.comparator),lD=new Lt(pe.comparator);function Pe(...i){let e=lD;for(const n of i)e=e.add(n);return e}const uD=new Lt(ke);function cD(){return uD}function ug(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function cb(i){return{integerValue:""+i}}function hD(i,e){return UI(e)?cb(e):ug(i,e)}class yf{constructor(){this._=void 0}}function fD(i,e,n){return i instanceof Kh?(function(o,u){const h={fields:{[Gw]:{stringValue:Hw},[Yw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=mf(u)),u&&(h.fields[Kw]=u),{mapValue:h}})(n,e):i instanceof du?fb(i,e):i instanceof mu?db(i,e):(function(o,u){const h=hb(o,u),m=b0(h)+b0(o.Ae);return dp(h)&&dp(o.Ae)?cb(m):ug(o.serializer,m)})(i,e)}function dD(i,e,n){return i instanceof du?fb(i,e):i instanceof mu?db(i,e):n}function hb(i,e){return i instanceof Yh?(function(r){return dp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Kh extends yf{}class du extends yf{constructor(e){super(),this.elements=e}}function fb(i,e){const n=mb(e);for(const r of i.elements)n.some((o=>qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class mu extends yf{constructor(e){super(),this.elements=e}}function db(i,e){let n=mb(e);for(const r of i.elements)n=n.filter((o=>!qi(o,r)));return{arrayValue:{values:n}}}class Yh extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b0(i){return vt(i.integerValue||i.doubleValue)}function mb(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mD(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof du&&o instanceof du||r instanceof mu&&o instanceof mu?wo(r.elements,o.elements,qi):r instanceof Yh&&o instanceof Yh?qi(r.Ae,o.Ae):r instanceof Kh&&o instanceof Kh})(i.transform,e.transform)}class pD{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class _f{}function pb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new cg(i.key,oi.none()):new Ru(i.key,i.data,oi.none());{const n=i.data,r=vn.empty();let o=new Lt(en.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Sr(i.key,r,new In(o.toArray()),oi.none())}}function gD(i,e,n){i instanceof Ru?(function(o,u,h){const m=o.value.clone(),y=A0(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Sr?(function(o,u,h){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=A0(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(gb(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function iu(i,e,n,r){return i instanceof Ru?(function(u,h,m,y){if(!Ih(u.precondition,h))return m;const p=u.value.clone(),T=R0(u.fieldTransforms,y,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,r):i instanceof Sr?(function(u,h,m,y){if(!Ih(u.precondition,h))return m;const p=R0(u.fieldTransforms,y,h),T=h.data;return T.setAll(gb(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,r):(function(u,h,m){return Ih(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function yD(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=hb(r.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(r.field,u))}return n||null}function S0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wo(r,o,((u,h)=>mD(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends _f{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends _f{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function A0(i,e,n){const r=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,dD(h,m,n[o]))}return r}function R0(i,e,n){const r=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);r.set(o.field,fD(u,h,e))}return r}class cg extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _D extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vD{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gD(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ub();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const y=pb(h,m);y!==null&&r.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,r)=>S0(n,r)))&&wo(this.baseMutations,e.baseMutations,((n,r)=>S0(n,r)))}}class hg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return oD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new hg(e,n,r,o)}}class ED{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TD{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,ze;function wD(i){switch(i){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function yb(i){if(i===void 0)return ws("GRPC error has no .code"),Z.UNKNOWN;switch(i){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:i})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function bD(){return new TextEncoder}const SD=new fr([4294967295,4294967295],0);function C0(i){const e=bD().encode(i),n=new Ow;return n.update(e),new Uint8Array(n.digest())}function x0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fr([n,r],0),new fr([o,u],0)]}class fg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(fr.fromNumber(r)));return o.compare(SD)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C0(e),[r,o]=x0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fg(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=C0(e),[r,o]=x0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vf{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vf(Se.min(),o,new ft(ke),bs(),Pe())}}class Cu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,Pe(),Pe(),Pe())}}class Dh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class _b{constructor(e,n){this.targetId=e,this.Ce=n}}class vb{constructor(e,n,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class N0{constructor(){this.ve=0,this.Fe=I0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:u})}})),new Cu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=I0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AD{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=_h(),this.He=_h(),this.Ye=new ft(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(pp(u))if(r===0){const h=new pe(u.path);this.et(n,h,an.newNoDocument(h,Se.min()))}else Ge(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=yr(r).toUint8Array()}catch(y){if(y instanceof qw)return To("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new fg(h,o,u)}catch(y){return To(y instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&pp(m.target)){const y=new pe(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,an.newNoDocument(y,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new vf(e,n,this.Ye,this.je,r);return this.je=bs(),this.Je=_h(),this.He=_h(),this.Ye=new ft(ke),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new N0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new ft(pe.comparator)}function I0(){return new ft(pe.comparator)}const RD={asc:"ASCENDING",desc:"DESCENDING"},CD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xD={and:"AND",or:"OR"};class ND{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _p(i,e){return i.useProto3Json||df(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ID(i,e){return Qh(i,e.toTimestamp())}function zi(i){return Ge(!!i,49232),Se.fromTimestamp((function(n){const r=gr(n);return new rt(r.seconds,r.nanos)})(i))}function dg(i,e){return vp(i,e).canonicalString()}function vp(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Tb(i){const e=nt.fromString(i);return Ge(Rb(e),10190,{key:e.toString()}),e}function Ep(i,e){return dg(i.databaseId,e.path)}function Fm(i,e){const n=Tb(e);if(n.get(1)!==i.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(bb(n))}function wb(i,e){return dg(i.databaseId,e)}function DD(i){const e=Tb(i);return e.length===4?nt.emptyPath():bb(e)}function Tp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bb(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function D0(i,e,n){return{name:Ep(i,e),fields:n.value.mapValue.fields}}function OD(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?Z.UNKNOWN:yb(p.code);return new le(T,p.message||"")})(h);n=new vb(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fm(i,r.document.name),u=zi(r.document.updateTime),h=r.document.createTime?zi(r.document.createTime):Se.min(),m=new vn({mapValue:{fields:r.document.fields}}),y=an.newFoundDocument(o,u,h,m),p=r.targetIds||[],T=r.removedTargetIds||[];n=new Dh(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Fm(i,r.document),u=r.readTime?zi(r.readTime):Se.min(),h=an.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Fm(i,r.document),u=r.removedTargetIds||[];n=new Dh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new TD(o,u),m=r.targetId;n=new _b(m,h)}}return n}function MD(i,e){let n;if(e instanceof Ru)n={update:D0(i,e.key,e.value)};else if(e instanceof cg)n={delete:Ep(i,e.key)};else if(e instanceof Sr)n={update:D0(i,e.key,e.data),updateMask:FD(e.fieldMask)};else{if(!(e instanceof _D))return Ee(16599,{Vt:e.type});n={verify:Ep(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ID(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function VD(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?zi(o.updateTime):zi(u);return h.isEqual(Se.min())&&(h=zi(u)),new pD(h,o.transformResults||[])})(n,e)))):[]}function jD(i,e){return{documents:[wb(i,e.path)]}}function kD(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wb(i,o);const u=(function(p){if(p.length!==0)return Ab(ui.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(A){return{field:uo(A.field),direction:LD(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=_p(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function PD(i){let e=DD(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const A=Sb(w);return A instanceof ui&&eb(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(w){return w.map((A=>(function(K){return new fu(co(K.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,df(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(w){const A=!!w.before,V=w.values||[];return new Gh(V,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const A=!w.before,V=w.values||[];return new Gh(V,A)})(n.endAt)),nD(e,o,h,u,m,"F",y,p)}function UD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=co(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((r=>Sb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function LD(i){return RD[i]}function zD(i){return CD[i]}function BD(i){return xD[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return en.fromServerFormat(i.fieldPath)}function Ab(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:zD(n.op),value:n.value}}})(i):i instanceof ui?(function(n){const r=n.getFilters().map((o=>Ab(o)));return r.length===1?r[0]:{compositeFilter:{op:BD(n.op),filters:r}}})(i):Ee(54877,{filter:i})}function FD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Rb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ur{constructor(e,n,r,o,u=Se.min(),h=Se.min(),m=tn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $D{constructor(e){this.yt=e}}function qD(i){const e=PD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yp(e,e.limit,"L"):e}class HD{constructor(){this.Cn=new GD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(pr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class GD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Lt(nt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Lt(nt.comparator)).toArray()}}const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cb=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Cb,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const M0="LruGarbageCollector",KD=1048576;function V0([i,e],[n,r]){const o=ke(i,n);return o===0?ke(e,r):o}class YD{constructor(e){this.Ir=e,this.buffer=new Lt(V0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(M0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?ue(M0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)}))}}class XD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(ff.ce);const r=new YD(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(O0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,m,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,m=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),oo()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function JD(i,e){return new XD(i,e)}class WD{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eO{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&iu(r.mutation,o,In.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Ql();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ia();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=bs();const h=nu(),m=(function(){return nu()})();return n.forEach(((y,p)=>{const T=r.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Sr)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),iu(T.mutation,p,T.mutation.getFieldMask(),rt.now())):h.set(p.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new ZD(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=nu();let o=new ft(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let T=r.get(y)||In.empty();T=m.applyToLocalView(p,T),r.set(y,T);const w=(o.get(m.batchId)||Pe()).add(y);o=o.insert(m.batchId,w)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,T=y.value,w=ub();T.forEach((A=>{if(!u.has(A)){const V=pb(n.get(A),r.get(A));V!==null&&w.set(A,V),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ie.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ie.resolve(ia());let m=lu,y=u;return h.next((p=>ie.forEach(p,((T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{y=y.insert(T,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Pe()))).next((T=>({batchId:m,changes:lb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=Ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(y=>{const p=(function(w,A){return new Vo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((T=>{T.forEach(((w,A)=>{h=h.insert(w,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((y,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,an.newInvalidDocument(T)))}));let m=Ql();return h.forEach(((y,p)=>{const T=u.get(y);T!==void 0&&iu(T.mutation,p,In.empty(),rt.now()),gf(n,p)&&(m=m.insert(y,p))})),m}))}}class tO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:qD(o.bundledQuery),readTime:zi(o.readTime)}})(n)),ie.resolve()}}class nO{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ia();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=ia(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let T=u.get(p.largestBatchId);T===null&&(T=ia(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=ia(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new ED(n,r));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class iO{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class mg{constructor(){this.Qr=new Lt(qt.$r),this.Ur=new Lt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new nt([])),r=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),r=new qt(n,e),o=new qt(n,e+1);let u=Pe();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class sO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vD(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(ke);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const h=new qt(new pe(u),0);let m=new Lt(ke);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qt(n,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rO{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=bs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=bs();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||VI(MI(T),r)<=0||(o.has(T.key)||gf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new aO(this)}getSize(e){return ie.resolve(this.size)}}class aO extends WD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class oO{constructor(e){this.persistence=e,this.si=new ma((n=>ag(n)),og),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class xb{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new iO,this.referenceDelegate=e(this),this.Pi=new oO(this),this.indexManager=new HD,this.remoteDocumentCache=(function(o){return new rO(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $D(n),this.Ii=new tO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new sO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new lO(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class lO extends kI{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new mg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.pi=new ma((r=>LI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=JD(this,n)}static mi(e,n){return new Xh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(r++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gg(e,n.fromCache,r,o)}}class uO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BC()?8:PI(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new uO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(oo()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(oo()<=je.DEBUG&&ue("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(oo()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):ie.resolve())}ys(e,n){if(w0(n))return ie.resolve(null);let r=Li(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=yp(n,null,"F"),r=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.Ds(n,m);return this.Cs(n,p,h,y.readTime)?this.ys(e,yp(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,r,o){return w0(n)||o.isEqual(Se.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?ie.resolve(null):(oo()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,OI(o,lu)).next((m=>m)))}))}Ds(e,n){let r=new Lt(ab(e));return n.forEach(((o,u)=>{gf(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return oo()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,pr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const yg="LocalStore",hO=3e8;class fO{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(ke),this.xs=new ma((u=>ag(u)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dO(i,e,n,r){return new fO(i,e,n,r)}async function Nb(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let y=Pe();for(const p of o){h.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function mO(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,p,T){const w=p.batch,A=w.keys();let V=ie.resolve();return A.forEach((K=>{V=V.next((()=>T.getEntry(y,K))).next((D=>{const k=p.docVersions.get(K);Ge(k!==null,48541),D.version.compareTo(k)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),T.addEntry(D)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(y,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Ib(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pO(i,e){const n=Re(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),o=o.insert(w,V),(function(D,k,Q){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=hO?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,V,T)&&m.push(n.Pi.updateTargetData(u,V))}));let y=bs(),p=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(gO(u,h,e.documentUpdates).next((T=>{y=T.ks,p=T.qs}))),!r.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function gO(i,e,n){let r=Pe(),o=Pe();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let h=bs();return n.forEach(((m,y)=>{const p=u.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ue(yg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function yO(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _O(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new ur(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function wp(i,e,n){const r=Re(i),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;ue(yg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function j0(i,e,n){const r=Re(i);let o=Se.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,p,T){const w=Re(y),A=w.xs.get(T);return A!==void 0?ie.resolve(w.Ms.get(A)):w.Pi.getTargetData(p,T)})(r,h,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe()))).next((m=>(vO(r,sD(e),m),{documents:m,Qs:u})))))}function vO(i,e,n){let r=i.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class k0{constructor(){this.activeTargetIds=cD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EO{constructor(){this.Mo=new k0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new k0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TO{Oo(e){}shutdown(){}}const P0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(P0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(P0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vh=null;function bp(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}const $m="RestConnection",wO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=bp(),m=this.zo(e,n.toUriEncodedString());ue($m,`Sending RPC '${e}' ${h}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:p}=new URL(m),T=ha(p);return this.Jo(e,m,y,r,T).then((w=>(ue($m,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw To($m,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",r),w}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=wO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class SO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class AO extends bO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=bp();return new Promise(((m,y)=>{const p=new Mw;p.setWithCredentials(!0),p.listenOnce(Vw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ch.NO_ERROR:const w=p.getResponseJson();ue(sn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case Ch.TIMEOUT:ue(sn,`RPC '${e}' ${h} timed out`),y(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const A=p.getStatus();if(ue(sn,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const K=V?.error;if(K&&K.status&&K.message){const D=(function(Q){const te=Q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(te)>=0?te:Z.UNKNOWN})(K.status);y(new le(D,K.message))}else y(new le(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(sn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ue(sn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=bp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Pw(),m=kw(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const T=u.join("");ue(sn,`Creating RPC '${e}' stream ${o}: ${T}`,y);const w=h.createWebChannel(T,y);this.I_(w);let A=!1,V=!1;const K=new SO({Yo:k=>{V?ue(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(ue(sn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(sn,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),D=(k,Q,te)=>{k.listen(Q,(se=>{try{te(se)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return D(w,Yl.EventType.OPEN,(()=>{V||(ue(sn,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),D(w,Yl.EventType.CLOSE,(()=>{V||(V=!0,ue(sn,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(w))})),D(w,Yl.EventType.ERROR,(k=>{V||(V=!0,To(sn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),K.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),D(w,Yl.EventType.MESSAGE,(k=>{if(!V){const Q=k.data[0];Ge(!!Q,16349);const te=Q,se=te?.error||te[0]?.error;if(se){ue(sn,`RPC '${e}' stream ${o} received error:`,se);const ge=se.status;let Te=(function(R){const C=It[R];if(C!==void 0)return yb(C)})(ge),be=se.message;Te===void 0&&(Te=Z.INTERNAL,be="Unknown error status: "+ge+" with message "+se.message),V=!0,K.a_(new le(Te,be)),w.close()}else ue(sn,`RPC '${e}' stream ${o} received:`,Q),K.u_(Q)}})),D(m,jw.STAT_EVENT,(k=>{k.stat===cp.PROXY?ue(sn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===cp.NOPROXY&&ue(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qm(){return typeof document<"u"?document:null}function Ef(i){return new ND(i,!0)}class Db{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L0="PersistentStream";class Ob{constructor(e,n,r,o,u,h,m,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Db(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RO extends Ob{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OD(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?zi(h.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Tp(this.serializer),n.addTarget=(function(u,h){let m;const y=h.target;if(m=pp(y)?{documents:jD(u,y)}:{query:kD(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Eb(u,h.resumeToken);const p=_p(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const p=_p(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=UD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Tp(this.serializer),n.removeTarget=e,this.q_(n)}}class CO extends Ob{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VD(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>MD(this.serializer,r)))};this.q_(n)}}class xO{}class NO extends xO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,vp(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,vp(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class DO{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{pa(this)&&(ue(ca,"Restarting streams for network reachability change."),await(async function(y){const p=Re(y);p.Ea.add(4),await xu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Tf(p)})(this))}))})),this.Ra=new IO(r,o)}}async function Tf(i){if(pa(i))for(const e of i.da)await e(!0)}async function xu(i){for(const e of i.da)await e(!1)}function Mb(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tg(n)?Eg(n):jo(n).O_()&&vg(n,e))}function _g(i,e){const n=Re(i),r=jo(n);n.Ia.delete(e),r.O_()&&Vb(n,e),n.Ia.size===0&&(r.O_()?r.L_():pa(n)&&n.Ra.set("Unknown"))}function vg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(i).Y_(e)}function Vb(i,e){i.Va.Ue(e),jo(i).Z_(e)}function Eg(i){i.Va=new AD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function Tg(i){return pa(i)&&!jo(i).x_()&&i.Ia.size>0}function pa(i){return Re(i).Ea.size===0}function jb(i){i.Va=void 0}async function OO(i){i.Ra.set("Online")}async function MO(i){i.Ia.forEach(((e,n)=>{vg(i,e)}))}async function VO(i,e){jb(i),Tg(i)?(i.Ra.ha(e),Eg(i)):i.Ra.set("Unknown")}async function jO(i,e,n){if(i.Ra.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(r){ue(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(i,r)}else if(e instanceof Dh?i.Va.Ze(e):e instanceof _b?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const r=await Ib(i.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,p)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),Vb(u,y);const w=new ur(T.target,y,p,T.sequenceNumber);vg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){ue(ca,"Failed to raise snapshot:",r),await Jh(i,r)}}async function Jh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await xu(i),i.Ra.set("Offline"),n||(n=()=>Ib(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ca,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Tf(i)}))}function kb(i,e){return e().catch((n=>Jh(i,n,e)))}async function wf(i){const e=Re(i),n=vr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;kO(e);)try{const o=await yO(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,PO(e,o)}catch(o){await Jh(e,o)}Pb(e)&&Ub(e)}function kO(i){return pa(i)&&i.Ta.length<10}function PO(i,e){i.Ta.push(e);const n=vr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Pb(i){return pa(i)&&!vr(i).x_()&&i.Ta.length>0}function Ub(i){vr(i).start()}async function UO(i){vr(i).ra()}async function LO(i){const e=vr(i);for(const n of i.Ta)e.ea(n.mutations)}async function zO(i,e,n){const r=i.Ta.shift(),o=hg.from(r,e,n);await kb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await wf(i)}async function BO(i,e){e&&vr(i).X_&&await(async function(r,o){if((function(h){return wD(h)&&h!==Z.ABORTED})(o.code)){const u=r.Ta.shift();vr(r).B_(),await kb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wf(r)}})(i,e),Pb(i)&&Ub(i)}async function z0(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ue(ca,"RemoteStore received new credentials");const r=pa(n);n.Ea.add(3),await xu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function FO(i,e){const n=Re(i);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function jo(i){return i.ma||(i.ma=(function(n,r,o){const u=Re(n);return u.sa(),new RO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:OO.bind(null,i),t_:MO.bind(null,i),r_:VO.bind(null,i),H_:jO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Tg(i)?Eg(i):i.Ra.set("Unknown")):(await i.ma.stop(),jb(i))}))),i.ma}function vr(i){return i.fa||(i.fa=(function(n,r,o){const u=Re(n);return u.sa(),new CO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:UO.bind(null,i),r_:BO.bind(null,i),ta:LO.bind(null,i),na:zO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await wf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class wg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new wg(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(i,e){if(ws("AsyncQueue",`${e}: ${i}`),Mo(i))return new le(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Ql(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class B0{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ro{constructor(e,n,r,o,u,h,m,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,go.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class $O{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qO{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Re(n),u=o.queries;o.queries=F0(),u.forEach(((h,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function F0(){return new ma((i=>rb(i)),pf)}async function Lb(i,e){const n=Re(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new $O,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=bg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Sg(n)}async function zb(i,e){const n=Re(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HO(i,e){const n=Re(i);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&Sg(n)}function GO(i,e,n){const r=Re(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Sg(i){i.Ca.forEach((e=>{e.next()}))}var Sp,$0;($0=Sp||(Sp={})).Ma="default",$0.Cache="cache";class Bb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}class Fb{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class KO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=ab(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new B0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const A=o.get(T),V=gf(this.query,w)?w:null,K=!!A&&this.mutatedKeys.has(A.key),D=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;A&&V?A.data.isEqual(V.data)?K!==D&&(r.track({type:3,doc:V}),k=!0):this.su(A,V)||(r.track({type:2,doc:V}),k=!0,(y&&this.eu(V,y)>0||p&&this.eu(V,p)<0)&&(m=!0)):!A&&V?(r.track({type:0,doc:V}),k=!0):A&&!V&&(r.track({type:1,doc:A}),k=!0,(y||p)&&(m=!0)),k&&(V?(h=h.add(V),u=D?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,w)=>(function(V,K){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return D(V)-D(K)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,h.length!==0||p?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $b(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Fb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class YO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QO{constructor(e){this.key=e,this.hu=!1}}class XO{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>rb(m)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JO(i,e,n=!0){const r=Qb(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qb(r,e,n,!0),o}async function WO(i,e){const n=Qb(i);await qb(n,e,!0,!1)}async function qb(i,e,n,r){const o=await _O(i.localStore,Li(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await ZO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Mb(i.remoteStore,o),m}async function ZO(i,e,n,r,o){i.pu=(w,A,V)=>(async function(D,k,Q,te){let se=k.view.ru(Q);se.Cs&&(se=await j0(D.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,se))));const ge=te&&te.targetChanges.get(k.targetId),Te=te&&te.targetMismatches.get(k.targetId)!=null,be=k.view.applyChanges(se,D.isPrimaryClient,ge,Te);return H0(D,k.targetId,be.au),be.snapshot})(i,w,A,V);const u=await j0(i.localStore,e,!0),h=new KO(e,u.Qs),m=h.ru(u.documents),y=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,y);H0(i,n,p.au);const T=new YO(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function e4(i,e,n){const r=Re(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!pf(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&_g(r.remoteStore,o.targetId),Ap(r,o.targetId)})).catch(Oo)):(Ap(r,o.targetId),await wp(r.localStore,o.targetId,!0))}async function t4(i,e){const n=Re(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_g(n.remoteStore,r.targetId))}async function n4(i,e,n){const r=u4(i);try{const o=await(function(h,m){const y=Re(h),p=rt.now(),T=m.reduce(((V,K)=>V.add(K.key)),Pe());let w,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let K=bs(),D=Pe();return y.Ns.getEntries(V,T).next((k=>{K=k,K.forEach(((Q,te)=>{te.isValidDocument()||(D=D.add(Q))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,K))).next((k=>{w=k;const Q=[];for(const te of m){const se=yD(te,w.get(te.key).overlayedDocument);se!=null&&Q.push(new Sr(te.key,se,Jw(se.value.mapValue),oi.exists(!0)))}return y.mutationQueue.addMutationBatch(V,p,Q,m)})).next((k=>{A=k;const Q=k.applyToLocalDocumentSet(w,D);return y.documentOverlayCache.saveOverlays(V,k.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:lb(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let p=h.Vu[h.currentUser.toKey()];p||(p=new ft(ke)),p=p.insert(m,y),h.Vu[h.currentUser.toKey()]=p})(r,o.batchId,n),await Nu(r,o.changes),await wf(r.remoteStore)}catch(o){const u=bg(o,"Failed to persist write");n.reject(u)}}async function Hb(i,e){const n=Re(i);try{const r=await pO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Nu(n,r,e)}catch(r){await Oo(r)}}function q0(i,e,n){const r=Re(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=Re(h);y.onlineState=m;let p=!1;y.queries.forEach(((T,w)=>{for(const A of w.Sa)A.va(m)&&(p=!0)})),p&&Sg(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i4(i,e,n){const r=Re(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,an.newNoDocument(u,Se.min()));const m=Pe().add(u),y=new vf(Se.min(),new Map,new ft(ke),h,m);await Hb(r,y),r.du=r.du.remove(u),r.Au.delete(e),Rg(r)}else await wp(r.localStore,e,!1).then((()=>Ap(r,e,n))).catch(Oo)}async function s4(i,e){const n=Re(i),r=e.batch.batchId;try{const o=await mO(n.localStore,e);Kb(n,r,null),Gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,o)}catch(o){await Oo(o)}}async function r4(i,e,n){const r=Re(i);try{const o=await(function(h,m){const y=Re(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,m).next((w=>(Ge(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(p,w)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(r.localStore,e);Kb(r,e,n),Gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,o)}catch(o){await Oo(o)}}function Gb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Kb(i,e,n){const r=Re(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Yb(i,r)}))}function Yb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(_g(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Rg(i))}function H0(i,e,n){for(const r of n)r instanceof Fb?(i.Ru.addReference(r.key,e),a4(i,r)):r instanceof $b?(ue(Ag,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Yb(i,r.key)):Ee(19791,{wu:r})}function a4(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ue(Ag,"New document in limbo: "+n),i.Eu.add(r),Rg(i))}function Rg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(nt.fromString(e)),r=i.fu.next();i.Au.set(r,new QO(n)),i.du=i.du.insert(n,r),Mb(i.remoteStore,new ur(Li(lg(n.path)),r,"TargetPurposeLimboResolution",ff.ce))}}async function Nu(i,e,n){const r=Re(i),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{h.push(r.pu(y,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){o.push(p);const T=gg.As(y.targetId,p);u.push(T)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(y,p){const T=Re(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(p,(A=>ie.forEach(A.Es,(V=>T.persistence.referenceDelegate.addReference(w,A.targetId,V))).next((()=>ie.forEach(A.ds,(V=>T.persistence.referenceDelegate.removeReference(w,A.targetId,V)))))))))}catch(w){if(!Mo(w))throw w;ue(yg,"Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const V=T.Ms.get(A),K=V.snapshotVersion,D=V.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(A,D)}}})(r.localStore,u))}async function o4(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ue(Ag,"User change. New user:",e.toKey());const r=await Nb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new le(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.Ls)}}function l4(i,e){const n=Re(i),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Qb(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.Pu.H_=HO.bind(null,e.eventManager),e.Pu.yu=GO.bind(null,e.eventManager),e}function u4(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dO(this.persistence,new cO,e.initialUser,this.serializer)}Cu(e){return new xb(pg.mi,this.serializer)}Du(e){return new EO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class c4 extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new xb((r=>Xh.mi(r,n)),this.serializer)}}class Rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o4.bind(null,this.syncEngine),await FO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qO})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=(function(u){return new AO(u)})(e.databaseInfo);return(function(u,h,m,y){return new NO(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new DO(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>q0(this.syncEngine,n,0)),(function(){return U0.v()?new U0:new TO})())}createSyncEngine(e,n){return(function(o,u,h,m,y,p,T){const w=new XO(o,u,h,m,y,p);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);ue(ca,"RemoteStore shutting down."),r.Ea.add(5),await xu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};class Xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Er="FirestoreClient";class h4{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ue(Er,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ue(Er,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Er,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Nb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function G0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await f4(i);ue(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>z0(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>z0(e.remoteStore,o))),i._onlineComponents=e}async function f4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Er,"Using user provided OfflineComponentProvider");try{await Hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Hm(i,new Wh)}}else ue(Er,"Using default OfflineComponentProvider"),await Hm(i,new c4(void 0));return i._offlineComponents}async function Jb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Er,"Using user provided OnlineComponentProvider"),await G0(i,i._uninitializedComponentsProvider._online)):(ue(Er,"Using default OnlineComponentProvider"),await G0(i,new Rp))),i._onlineComponents}function d4(i){return Jb(i).then((e=>e.syncEngine))}async function Wb(i){const e=await Jb(i),n=e.eventManager;return n.onListen=JO.bind(null,e.syncEngine),n.onUnlisten=e4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t4.bind(null,e.syncEngine),n}function m4(i,e,n={}){const r=new _s;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,p){const T=new Xb({next:A=>{T.Nu(),h.enqueueAndForget((()=>zb(u,w)));const V=A.docs.has(m);!V&&A.fromCache?p.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&y&&y.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Bb(lg(m.path),T,{includeMetadataChanges:!0,qa:!0});return Lb(u,w)})(await Wb(i),i.asyncQueue,e,n,r))),r.promise}function p4(i,e,n={}){const r=new _s;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,p){const T=new Xb({next:A=>{T.Nu(),h.enqueueAndForget((()=>zb(u,w))),A.fromCache&&y.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Bb(m,T,{includeMetadataChanges:!0,qa:!0});return Lb(u,w)})(await Wb(i),i.asyncQueue,e,n,r))),r.promise}function Zb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const K0=new Map;const eS="firestore.googleapis.com",Y0=!0;class Q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eS,this.ssl=Y0}else this.host=e.host,this.ssl=e.ssl??Y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KD)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TI;switch(r.type){case"firstParty":return new AI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=K0.get(n);r&&(ue("ComponentProvider","Removing Datastore"),K0.delete(n),r.terminate())})(this),Promise.resolve()}}function g4(i,e,n,r={}){i=$i(i,bf);const o=ha(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Fp(`https://${m}`),$p("Firestore",!0)),u.host!==eS&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!ra(y,h)&&(i._setSettings(y),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=rn.MOCK_USER;else{p=HT(r.mockUserToken,i._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(w)}i._authCredentials=new wI(new Lw(p,T))}}class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Au(n,Et._jsonSchema))return new Et(e,r||null,new pe(nt.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Ot("string",Et._jsonSchemaVersion),referencePath:Ot("string")};class dr extends ga{constructor(e,n,r){super(e,n,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new pe(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Ss(i,e,...n){if(i=zt(i),zw("collection","path",e),i instanceof bf){const r=nt.fromString(e,...n);return l0(r),new dr(i,null,r)}{if(!(i instanceof Et||i instanceof dr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(nt.fromString(e,...n));return l0(r),new dr(i.firestore,null,r)}}function Mt(i,e,...n){if(i=zt(i),arguments.length===1&&(e=ng.newId()),zw("doc","path",e),i instanceof bf){const r=nt.fromString(e,...n);return o0(r),new Et(i,null,new pe(r))}{if(!(i instanceof Et||i instanceof dr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(nt.fromString(e,...n));return o0(r),new Et(i.firestore,i instanceof dr?i.converter:null,new pe(r))}}const X0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Db(this,"async_queue_retry"),this._c=()=>{const r=qm();r&&ue(X0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;ue(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",W0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=wg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ko extends bf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function y4(i,e){const n=typeof i=="object"?i:Gp(),r=typeof i=="string"?i:qh,o=of(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=FT("firestore");u&&g4(o,...u)}return o}function Cg(i){if(i._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||_4(i),i._firestoreClient}function _4(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new FI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Zb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new h4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(tn.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xg{constructor(e){this._methodName=e}}class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Ot("string",Fi._jsonSchemaVersion),vectorValues:Ot("object")};const v4=/^__.*__$/;class E4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class tS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Ng{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nS(this.Ac)&&v4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class T4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Cc(e,n,r,o=!1){return new Ng({Ac:e,methodName:n,Dc:r,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(i){const e=i._freezeSettings(),n=Ef(i._databaseId);return new T4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function w4(i,e,n,r,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",h,r);const m=iS(r,h);let y,p;if(u.merge)y=new In(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const A=Cp(e,w,n);if(!h.contains(A))throw new le(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);rS(T,A)||T.push(A)}y=new In(T),p=h.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,p=h.fieldTransforms;return new E4(new vn(m),y,p)}class Af extends xg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Af}}function b4(i,e,n,r){const o=i.Cc(1,e,n);Dg("Data must be an object, but it was:",o,r);const u=[],h=vn.empty();br(r,((y,p)=>{const T=Og(e,y,n);p=zt(p);const w=o.yc(T);if(p instanceof Af)u.push(T);else{const A=Iu(p,w);A!=null&&(u.push(T),h.set(T,A))}}));const m=new In(u);return new tS(h,m,o.fieldTransforms)}function S4(i,e,n,r,o,u){const h=i.Cc(1,e,n),m=[Cp(e,r,n)],y=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Cp(e,u[A])),y.push(u[A+1]);const p=[],T=vn.empty();for(let A=m.length-1;A>=0;--A)if(!rS(p,m[A])){const V=m[A];let K=y[A];K=zt(K);const D=h.yc(V);if(K instanceof Af)p.push(V);else{const k=Iu(K,D);k!=null&&(p.push(V),T.set(V,k))}}const w=new In(p);return new tS(T,w,h.fieldTransforms)}function A4(i,e,n,r=!1){return Iu(n,i.Cc(r?4:3,e))}function Iu(i,e){if(sS(i=zt(i)))return Dg("Unsupported field value:",e,i),iS(i,e);if(i instanceof xg)return(function(r,o){if(!nS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let y=Iu(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=rt.fromDate(r);return{timestampValue:Qh(o.serializer,u)}}if(r instanceof rt){const u=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:Eb(o.serializer,r._byteString)};if(r instanceof Et){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(h,m){return{mapValue:{fields:{[Qw]:{stringValue:Xw},[Hh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return ug(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${hf(r)}`)})(i,e)}function iS(i,e){const n={};return $w(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(i,((r,o)=>{const u=Iu(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function sS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Bi||i instanceof Gn||i instanceof Et||i instanceof xg||i instanceof Fi)}function Dg(i,e,n){if(!sS(n)||!Bw(n)){const r=hf(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Cp(i,e,n){if((e=zt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Og(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const R4=new RegExp("[~\\*/\\[\\]]");function Og(i,e,n){if(e.search(R4)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${r}`),h&&(y+=` in document ${o}`),y+=")"),new le(Z.INVALID_ARGUMENT,m+i+y)}function rS(i,e){return i.some((n=>n.isEqual(e)))}class aS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C4 extends aS{data(){return super.data()}}function Mg(i,e){return typeof e=="string"?Og(i,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}function x4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class oS extends Vg{}function Du(i,e,...n){let r=[];e instanceof Vg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((y=>y instanceof kg)).length,m=u.filter((y=>y instanceof jg)).length;if(h>1||h>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class jg extends oS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jg(e,n,r)}_apply(e){const n=this._parse(e);return lS(e._query,n),new ga(e.firestore,e.converter,gp(e._query,n))}_parse(e){const n=Ig(e.firestore);return(function(u,h,m,y,p,T,w){let A;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){eT(w,T);const K=[];for(const D of w)K.push(Z0(y,u,D));A={arrayValue:{values:K}}}else A=Z0(y,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||eT(w,T),A=A4(m,h,w,T==="in"||T==="not-in");return Dt.create(p,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class kg extends Vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)lS(h,y),h=gp(h,y)})(e._query,n),new ga(e.firestore,e.converter,gp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends oS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Ou(i,e="asc"){const n=e,r=Mg("orderBy",i);return Pg._create(r,n)}function Z0(i,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g0(i,new pe(r))}if(n instanceof Et)return g0(i,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function eT(i,e){if(!Array.isArray(i)||i.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N4{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return br(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Hh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new Bi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=gr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ge(Rb(r),9688,{name:e});const o=new cu(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(n)||ws(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function I4(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends aS{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Ot("string",sa._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Oh extends sa{data(e={}){return super.data(e)}}class yo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Oh(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:D4(m.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function Vt(i){i=$i(i,Et);const e=$i(i.firestore,ko);return m4(Cg(e),i._key).then((n=>O4(e,i,n)))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Ot("string",yo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class uS extends N4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Mu(i){i=$i(i,ga);const e=$i(i.firestore,ko),n=Cg(e),r=new uS(e);return x4(i._query),p4(n,i._query).then((o=>new yo(e,r,i,o)))}function Vu(i,e,n){i=$i(i,Et);const r=$i(i.firestore,ko),o=I4(i.converter,e);return Ug(r,[w4(Ig(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,oi.none())])}function ju(i,e,n,...r){i=$i(i,Et);const o=$i(i.firestore,ko),u=Ig(o);let h;return h=typeof(e=zt(e))=="string"||e instanceof Sf?S4(u,"updateDoc",i._key,e,n,r):b4(u,"updateDoc",i._key,e),Ug(o,[h.toMutation(i._key,oi.exists(!0))])}function ku(i){return Ug($i(i.firestore,ko),[new cg(i._key,oi.none())])}function Ug(i,e){return(function(r,o){const u=new _s;return r.asyncQueue.enqueueAndForget((async()=>n4(await d4(r),o,u))),u.promise})(Cg(i),e)}function O4(i,e,n){const r=n.docs.get(e._key),o=new uS(i);return new sa(i,o,e._key,r,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Do=o})(fa),aa(new mr("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new ko(new bI(r.getProvider("auth-internal")),new RI(h,r.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(p.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ki(i0,s0,e),ki(i0,s0,"esm2020")})();const cS="firebasestorage.googleapis.com",M4="storageBucket",V4=120*1e3,j4=600*1e3;class Ki extends Gi{constructor(e,n,r=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function Gm(i){return"storage/"+i}function k4(){const i="An unknown error occurred, please check the error payload for server response.";return new Ki(Hi.UNKNOWN,i)}function P4(){return new Ki(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U4(){return new Ki(Hi.CANCELED,"User canceled the upload/download.")}function L4(i){return new Ki(Hi.INVALID_URL,"Invalid URL '"+i+"'.")}function z4(i){return new Ki(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tT(i){return new Ki(Hi.INVALID_ARGUMENT,i)}function hS(){return new Ki(Hi.APP_DELETED,"The Firebase app was deleted.")}function B4(i){return new Ki(Hi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw z4(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ge){ge.path.charAt(ge.path.length-1)==="/"&&(ge.path_=ge.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),y={bucket:1,path:3};function p(ge){ge.path_=decodeURIComponent(ge.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",V=new RegExp(`^https?://${w}/${T}/b/${o}/o${A}`,"i"),K={bucket:1,path:3},D=n===cS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",Q=new RegExp(`^https?://${D}/${o}/${k}`,"i"),se=[{regex:m,indices:y,postModify:u},{regex:V,indices:K,postModify:p},{regex:Q,indices:{bucket:1,path:2},postModify:p}];for(let ge=0;ge<se.length;ge++){const Te=se[ge],be=Te.regex.exec(e);if(be){const I=be[Te.indices.bucket];let R=be[Te.indices.path];R||(R=""),r=new ai(I,R),Te.postModify(r);break}}if(r==null)throw L4(e);return r}}class F4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $4(i,e,n){let r=1,o=null,u=null,h=!1,m=0;function y(){return m===2}let p=!1;function T(...k){p||(p=!0,e.apply(null,k))}function w(k){o=setTimeout(()=>{o=null,i(V,y())},k)}function A(){u&&clearTimeout(u)}function V(k,...Q){if(p){A();return}if(k){A(),T.call(null,k,...Q);return}if(y()||h){A(),T.call(null,k,...Q);return}r<64&&(r*=2);let se;m===1?(m=2,se=0):se=(r+Math.random())*1e3,w(se)}let K=!1;function D(k){K||(K=!0,A(),!p&&(o!==null?(k||(m=2),clearTimeout(o),w(0)):k||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,D(!0)},n),D}function q4(i){i(!1)}function H4(i){return i!==void 0}function nT(i,e,n,r){if(r<e)throw tT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw tT(`Invalid value for '${i}'. Expected ${n} or less.`)}function G4(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ef;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ef||(ef={}));function K4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class Y4{constructor(e,n,r,o,u,h,m,y,p,T,w,A=!0,V=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=y,this.timeout_=p,this.progressCallback_=T,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,D)=>{this.resolve_=K,this.reject_=D,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Eh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const y=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ef.NO_ERROR,y=u.getStatus();if(!m||K4(y,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===ef.ABORT;r(!1,new Eh(!1,null,T));return}const p=this.successCodes_.indexOf(y)!==-1;r(!0,new Eh(p,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());H4(y)?u(y):u()}catch(y){h(y)}else if(m!==null){const y=k4();y.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,y)):h(y)}else if(o.canceled){const y=this.appDelete_?hS():U4();h(y)}else{const y=P4();h(y)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=$4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Q4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function X4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function W4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Z4(i,e,n,r,o,u,h=!0,m=!1){const y=G4(i.urlParams),p=i.url+y,T=Object.assign({},i.headers);return J4(T,e),Q4(T,n),X4(T,u),W4(T,r),new Y4(p,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function eM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function tM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class tf{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tf(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tM(this._location.path)}get storage(){return this._service}get parent(){const e=eM(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new tf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw B4(e)}}function iT(i,e){const n=e?.[M4];return n==null?null:ai.makeFromBucketSpec(n,i)}function nM(i,e,n,r={}){i.host=`${e}:${n}`;const o=ha(e);o&&(Fp(`https://${i.host}/b`),$p("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:HT(u,i.app.options.projectId))}class iM{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=cS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V4,this._maxUploadRetryTime=j4,this._requests=new Set,o!=null?this._bucket=ai.makeFromBucketSpec(o,this._host):this._bucket=iT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=iT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tf(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new F4(hS());{const h=Z4(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const sT="@firebase/storage",rT="0.14.0";const fS="storage";function sM(i=Gp(),e){i=zt(i);const r=of(i,fS).getImmediate({identifier:e}),o=FT("storage");return o&&rM(r,...o),r}function rM(i,e,n,r={}){nM(i,e,n,r)}function aM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new iM(n,r,o,e,fa)}function oM(){aa(new mr(fS,aM,"PUBLIC").setMultipleInstances(!0)),ki(sT,rT,""),ki(sT,rT,"esm2020")}oM();const lM={apiKey:"AIzaSyDk9twIdV6EXdWiuko0fYRtEv2yMaD-wPo",authDomain:"bubbles-lims.firebaseapp.com",projectId:"bubbles-lims",storageBucket:"bubbles-lims.firebasestorage.app",messagingSenderId:"103191297116",appId:"1:103191297116:web:9bc8a21a35799092f3ba99"},Lg=YT(lM),Rf=Dw(Lg),at=y4(Lg);sM(Lg);new ds;const uM=[{name:"Dashboard",href:"/",icon:Up},{name:"Staff",href:"/staff",icon:ji},{name:"Clients",href:"/clients",icon:ji},{name:"Contacts",href:"/contacts",icon:ji},{name:"Services",href:"/services",icon:Vi},{name:"Items",href:"/items",icon:Vi},{name:"Jobs",href:"/jobs",icon:Vi},{name:"Batches",href:"/batches",icon:Vi},{name:"Invoices",href:"/invoices",icon:Vh},{name:"Quotes",href:"/quotes",icon:Vh},{name:"Settings",href:"/settings",icon:zp}];function cM(){const i=()=>{Rf.signOut()};return g.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 border-r border-cyan-500 w-64",children:[g.jsxs("div",{className:"flex items-center gap-3 px-6 h-16",children:[g.jsx("div",{className:"h-12 w-12",children:g.jsx("img",{src:"/logo.png"})}),g.jsx("span",{className:" text-cyan-50 font-thin font-bubble text-3xl",children:"BUBBLES"})]}),g.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:uM.map(e=>g.jsxs(kp,{to:e.href,className:({isActive:n})=>`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-cyan-500/50 text-cyan-100":"text-cyan-100 hover:bg-cyan-200/50 hover:text-cyan-900"}`,children:[g.jsx(e.icon,{className:"h-5 w-5"}),e.name]},e.name))}),g.jsx("div",{className:"p-4 ",children:g.jsxs("button",{onClick:i,className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-cyan-50 rounded-md bg-cyan-500/50 hover:bg-cyan-600/50 w-full transition-colors",children:[g.jsx(kT,{className:"h-5 w-5"}),"Sign Out"]})})]})}const hM=[{name:"Dashboard",href:"/",icon:Up},{name:"Staff",href:"/staff",icon:ji},{name:"Clients",href:"/clients",icon:ji},{name:"Contacts",href:"/contacts",icon:ji},{name:"Items",href:"/items",icon:Vi},{name:"Services",href:"/services",icon:Vi},{name:"Jobs",href:"/jobs",icon:nC},{name:"Settings",href:"/settings",icon:zp}];function fM(){const[i,e]=U.useState(!1),n=()=>{Rf.signOut()},r=[...hM];return g.jsxs(g.Fragment,{children:[i&&g.jsx("div",{className:"fixed inset-0 z-20 bg-black/20 backdrop-blur-sm md:hidden",onClick:()=>e(!1)}),g.jsxs("div",{className:`fixed inset-x-0 bottom-0 z-30 border-t border-cyan-500 bg-gradient-to-t from-blue-900/90 to-blue-700/90 transition-all duration-300 ease-in-out md:hidden ${i?"max-h-80 pb-6":"max-h-20"}`,children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("button",{onClick:()=>e(!i),className:"flex h-6 w-full items-center justify-center text-cyan-500/50 hover:text-cyan-400",children:i?g.jsx(sC,{size:20}):g.jsx(aC,{size:20})})}),g.jsxs("div",{className:"grid grid-cols-5 gap-y-4 px-2 pb-4",children:[r.map(o=>g.jsxs(kp,{to:o.href,onClick:()=>e(!1),className:({isActive:u})=>`flex flex-col items-center justify-center gap-1 py-2 mb-1 text-[10px] font-medium transition-colors ${u?"text-cyan-400 bg-blue-500/20 rounded-lg":"text-cyan-500 hover:text-cyan-100"}`,children:[g.jsx(o.icon,{className:"h-5 w-5"}),g.jsx("span",{className:"truncate w-full text-center",children:o.name})]},o.name)),g.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center gap-1 py-2 text-[10px] font-medium transition-colors text-cyan-500 hover:text-cyan-100",children:[g.jsx(kT,{className:"h-5 w-5"}),g.jsx("span",{children:"Sign Out"})]})]})]})]})}function dM(){return g.jsxs(g.Fragment,{children:[g.jsx(fM,{}),g.jsxs("div",{className:"flex min-h-screen flex-col",children:[g.jsx("div",{className:"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col",children:g.jsx(cM,{})}),g.jsx("div",{className:"flex flex-1 flex-col md:pl-64",children:g.jsx("main",{className:"flex-1",children:g.jsx("div",{className:"",children:g.jsx("div",{className:"mx-auto max-w-8xl",children:g.jsx(iR,{})})})})})]})]})}function mM(){const[i,e]=U.useState(""),[n,r]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState(!1),y=sf(),p=async T=>{T.preventDefault(),m(!0),u("");try{await rN(Rf,i,n),y("/")}catch(w){console.error(w),u("Failed to sign in. Please check your credentials.")}finally{m(!1)}};return g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-md w-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 rounded-xl shadow-lg p-6 space-y-6",children:[g.jsxs("div",{className:"text-center py-6 space-y-2",children:[g.jsx("div",{className:"mx-auto h-20 w-20 flex items-center",children:g.jsx("img",{src:"/logo.png"})}),g.jsx("h2",{className:"text-6xl text-cyan-400 font-bubble",children:"BUBBLES"}),g.jsx("p",{className:"text-sm text-cyan-200",children:"Laundry Information Management System"})]}),o&&g.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm text-center",children:o}),g.jsxs("form",{onSubmit:p,className:"pb-6 space-y-6",children:[g.jsx("div",{children:g.jsx("div",{className:"mt-1",children:g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:T=>e(T.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),g.jsx("div",{children:g.jsx("div",{className:"mt-1",children:g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:T=>r(T.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),g.jsx("div",{children:g.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 border border-transparent text-white font-medium py-3 px-4 rounded-lg hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h?g.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):g.jsx(hC,{className:"h-5 w-5"}),"Sign in"]})})]}),g.jsxs("div",{className:"text-center text-xs text-cyan-400 mt-6",children:[" ",new Date().getFullYear()," Bubbles LIMS"]})]})})}function Po({title:i}){const e=he;return g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:`${e.card} space-y-4`,children:[g.jsx("h2",{className:`${e.selected_name}`,children:i}),g.jsxs("p",{className:`${e.name}`,children:[i," will be managed here in the future."]})]})})}const aT="Dashboard",pM=Up;function gM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(pM,{className:"w-6 h-6"}),g.jsx("h1",{children:aT})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(Po,{title:aT})})]})}function dS(i){const e={canViewUsers:!1,canCreateUsers:!1,canEditUsers:!1,canDeleteUsers:!1,canViewClients:!1,canCreateClients:!1,canEditClients:!1,canDeleteClients:!1};switch(i){case"owner":return Object.keys(e).reduce((n,r)=>(n[r]=!0,n),{});case"manager":return{...e,canViewUsers:!0,canCreateUsers:!0,canEditUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"operator":return{...e,canViewUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"driver":return{...e,canViewUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"developer":return{...e,canViewUsers:!0,canCreateUsers:!0,canEditUsers:!0,canDeleteUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0,canDeleteClients:!0};default:return e}}const oT=i=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[i],Pu=i=>i[0],Km={async getAllUsers(){try{console.log("Fetching all users for search...");const i=Du(Ss(at,"users"),Ou("uid"));return(await Mu(i)).docs.map(r=>({uid:r.id,...r.data()}))}catch(i){console.error("Firebase error fetching all users:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(i){try{console.log(`Fetching user with uid: ${i}`);const e=await Vt(Mt(at,"users",i));if(!e.exists())throw new Error(`User with uid ${i} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(i){const e=Dw();let n;try{console.log("Creating new user with authentication:",i.email),n=(await sN(e,i.email,i.password)).user;const o=new Date().toISOString(),u={uid:n.uid,name:i.name,email:i.email,phone:i.phone,role:i.role,permissions:dS(i.role),timestamp:{createdAt:o,updatedAt:o}};return await Vu(Mt(at,"users",n.uid),u),console.log("User created successfully with uid:",n.uid),u}catch(r){if(console.error("Firebase error adding user:",r),n)try{await uN(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(i,e){try{console.log(`Updating user ${i}:`,e);const n=Mt(at,"users",i);if(!(await Vt(n)).exists())throw new Error(`User with uid ${i} not found`);await ju(n,e);const o=await Vt(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${i}:`,n);const r=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${r}`)}},async deleteUser(i){try{console.log(`Deleting user with uid: ${i}`);const e=Mt(at,"users",i);if(!(await Vt(e)).exists())throw new Error(`User with uid ${i} not found`);await ku(e),console.log(`User ${i} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}},zg=({className:i})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:i,"aria-hidden":"true",children:g.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})});function mS({initialData:i,onSubmit:e,onCancel:n,submitLabel:r="Save",isEditMode:o=!1}){const[u,h]=U.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",role:i?.role||"operator",password:"",confirmPassword:""}),[m,y]=U.useState(!1),p=async T=>{if(T.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}y(!0);try{const w={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(w)}finally{y(!1)}};return g.jsxs("form",{onSubmit:p,className:`${B.form.layout}`,autoComplete:"off",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:`${B.form.label}`,children:"Name *"}),g.jsx("input",{type:"text",id:"name",value:u.name,onChange:T=>h({...u,name:T.target.value}),className:`${B.form.input}`,autoComplete:"off",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:`${B.form.label}`,children:"Email *"}),g.jsx("input",{type:"email",id:"email",value:u.email,onChange:T=>h({...u,email:T.target.value}),className:`${B.form.input}`,autoComplete:"new-email",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"phone",className:`${B.form.label}`,children:"Phone"}),g.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:T=>h({...u,phone:T.target.value}),className:`${B.form.input}`,autoComplete:"new-phone"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"role",className:`${B.form.label}`,children:"Role *"}),g.jsxs("select",{id:"role",value:u.role,onChange:T=>h({...u,role:T.target.value}),className:`${B.form.input}`,required:!0,children:[g.jsx("option",{value:"owner",children:"Owner"}),g.jsx("option",{value:"manager",children:"Manager"}),g.jsx("option",{value:"operator",children:"Operator"}),g.jsx("option",{value:"driver",children:"Driver"}),g.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:`${B.form.label}`,children:"Password *"}),g.jsx("input",{type:"password",id:"password",value:u.password,onChange:T=>h({...u,password:T.target.value}),className:`${B.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirmPassword",className:`${B.form.label}`,children:"Confirm Password *"}),g.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:T=>h({...u,confirmPassword:T.target.value}),className:`${B.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),g.jsxs("div",{className:`${B.form.action}`,children:[g.jsx("button",{type:"submit",disabled:m,className:`${B.button.solid}`,children:m?"Saving...":r}),g.jsx("button",{type:"button",onClick:n,disabled:m,className:`${B.button.outline}`,children:"Cancel"})]})]})}function yM({user:i,isViewing:e,onView:n,onCancelView:r,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){return g.jsxs("div",{className:`${he.card}`,children:[g.jsxs("div",{className:`${he.header}`,children:[g.jsx("div",{className:`${he.title}`,children:g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx("div",{children:g.jsx("div",{className:`${yu.profile_initial} ${oT(i.role)}`,children:Pu(i.name)})}),g.jsxs("div",{children:[e?g.jsx("h3",{className:`${he.selected_name}`,onClick:r,children:i.name}):g.jsx("h3",{className:`${he.name}`,onClick:n,children:i.name}),g.jsx("span",{className:`${he.tags} ${oT(i.role)}`,children:i.role.charAt(0).toUpperCase()+i.role.slice(1)})]})]})}),e?g.jsx("div",{className:`${he.selection}`,onClick:r}):g.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&g.jsxs("div",{children:[g.jsxs("div",{className:`${he.list_content}`,children:[g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(Eo,{className:"w-4 h-4"}),g.jsx("p",{children:i.phone})]}),g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(vo,{className:"w-4 h-4"}),g.jsx("p",{children:i.email})]})]}),g.jsxs("div",{className:`${he.contact_grid}`,children:[g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(Eo,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(vo,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(zg,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(Pp,{className:"w-8 h-8 mx-auto"})})]}),g.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&g.jsxs("button",{onClick:u,className:`${B.button.solid}`,title:"Edit User",children:[g.jsx(_u,{className:"w-5 h-5"}),g.jsx("span",{children:"Edit User"})]})}),o&&g.jsx("div",{children:g.jsx(mS,{initialData:{name:i.name,email:i.email,phone:i.phone,role:i.role},onSubmit:h,onCancel:m,submitLabel:"Update",isEditMode:!0})})]})]})}function _M(){const[i,e]=U.useState([]),[n,r]=U.useState(!0),[o,u]=U.useState(null),[h,m]=U.useState(null),[y,p]=U.useState(null),[T,w]=U.useState(!1);U.useEffect(()=>{A()},[]);const A=async()=>{try{r(!0),u(null);const D=await Km.getAllUsers();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load users";u(k)}finally{r(!1)}},V=async D=>{try{if(u(null),!D.password)throw new Error("Password is required for new users");await Km.addUser({...D,password:D.password}),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add user";u(Q)}},K=async(D,k,Q)=>{try{u(null);const{password:te,...se}=Q;se.timestamp={updatedAt:new Date().toISOString()},se.permissions=dS(k),await Km.updateUser(D,se),await A(),p(null)}catch(te){const se=te instanceof Error?te.message:"Failed to update user";u(se)}};return n?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.notice}`,children:"Loading..."})}):o?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.error}`,children:o})}):g.jsxs("div",{className:"p-4",children:[!T&&g.jsx("div",{className:"flex mb-4",children:g.jsxs("button",{onClick:()=>w(!T),className:`${B.button.outline}`,children:[g.jsx(Bp,{className:"w-5 h-5"}),g.jsx("span",{children:"Add User"})]})}),T&&g.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[g.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[g.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:g.jsx("span",{className:"font-light text-2xl",children:"N"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),g.jsx(mS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?g.jsx("p",{className:`${B.system.notice}`,children:"No staff found. Add your first user to get started."}):g.jsx("div",{className:"space-y-2",children:i.map(D=>g.jsx(yM,{user:D,isViewing:h?.uid===D.uid,onView:()=>m(D),onCancelView:()=>m(null),isEditing:y?.uid===D.uid,onEdit:()=>p(D),onUpdate:k=>K(D.uid,D.role,k),onCancelEdit:()=>p(null)},D.uid))})]})}const vM="Laundry Staff",EM=ji;function TM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(EM,{className:"w-6 h-6"}),g.jsx("h1",{children:vM})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(_M,{})})]})}const Ym={async getAllClients(){try{console.log("Fetching all clients...");const i=Du(Ss(at,"clients"),Ou("name"));return(await Mu(i)).docs.map(r=>({id:r.id,...r.data()}))}catch(i){console.error("Firebase error fetching all clients:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all clients: ${e}`)}},async getClient(i){try{console.log(`Fetching client with id: ${i}`);const e=await Vt(Mt(at,"clients",i));if(!e.exists())throw new Error(`Client with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching client ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch client: ${n}`)}},async addClient(i){try{console.log("Creating new client:",i.name);const e=Mt(Ss(at,"clients")),n=new Date().toISOString(),r={id:e.id,name:i.name,email:i.email,phone:i.phone,address:i.address,clientType:i.clientType,timestamp:{createdAt:n,updatedAt:n}};return await Vu(e,r),console.log("Client created successfully with id:",e.id),r}catch(e){console.error("Firebase error adding client:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add client: ${n}`)}},async updateClient(i,e){try{console.log(`Updating client ${i}:`,e);const n=Mt(at,"clients",i);if(!(await Vt(n)).exists())throw new Error(`Client with id ${i} not found`);await ju(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating client ${i}:`,n);const r=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update client: ${r}`)}},async deleteClient(i){try{console.log(`Deleting client with id: ${i}`);const e=Mt(at,"clients",i);if(!(await Vt(e)).exists())throw new Error(`Client with id ${i} not found`);await ku(e),console.log(`Client ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting client ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete client: ${n}`)}}};function pS({initialData:i,onSubmit:e,onCancel:n,submitLabel:r="Save"}){const[o,u]=U.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",clientType:i?.clientType||"residential",address:{street:i?.address?.street||"",city:i?.address?.city||"",region:i?.address?.region||"",postalCode:i?.address?.postalCode||"",country:i?.address?.country||""}}),[h,m]=U.useState(!1),y=async p=>{if(p.preventDefault(),!o.name.trim()||!o.email.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return g.jsxs("form",{onSubmit:y,className:`${B.form.layout}`,autoComplete:"off",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:`${B.form.label}`,children:"Name *"}),g.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${B.form.input}`,autoComplete:"off",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:`${B.form.label}`,children:"Email *"}),g.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),className:`${B.form.input}`,autoComplete:"new-email",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"phone",className:`${B.form.label}`,children:"Phone"}),g.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),className:`${B.form.input}`,autoComplete:"new-phone"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"clientType",className:`${B.form.label}`,children:"Client Type *"}),g.jsxs("select",{id:"clientType",value:o.clientType,onChange:p=>u({...o,clientType:p.target.value}),className:`${B.form.input}`,required:!0,children:[g.jsx("option",{value:"Property Management",children:"Property Management"}),g.jsx("option",{value:"Yacht Charters",children:"Yacht Charters"}),g.jsx("option",{value:"Yacht Maintainence",children:"Yacht Maintainence"}),g.jsx("option",{value:"Golf Club",children:"Golf Club"}),g.jsx("option",{value:"yacht",children:"Yacht"}),g.jsx("option",{value:"villa",children:"Villa"}),g.jsx("option",{value:"hotel",children:"Hotel"}),g.jsx("option",{value:"restaurant",children:"Restaurant"}),g.jsx("option",{value:"residential",children:"Residential"}),g.jsx("option",{value:"corporate",children:"Corporate"}),g.jsx("option",{value:"other",children:"Other"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"street",className:`${B.form.label}`,children:"Street Address"}),g.jsx("input",{type:"text",id:"street",value:o.address.street,onChange:p=>u({...o,address:{...o.address,street:p.target.value}}),className:`${B.form.input}`,autoComplete:"street-address"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"city",className:`${B.form.label}`,children:"City"}),g.jsx("input",{type:"text",id:"city",value:o.address.city,onChange:p=>u({...o,address:{...o.address,city:p.target.value}}),className:`${B.form.input}`,autoComplete:"address-level2"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"region",className:`${B.form.label}`,children:"Region/State"}),g.jsx("input",{type:"text",id:"region",value:o.address.region,onChange:p=>u({...o,address:{...o.address,region:p.target.value}}),className:`${B.form.input}`,autoComplete:"address-level1"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"postalCode",className:`${B.form.label}`,children:"Postal Code"}),g.jsx("input",{type:"text",id:"postalCode",value:o.address.postalCode,onChange:p=>u({...o,address:{...o.address,postalCode:p.target.value}}),className:`${B.form.input}`,autoComplete:"postal-code"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"country",className:`${B.form.label}`,children:"Country"}),g.jsx("input",{type:"text",id:"country",value:o.address.country,onChange:p=>u({...o,address:{...o.address,country:p.target.value}}),className:`${B.form.input}`,autoComplete:"country-name"})]}),g.jsxs("div",{className:`${B.form.action}`,children:[g.jsx("button",{type:"submit",disabled:h,className:`${B.button.solid}`,children:h?"Saving...":r}),g.jsx("button",{type:"button",onClick:n,disabled:h,className:`${B.button.outline}`,children:"Cancel"})]})]})}function wM({client:i,isViewing:e,onView:n,onCancelView:r,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const y=()=>[i.address.street,i.address.city,i.address.region,i.address.postalCode,i.address.country].filter(Boolean).join(", ")||"No address provided";return g.jsxs("div",{className:`${he.card}`,children:[g.jsxs("div",{className:`${he.header}`,children:[g.jsx("div",{className:`${he.title}`,children:g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx("div",{children:g.jsx("div",{className:`${yu.profile_initial} bg-gray-100 text-gray-800`,children:Pu(i.name)})}),g.jsxs("div",{children:[e?g.jsxs("h3",{className:`${he.selected_name}`,children:[i.name," "]}):g.jsx("h3",{className:`${he.name}`,children:i.name}),g.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:i.clientType.charAt(0).toUpperCase()+i.clientType.slice(1)})]})]})}),e?g.jsx("div",{className:`${he.selection}`,onClick:r}):g.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&g.jsxs("div",{children:[g.jsxs("div",{className:`${he.list_content}`,children:[g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(Eo,{className:"w-4 h-4"}),g.jsx("p",{children:i.phone})]}),g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(vo,{className:"w-4 h-4"}),g.jsx("p",{children:i.email})]}),g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(PT,{className:"w-4 h-4"}),g.jsx("p",{className:"text-sm",children:y()})]})]}),g.jsxs("div",{className:`${he.contact_grid}`,children:[g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(Eo,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(vo,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(zg,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(Pp,{className:"w-8 h-8 mx-auto"})})]}),g.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&g.jsxs("button",{onClick:u,className:`${B.button.solid}`,title:"Edit Client",children:[g.jsx(_u,{className:"w-5 h-5"}),g.jsx("span",{children:"Edit Client"})]})}),o&&g.jsx("div",{children:g.jsx(pS,{initialData:{name:i.name,email:i.email,phone:i.phone,clientType:i.clientType,address:i.address},onSubmit:h,onCancel:m,submitLabel:"Update"})})]})]})}function bM(){const[i,e]=U.useState([]),[n,r]=U.useState(!0),[o,u]=U.useState(null),[h,m]=U.useState(null),[y,p]=U.useState(null),[T,w]=U.useState(!1);U.useEffect(()=>{A()},[]);const A=async()=>{try{r(!0),u(null);const D=await Ym.getAllClients();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load clients";u(k)}finally{r(!1)}},V=async D=>{try{u(null),await Ym.addClient(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add client";u(Q)}},K=async(D,k)=>{try{u(null);const Q={...k,timestamp:{updatedAt:new Date().toISOString()}};await Ym.updateClient(D,Q),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update client";u(te)}};return n?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.notice}`,children:"Loading..."})}):o?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.error}`,children:o})}):g.jsxs("div",{className:"p-4",children:[!T&&g.jsx("div",{className:"flex mb-4",children:g.jsxs("button",{onClick:()=>w(!T),className:`${B.button.outline}`,children:[g.jsx(Bp,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Client"})]})}),T&&g.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[g.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[g.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:g.jsx("span",{className:"font-light text-2xl",children:"N"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Client"})})]}),g.jsx(pS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?g.jsx("p",{className:`${B.system.notice}`,children:"No clients found. Add your first client to get started."}):g.jsx("div",{className:"space-y-2",children:i.map(D=>g.jsx(wM,{client:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:y?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const SM="Clients",AM=ji;function RM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(AM,{className:"w-6 h-6"}),g.jsx("h1",{children:SM})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(bM,{})})]})}const Qm={async getAllContacts(){try{console.log("Fetching all contacts...");const i=Du(Ss(at,"contacts"),Ou("name"));return(await Mu(i)).docs.map(r=>({id:r.id,...r.data()}))}catch(i){console.error("Firebase error fetching all contacts:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all contacts: ${e}`)}},async getContact(i){try{console.log(`Fetching contact with id: ${i}`);const e=await Vt(Mt(at,"contacts",i));if(!e.exists())throw new Error(`Contact with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching contact ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch contact: ${n}`)}},async addContact(i){try{console.log("Creating new contact:",i.name);const e=Mt(Ss(at,"contacts")),n=new Date().toISOString(),r={id:e.id,name:i.name,email:i.email,phone:i.phone,address:i.address,contactType:i.contactType,timestamp:{createdAt:n,updatedAt:n}};return await Vu(e,r),console.log("Contact created successfully with id:",e.id),r}catch(e){console.error("Firebase error adding contact:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add contact: ${n}`)}},async updateContact(i,e){try{console.log(`Updating contact ${i}:`,e);const n=Mt(at,"contacts",i);if(!(await Vt(n)).exists())throw new Error(`Contact with id ${i} not found`);await ju(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating contact ${i}:`,n);const r=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update contact: ${r}`)}},async deleteContact(i){try{console.log(`Deleting contact with id: ${i}`);const e=Mt(at,"contacts",i);if(!(await Vt(e)).exists())throw new Error(`Contact with id ${i} not found`);await ku(e),console.log(`Contact ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting contact ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete contact: ${n}`)}}};function gS({initialData:i,onSubmit:e,onCancel:n,submitLabel:r="Save"}){const[o,u]=U.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",contactType:i?.contactType||"primary",address:{street:i?.address?.street||"",city:i?.address?.city||"",region:i?.address?.region||"",postalCode:i?.address?.postalCode||"",country:i?.address?.country||""}}),[h,m]=U.useState(!1),y=async p=>{if(p.preventDefault(),!o.name.trim()||!o.email.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return g.jsxs("form",{onSubmit:y,className:`${B.form.layout}`,autoComplete:"off",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:`${B.form.label}`,children:"Name *"}),g.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${B.form.input}`,autoComplete:"off",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:`${B.form.label}`,children:"Email *"}),g.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),className:`${B.form.input}`,autoComplete:"new-email",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"phone",className:`${B.form.label}`,children:"Phone"}),g.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),className:`${B.form.input}`,autoComplete:"new-phone"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"contactType",className:`${B.form.label}`,children:"Contact Type *"}),g.jsxs("select",{id:"contactType",value:o.contactType,onChange:p=>u({...o,contactType:p.target.value}),className:`${B.form.input}`,required:!0,children:[g.jsx("option",{value:"primary",children:"Primary"}),g.jsx("option",{value:"billing",children:"Billing"}),g.jsx("option",{value:"operations",children:"Operations"}),g.jsx("option",{value:"captain",children:"Captain"}),g.jsx("option",{value:"stewardess",children:"Stewardess"}),g.jsx("option",{value:"property_manager",children:"Property Manager"}),g.jsx("option",{value:"owner",children:"Owner"}),g.jsx("option",{value:"other",children:"Other"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"street",className:`${B.form.label}`,children:"Street Address"}),g.jsx("input",{type:"text",id:"street",value:o.address.street,onChange:p=>u({...o,address:{...o.address,street:p.target.value}}),className:`${B.form.input}`,autoComplete:"street-address"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"city",className:`${B.form.label}`,children:"City"}),g.jsx("input",{type:"text",id:"city",value:o.address.city,onChange:p=>u({...o,address:{...o.address,city:p.target.value}}),className:`${B.form.input}`,autoComplete:"address-level2"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"region",className:`${B.form.label}`,children:"Region/State"}),g.jsx("input",{type:"text",id:"region",value:o.address.region,onChange:p=>u({...o,address:{...o.address,region:p.target.value}}),className:`${B.form.input}`,autoComplete:"address-level1"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"postalCode",className:`${B.form.label}`,children:"Postal Code"}),g.jsx("input",{type:"text",id:"postalCode",value:o.address.postalCode,onChange:p=>u({...o,address:{...o.address,postalCode:p.target.value}}),className:`${B.form.input}`,autoComplete:"postal-code"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"country",className:`${B.form.label}`,children:"Country"}),g.jsx("input",{type:"text",id:"country",value:o.address.country,onChange:p=>u({...o,address:{...o.address,country:p.target.value}}),className:`${B.form.input}`,autoComplete:"country-name"})]}),g.jsxs("div",{className:`${B.form.action}`,children:[g.jsx("button",{type:"submit",disabled:h,className:`${B.button.solid}`,children:h?"Saving...":r}),g.jsx("button",{type:"button",onClick:n,disabled:h,className:`${B.button.outline}`,children:"Cancel"})]})]})}function CM({contact:i,isViewing:e,onView:n,onCancelView:r,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const y=()=>[i.address.street,i.address.city,i.address.region,i.address.postalCode,i.address.country].filter(Boolean).join(", ")||"No address provided",p=T=>T.split("_").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ");return g.jsxs("div",{className:`${he.card}`,children:[g.jsxs("div",{className:`${he.header}`,children:[g.jsx("div",{className:`${he.title}`,children:g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx("div",{children:g.jsx("div",{className:`${yu.profile_initial} bg-gray-100 text-gray-800`,children:Pu(i.name)})}),g.jsxs("div",{children:[e?g.jsx("h3",{className:`${he.selected_name}`,children:i.name}):g.jsx("h3",{className:`${he.name}`,children:i.name}),g.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:p(i.contactType)})]})]})}),e?g.jsx("div",{className:`${he.selection}`,onClick:r}):g.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&g.jsxs("div",{children:[g.jsxs("div",{className:`${he.list_content}`,children:[g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(Eo,{className:"w-4 h-4"}),g.jsx("p",{children:i.phone})]}),g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(vo,{className:"w-4 h-4"}),g.jsx("p",{children:i.email})]}),g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx(PT,{className:"w-4 h-4"}),g.jsx("p",{className:"text-sm",children:y()})]})]}),g.jsxs("div",{className:`${he.contact_grid}`,children:[g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(Eo,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(vo,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(zg,{className:"w-8 h-8 mx-auto"})}),g.jsx("div",{className:`${B.button.outline}`,children:g.jsx(Pp,{className:"w-8 h-8 mx-auto"})})]}),g.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&g.jsxs("button",{onClick:u,className:`${B.button.solid}`,title:"Edit Contact",children:[g.jsx(_u,{className:"w-5 h-5"}),g.jsx("span",{children:"Edit Contact"})]})}),o&&g.jsx("div",{children:g.jsx(gS,{initialData:{name:i.name,email:i.email,phone:i.phone,contactType:i.contactType,address:i.address},onSubmit:h,onCancel:m,submitLabel:"Update"})})]})]})}function xM(){const[i,e]=U.useState([]),[n,r]=U.useState(!0),[o,u]=U.useState(null),[h,m]=U.useState(null),[y,p]=U.useState(null),[T,w]=U.useState(!1);U.useEffect(()=>{A()},[]);const A=async()=>{try{r(!0),u(null);const D=await Qm.getAllContacts();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load contacts";u(k)}finally{r(!1)}},V=async D=>{try{u(null),await Qm.addContact(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add contact";u(Q)}},K=async(D,k)=>{try{u(null);const Q={...k,timestamp:{updatedAt:new Date().toISOString()}};await Qm.updateContact(D,Q),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update contact";u(te)}};return n?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.notice}`,children:"Loading..."})}):o?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.error}`,children:o})}):g.jsxs("div",{className:"p-4",children:[!T&&g.jsx("div",{className:"flex mb-4",children:g.jsxs("button",{onClick:()=>w(!T),className:`${B.button.outline}`,children:[g.jsx(Bp,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Contact"})]})}),T&&g.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[g.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[g.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:g.jsx("span",{className:"font-light text-2xl",children:"N"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Contact"})})]}),g.jsx(gS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?g.jsx("p",{className:`${B.system.notice}`,children:"No contacts found. Add your first contact to get started."}):g.jsx("div",{className:"space-y-2",children:i.map(D=>g.jsx(CM,{contact:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:y?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const NM="Contacts",IM=ji;function DM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(IM,{className:"w-6 h-6"}),g.jsx("h1",{children:NM})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(xM,{})})]})}const Xm={async getAllServices(){try{console.log("Fetching all services...");const i=Du(Ss(at,"services"),Ou("name"));return(await Mu(i)).docs.map(r=>({id:r.id,...r.data()}))}catch(i){console.error("Firebase error fetching all services:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all services: ${e}`)}},async getService(i){try{console.log(`Fetching service with id: ${i}`);const e=await Vt(Mt(at,"services",i));if(!e.exists())throw new Error(`Service with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching service ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch service: ${n}`)}},async addService(i){try{console.log("Creating new service:",i.name);const e=Mt(Ss(at,"services")),n=new Date().toISOString(),r={id:e.id,name:i.name,service:i.service,default_prices:i.default_prices,timestamp:{createdAt:n,updatedAt:n}};return await Vu(e,r),console.log("Service created successfully with id:",e.id),r}catch(e){console.error("Firebase error adding service:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add service: ${n}`)}},async updateService(i,e){try{console.log(`Updating service ${i}:`,e);const n=Mt(at,"services",i);if(!(await Vt(n)).exists())throw new Error(`Service with id ${i} not found`);await ju(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating service ${i}:`,n);const r=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update service: ${r}`)}},async deleteService(i){try{console.log(`Deleting service with id: ${i}`);const e=Mt(at,"services",i);if(!(await Vt(e)).exists())throw new Error(`Service with id ${i} not found`);await ku(e),console.log(`Service ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting service ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete service: ${n}`)}}};function yS({initialData:i,onSubmit:e,onCancel:n,submitLabel:r="Save"}){const[o,u]=U.useState({name:i?.name||"",service:i?.service||"wash-and-dry",default_prices:i?.default_prices||[{unit:"per_load",price:0}]}),[h,m]=U.useState(!1),y=async A=>{if(A.preventDefault(),!o.name.trim()){alert("Please fill in all required fields");return}if(o.default_prices.length===0){alert("Please add at least one pricing option");return}if(o.default_prices.some(V=>V.price<=0)){alert("All prices must be greater than 0");return}m(!0);try{await e(o)}finally{m(!1)}},p=()=>{u({...o,default_prices:[...o.default_prices,{unit:"per_item",price:0}]})},T=A=>{o.default_prices.length>1&&u({...o,default_prices:o.default_prices.filter((V,K)=>K!==A)})},w=(A,V,K)=>{const D=[...o.default_prices];D[A]={...D[A],[V]:K},u({...o,default_prices:D})};return g.jsxs("form",{onSubmit:y,className:`${B.form.layout}`,autoComplete:"off",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:`${B.form.label}`,children:"Service Name *"}),g.jsx("input",{type:"text",id:"name",value:o.name,onChange:A=>u({...o,name:A.target.value}),className:`${B.form.input}`,autoComplete:"off",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"service",className:`${B.form.label}`,children:"Service Category *"}),g.jsxs("select",{id:"service",value:o.service,onChange:A=>u({...o,service:A.target.value}),className:`${B.form.input}`,required:!0,children:[g.jsx("option",{value:"wash-and-dry",children:"Wash And Dry"}),g.jsx("option",{value:"machine-wash",children:"Machine Wash"}),g.jsx("option",{value:"machine-dry",children:"Machine Dry"}),g.jsx("option",{value:"roll-ironing",children:"Roll Ironing"}),g.jsx("option",{value:"hand-ironing",children:"Hand Ironing"}),g.jsx("option",{value:"dry-cleaning",children:"Dry Cleaning"}),g.jsx("option",{value:"carpet-cleaning",children:"Carpet Cleaning"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`${B.form.label}`,children:"Default Pricing Options *"}),g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsxs("button",{type:"button",onClick:p,className:`${B.button.outline}`,children:[g.jsx(Lp,{className:"w-4 h-4"}),g.jsx("span",{children:"Add Price"})]})}),g.jsx("div",{className:"space-y-3",children:o.default_prices.map((A,V)=>g.jsxs("div",{className:"flex gap-2 items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{htmlFor:`unit-${V}`,className:"block text-xs text-gray-400 mb-1",children:"Unit"}),g.jsxs("select",{id:`unit-${V}`,value:A.unit,onChange:K=>w(V,"unit",K.target.value),className:`${B.form.input}`,required:!0,children:[g.jsx("option",{value:"per_item",children:"Per Item"}),g.jsx("option",{value:"per_kg",children:"Per Kg"}),g.jsx("option",{value:"per_load",children:"Per Load"}),g.jsx("option",{value:"per_sqm",children:"Per Sqm"})]})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{htmlFor:`price-${V}`,className:"block text-xs text-gray-400 mb-1",children:"Price ()"}),g.jsx("input",{type:"number",id:`price-${V}`,value:A.price,onChange:K=>w(V,"price",parseFloat(K.target.value)||0),className:`${B.form.input}`,step:"0.01",min:"0",required:!0})]}),o.default_prices.length>1&&g.jsx("button",{type:"button",onClick:()=>T(V),className:"mt-6 p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors",title:"Remove price option",children:g.jsx(EC,{className:"w-5 h-5"})})]},V))})]}),g.jsxs("div",{className:`${B.form.action}`,children:[g.jsx("button",{type:"submit",disabled:h,className:`${B.button.solid}`,children:h?"Saving...":r}),g.jsx("button",{type:"button",onClick:n,disabled:h,className:`${B.button.outline}`,children:"Cancel"})]})]})}function OM({service:i,isViewing:e,onView:n,onCancelView:r,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const y=w=>w.split("-").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" "),p=w=>w.split("_").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" "),T=w=>w?new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return g.jsxs("div",{className:`${he.card}`,children:[g.jsxs("div",{className:`${he.header}`,children:[g.jsx("div",{className:`${he.title}`,children:g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx("div",{children:g.jsx("div",{className:`${yu.profile_initial} bg-gray-100 text-gray-800`,children:Pu(i.name)})}),g.jsxs("div",{children:[e?g.jsx("h3",{className:`${he.selected_name}`,children:i.name}):g.jsx("h3",{className:`${he.name}`,children:i.name}),g.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:y(i.service)})]})]})}),e?g.jsx("div",{className:`${he.selection}`,onClick:r}):g.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&g.jsxs("div",{children:[g.jsx("div",{className:`${he.list_content}`,children:g.jsx("div",{className:`${he.icon_list}`,children:g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Default Pricing Options"}),g.jsx("div",{className:"space-y-1",children:i.default_prices.map((w,A)=>g.jsxs("div",{className:"flex justify-between items-center text-sm",children:[g.jsx("span",{className:"text-gray-400",children:p(w.unit)}),g.jsxs("span",{className:"text-gray-200 font-medium",children:["",w.price.toFixed(2)]})]},A))})]})})}),g.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&g.jsxs("button",{onClick:u,className:`${B.button.solid}`,title:"Edit Service",children:[g.jsx(_u,{className:"w-5 h-5"}),g.jsx("span",{children:"Edit Service"})]})}),o&&g.jsx("div",{children:g.jsx(yS,{initialData:{name:i.name,service:i.service,default_prices:i.default_prices},onSubmit:h,onCancel:m,submitLabel:"Update"})}),g.jsx("div",{className:`${he.icon_list} pt-4`,children:g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"space-y-1 text-xs",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Created:"}),g.jsx("span",{className:"text-gray-300",children:T(i.timestamp?.createdAt)})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Updated:"}),g.jsx("span",{className:"text-gray-300",children:T(i.timestamp?.updatedAt)})]})]})})})]})]})}function MM(){const[i,e]=U.useState([]),[n,r]=U.useState(!0),[o,u]=U.useState(null),[h,m]=U.useState(null),[y,p]=U.useState(null),[T,w]=U.useState(!1);U.useEffect(()=>{A()},[]);const A=async()=>{try{r(!0),u(null);const D=await Xm.getAllServices();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load services";u(k)}finally{r(!1)}},V=async D=>{try{u(null),await Xm.addService(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add service";u(Q)}},K=async(D,k)=>{try{u(null);const Q=i.find(se=>se.id===D),te={...k,timestamp:{createdAt:Q?.timestamp?.createdAt,updatedAt:new Date().toISOString()}};await Xm.updateService(D,te),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update service";u(te)}};return n?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.notice}`,children:"Loading..."})}):o?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.error}`,children:o})}):g.jsxs("div",{className:"p-4",children:[!T&&g.jsx("div",{className:"flex mb-4",children:g.jsxs("button",{onClick:()=>w(!T),className:`${B.button.outline}`,children:[g.jsx(Lp,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Service"})]})}),T&&g.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[g.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[g.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:g.jsx("span",{className:"font-light text-2xl",children:"N"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Service"})})]}),g.jsx(yS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?g.jsx("p",{className:`${B.system.notice}`,children:"No services found. Add your first service to get started."}):g.jsx("div",{className:"space-y-2",children:i.map(D=>g.jsx(OM,{service:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:y?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const VM="Laundry Services",jM=Vi;function kM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(jM,{className:"w-6 h-6"}),g.jsx("h1",{children:VM})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(MM,{})})]})}const Jm={async getAllItems(){try{console.log("Fetching all items...");const i=Du(Ss(at,"items"),Ou("name"));return(await Mu(i)).docs.map(r=>({id:r.id,...r.data()}))}catch(i){console.error("Firebase error fetching all items:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all items: ${e}`)}},async getItem(i){try{console.log(`Fetching item with id: ${i}`);const e=await Vt(Mt(at,"items",i));if(!e.exists())throw new Error(`Item with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching item ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch item: ${n}`)}},async addItem(i){try{console.log("Creating new item:",i.name);const e=Mt(Ss(at,"items")),n=new Date().toISOString(),r={id:e.id,name:i.name,category:i.category,timestamp:{createdAt:n,updatedAt:n}};return await Vu(e,r),console.log("Item created successfully with id:",e.id),r}catch(e){console.error("Firebase error adding item:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add item: ${n}`)}},async updateItem(i,e){try{console.log(`Updating item ${i}:`,e);const n=Mt(at,"items",i);if(!(await Vt(n)).exists())throw new Error(`Item with id ${i} not found`);await ju(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating item ${i}:`,n);const r=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update item: ${r}`)}},async deleteItem(i){try{console.log(`Deleting item with id: ${i}`);const e=Mt(at,"items",i);if(!(await Vt(e)).exists())throw new Error(`Item with id ${i} not found`);await ku(e),console.log(`Item ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting item ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete item: ${n}`)}}};function _S({initialData:i,onSubmit:e,onCancel:n,submitLabel:r="Save"}){const[o,u]=U.useState({name:i?.name||"",category:i?.category||"bed-linen"}),[h,m]=U.useState(!1),y=async p=>{if(p.preventDefault(),!o.name.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return g.jsxs("form",{onSubmit:y,className:`${B.form.layout}`,autoComplete:"off",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:`${B.form.label}`,children:"Item Name *"}),g.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${B.form.input}`,autoComplete:"off",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category",className:`${B.form.label}`,children:"Item Category *"}),g.jsxs("select",{id:"category",value:o.category,onChange:p=>u({...o,category:p.target.value}),className:`${B.form.input}`,required:!0,children:[g.jsx("option",{value:"bed-linen",children:"Bed Linen"}),g.jsx("option",{value:"clothing",children:"Clothing"}),g.jsx("option",{value:"towel",children:"Towel"}),g.jsx("option",{value:"dining",children:"Dining"})]})]}),g.jsxs("div",{className:`${B.form.action}`,children:[g.jsx("button",{type:"submit",disabled:h,className:`${B.button.solid}`,children:h?"Saving...":r}),g.jsx("button",{type:"button",onClick:n,disabled:h,className:`${B.button.outline}`,children:"Cancel"})]})]})}function PM({item:i,isViewing:e,onView:n,onCancelView:r,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const y=T=>T.split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "),p=T=>T?new Date(T).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return g.jsxs("div",{className:`${he.card}`,children:[g.jsxs("div",{className:`${he.header}`,children:[g.jsx("div",{className:`${he.title}`,children:g.jsxs("div",{className:`${he.icon_list}`,children:[g.jsx("div",{children:g.jsx("div",{className:`${yu.profile_initial} bg-gray-100 text-gray-800`,children:Pu(i.name)})}),g.jsxs("div",{children:[e?g.jsx("h3",{className:`${he.selected_name}`,children:i.name}):g.jsx("h3",{className:`${he.name}`,children:i.name}),g.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:y(i.category)})]})]})}),e?g.jsx("div",{className:`${he.selection}`,onClick:r}):g.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&g.jsxs("div",{children:[g.jsx("div",{className:`${he.list_content}`,children:g.jsx("div",{className:`${he.icon_list}`,children:g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Services & Pricing"}),g.jsx("div",{className:"space-y-1"})]})})}),g.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&g.jsxs("button",{onClick:u,className:`${B.button.solid}`,title:"Edit Item",children:[g.jsx(_u,{className:"w-5 h-5"}),g.jsx("span",{children:"Edit Item"})]})}),o&&g.jsx("div",{children:g.jsx(_S,{initialData:{name:i.name,category:i.category},onSubmit:h,onCancel:m,submitLabel:"Update"})}),g.jsx("div",{className:`${he.icon_list} pt-4`,children:g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"space-y-1 text-xs",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Created:"}),g.jsx("span",{className:"text-gray-300",children:p(i.timestamp?.createdAt)})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Updated:"}),g.jsx("span",{className:"text-gray-300",children:p(i.timestamp?.updatedAt)})]})]})})})]})]})}function UM(){const[i,e]=U.useState([]),[n,r]=U.useState(!0),[o,u]=U.useState(null),[h,m]=U.useState(null),[y,p]=U.useState(null),[T,w]=U.useState(!1);U.useEffect(()=>{A()},[]);const A=async()=>{try{r(!0),u(null);const D=await Jm.getAllItems();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load items";u(k)}finally{r(!1)}},V=async D=>{try{u(null),await Jm.addItem(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add item";u(Q)}},K=async(D,k)=>{try{u(null);const Q=i.find(se=>se.id===D),te={...k,timestamp:{createdAt:Q?.timestamp?.createdAt,updatedAt:new Date().toISOString()}};await Jm.updateItem(D,te),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update item";u(te)}};return n?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.notice}`,children:"Loading..."})}):o?g.jsx("div",{className:"p-4",children:g.jsx("p",{className:`${B.system.error}`,children:o})}):g.jsxs("div",{className:"p-4",children:[!T&&g.jsx("div",{className:"flex mb-4",children:g.jsxs("button",{onClick:()=>w(!T),className:`${B.button.outline}`,children:[g.jsx(Lp,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Item"})]})}),T&&g.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[g.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[g.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:g.jsx("span",{className:"font-light text-2xl",children:"N"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Item"})})]}),g.jsx(_S,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?g.jsx("p",{className:`${B.system.notice}`,children:"No items found. Add your first item to get started."}):g.jsx("div",{className:"space-y-2",children:i.map(D=>g.jsx(PM,{item:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:y?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const LM="Laundry Items",zM=Vi;function BM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(zM,{className:"w-6 h-6"}),g.jsx("h1",{children:LM})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(UM,{})})]})}const lT="Laundry Jobs",FM=Vi;function $M(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(FM,{className:"w-6 h-6"}),g.jsx("h1",{children:lT})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(Po,{title:lT})})]})}const _o=he;function qM(){return g.jsxs("div",{className:`${_o.card} space-y-4`,children:[g.jsx("h2",{className:`${_o.selected_name}`,children:"General Settings"}),g.jsx("p",{className:`${_o.name}`,children:"General application settings will be managed here in the future."})]})}function HM(){return g.jsxs("div",{className:`${_o.card} space-y-4`,children:[g.jsx("h2",{className:`${_o.selected_name}`,children:"User Settings"}),g.jsx("p",{className:`${_o.name}`,children:"User settings will be managed here in the future."})]})}function GM(){const[i]=VR(),[e,n]=U.useState(()=>{const u=i.get("tab");return u==="general"||u==="users"?u:"general"}),r=[{id:"general",name:"General"},{id:"users",name:"Users"}],o=u=>{e!==u&&n(u)};return g.jsx("div",{className:"",children:g.jsxs("div",{className:"p-4",children:[g.jsx("div",{className:"border-b border-cyan-200 mb-4",children:g.jsx("nav",{className:"-mb-px flex","aria-label":"Tabs",children:r.map(u=>g.jsx("button",{onClick:()=>o(u.id),className:`${e===u.id?"border-cyan-400 text-cyan-400 bg-blue-700/20":"border-transparent text-cyan-400 hover:text-cyan-500 hover:border-cyan-300 bg-blue-900/20"}  py-3 px-6 border-b-2 font-medium text-sm transition-colors`,"aria-current":e===u.id?"page":void 0,children:u.name},u.id))})}),g.jsxs("div",{children:[e==="general"&&g.jsx(qM,{}),e==="users"&&g.jsx(HM,{})]})]})})}const KM="Settings",YM=zp;function QM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(YM,{className:"w-6 h-6"}),g.jsx("h1",{children:KM})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(GM,{})})]})}const uT="Template Page",XM=ji;function JM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(XM,{className:"w-6 h-6"}),g.jsx("h1",{children:uT})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(Po,{title:uT})})]})}const cT="Job Batches",WM=Vi;function ZM(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(WM,{className:"w-6 h-6"}),g.jsx("h1",{children:cT})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(Po,{title:cT})})]})}const hT="Invoices",eV=Vh;function tV(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(eV,{className:"w-6 h-6"}),g.jsx("h1",{children:hT})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(Po,{title:hT})})]})}const fT="Quotes",nV=Vh;function iV(){return g.jsxs("div",{className:`${B.view.page}`,children:[g.jsx("div",{className:`${B.view.header}`,children:g.jsxs("div",{className:`${B.view.title}`,children:[g.jsx(nV,{className:"w-6 h-6"}),g.jsx("h1",{children:fT})]})}),g.jsx("div",{className:`${B.view.content}`,children:g.jsx(Po,{title:fT})})]})}const sV=({children:i})=>{const{user:e,loading:n}=VT();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?g.jsx(g.Fragment,{children:i}):g.jsx(xT,{to:"/login",replace:!0})};function rV(){return g.jsx(IR,{children:g.jsxs("div",{className:"relative w-full min-h-screen",children:[g.jsx("div",{className:"fixed inset-0 z-0",children:g.jsx(QR,{})}),g.jsx("div",{className:"relative z-10 min-h-screen flex flex-col",children:g.jsxs(rR,{children:[g.jsx(Wt,{path:"/login",element:g.jsx(mM,{})}),g.jsxs(Wt,{path:"/",element:g.jsx(sV,{children:g.jsx(dM,{})}),children:[g.jsx(Wt,{index:!0,element:g.jsx(gM,{})}),g.jsx(Wt,{path:"clients",element:g.jsx(RM,{})}),g.jsx(Wt,{path:"contacts",element:g.jsx(DM,{})}),g.jsx(Wt,{path:"staff",element:g.jsx(TM,{})}),g.jsx(Wt,{path:"services",element:g.jsx(kM,{})}),g.jsx(Wt,{path:"items",element:g.jsx(BM,{})}),g.jsx(Wt,{path:"jobs",element:g.jsx($M,{})}),g.jsx(Wt,{path:"settings",element:g.jsx(QM,{})}),g.jsx(Wt,{path:"template",element:g.jsx(JM,{})}),g.jsx(Wt,{path:"batches",element:g.jsx(ZM,{})}),g.jsx(Wt,{path:"invoices",element:g.jsx(tV,{})}),g.jsx(Wt,{path:"quotes",element:g.jsx(iV,{})}),g.jsx(Wt,{path:"settings/users",element:g.jsx("h1",{className:"text-2xl font-bold text-cyan-500",children:"Users"})})]}),g.jsx(Wt,{path:"*",element:g.jsx(xT,{to:"/",replace:!0})})]})})]})})}const aV=({children:i})=>{const{setUser:e,setLoading:n}=VT();return U.useEffect(()=>{const r=lN(Rf,o=>{e(o),n(!1),o?(console.log("User signed in:",o.email),o.getIdToken().then(u=>{console.log("Auth Token retrieved:",u)})):console.log("User signed out")});return()=>r()},[e,n]),g.jsx(g.Fragment,{children:i})};rA.createRoot(document.getElementById("root")).render(g.jsx(Hl.StrictMode,{children:g.jsx(aV,{children:g.jsx(rV,{})})}));
