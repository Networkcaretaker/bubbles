(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function KE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},Pl={};var Kv;function LA(){if(Kv)return Pl;Kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Yv;function jA(){return Yv||(Yv=1,pm.exports=LA()),pm.exports}var b=jA(),gm={exports:{}},Se={};var Qv;function zA(){if(Qv)return Se;Qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function te(M,Z,ae){this.props=M,this.context=Z,this.refs=L,this.updater=ae||G}te.prototype.isReactComponent={},te.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ie(M,Z,ae){this.props=M,this.context=Z,this.refs=L,this.updater=ae||G}var pe=ie.prototype=new ne;pe.constructor=ie,k(pe,te.prototype),pe.isPureReactComponent=!0;var Ee=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,Z,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:Z,ref:ue!==void 0?ue:null,props:ae}}function V(M,Z){return C(M.type,Z,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function j(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var I=/\/+/g;function at(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):Z.toString(36)}function Ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,Z,ae,ue,Te){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case r:case e:Le=!0;break;case v:return Le=M._init,Q(Le(M._payload),Z,ae,ue,Te)}}if(Le)return Te=Te(M),Le=ue===""?"."+at(M,0):ue,Ee(Te)?(ae="",Le!=null&&(ae=Le.replace(I,"$&/")+"/"),Q(Te,Z,ae,"",function(bs){return bs})):Te!=null&&(O(Te)&&(Te=V(Te,ae+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Le)),Z.push(Te)),1;Le=0;var Mt=ue===""?".":ue+":";if(Ee(M))for(var ot=0;ot<M.length;ot++)ue=M[ot],Ie=Mt+at(ue,ot),Le+=Q(ue,Z,ae,Ie,Te);else if(ot=U(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(ue=M.next()).done;)ue=ue.value,Ie=Mt+at(ue,ot++),Le+=Q(ue,Z,ae,Ie,Te);else if(Ie==="object"){if(typeof M.then=="function")return Q(Ot(M),Z,ae,ue,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(M,Z,ae){if(M==null)return M;var ue=[],Te=0;return Q(M,ue,"","",function(Ie){return Z.call(ae,Ie,Te++)}),ue}function ge(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$e={map:se,forEach:function(M,Z,ae){se(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return se(M,function(){Z++}),Z},toArray:function(M){return se(M,function(Z){return Z})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=T,Se.Children=$e,Se.Component=te,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=k({},M.props),Te=M.key;if(Z!=null)for(Ie in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(ue[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=ae;else if(1<Ie){for(var Le=Array(Ie),Mt=0;Mt<Ie;Mt++)Le[Mt]=arguments[Mt+2];ue.children=Le}return C(M.type,Te,ue)},Se.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,Z,ae){var ue,Te={},Ie=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ie=""+Z.key),Z)R.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=Z[ue]);var Le=arguments.length-2;if(Le===1)Te.children=ae;else if(1<Le){for(var Mt=Array(Le),ot=0;ot<Le;ot++)Mt[ot]=arguments[ot+2];Te.children=Mt}if(M&&M.defaultProps)for(ue in Le=M.defaultProps,Le)Te[ue]===void 0&&(Te[ue]=Le[ue]);return C(M,Ie,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=O,Se.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ge}},Se.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},Se.startTransition=function(M){var Z=N.T,ae={};N.T=ae;try{var ue=M(),Te=N.S;Te!==null&&Te(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,ze)}catch(Ie){ze(Ie)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),N.T=Z}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(M){return N.H.use(M)},Se.useActionState=function(M,Z,ae){return N.H.useActionState(M,Z,ae)},Se.useCallback=function(M,Z){return N.H.useCallback(M,Z)},Se.useContext=function(M){return N.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Z){return N.H.useDeferredValue(M,Z)},Se.useEffect=function(M,Z){return N.H.useEffect(M,Z)},Se.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(M,Z,ae){return N.H.useImperativeHandle(M,Z,ae)},Se.useInsertionEffect=function(M,Z){return N.H.useInsertionEffect(M,Z)},Se.useLayoutEffect=function(M,Z){return N.H.useLayoutEffect(M,Z)},Se.useMemo=function(M,Z){return N.H.useMemo(M,Z)},Se.useOptimistic=function(M,Z){return N.H.useOptimistic(M,Z)},Se.useReducer=function(M,Z,ae){return N.H.useReducer(M,Z,ae)},Se.useRef=function(M){return N.H.useRef(M)},Se.useState=function(M){return N.H.useState(M)},Se.useSyncExternalStore=function(M,Z,ae){return N.H.useSyncExternalStore(M,Z,ae)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.3",Se}var Xv;function pp(){return Xv||(Xv=1,gm.exports=zA()),gm.exports}var z=pp();const jl=KE(z);var ym={exports:{}},kl={},_m={exports:{}},vm={};var Jv;function BA(){return Jv||(Jv=1,(function(r){function e(Q,se){var ge=Q.length;Q.push(se);e:for(;0<ge;){var ze=ge-1>>>1,$e=Q[ze];if(0<o($e,se))Q[ze]=se,Q[ge]=$e,ge=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ge=Q.pop();if(ge!==se){Q[0]=ge;e:for(var ze=0,$e=Q.length,M=$e>>>1;ze<M;){var Z=2*(ze+1)-1,ae=Q[Z],ue=Z+1,Te=Q[ue];if(0>o(ae,ge))ue<$e&&0>o(Te,ae)?(Q[ze]=Te,Q[ue]=ge,ze=ue):(Q[ze]=ae,Q[Z]=ge,ze=Z);else if(ue<$e&&0>o(Te,ge))Q[ze]=Te,Q[ue]=ge,ze=ue;else break e}}return se}function o(Q,se){var ge=Q.sortIndex-se.sortIndex;return ge!==0?ge:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,A=3,U=!1,G=!1,k=!1,L=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Ee(Q){if(k=!1,pe(Q),!G)if(n(p)!==null)G=!0,be||(be=!0,j());else{var se=n(g);se!==null&&Ot(Ee,se.startTime-Q)}}var be=!1,N=-1,R=5,C=-1;function V(){return L?!0:!(r.unstable_now()-C<R)}function O(){if(L=!1,be){var Q=r.unstable_now();C=Q;var se=!0;try{e:{G=!1,k&&(k=!1,ne(N),N=-1),U=!0;var ge=A;try{t:{for(pe(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&V());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,A=T.priorityLevel;var $e=ze(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof $e=="function"){T.callback=$e,pe(Q),se=!0;break t}T===n(p)&&s(p),pe(Q)}else s(p);T=n(p)}if(T!==null)se=!0;else{var M=n(g);M!==null&&Ot(Ee,M.startTime-Q),se=!1}}break e}finally{T=null,A=ge,U=!1}se=void 0}}finally{se?j():be=!1}}}var j;if(typeof ie=="function")j=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,at=I.port2;I.port1.onmessage=O,j=function(){at.postMessage(null)}}else j=function(){te(O,0)};function Ot(Q,se){N=te(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var ge=A;A=se;try{return Q()}finally{A=ge}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=A;A=Q;try{return se()}finally{A=ge}},r.unstable_scheduleCallback=function(Q,se,ge){var ze=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,Q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ge+$e,Q={id:v++,callback:se,priorityLevel:Q,startTime:ge,expirationTime:$e,sortIndex:-1},ge>ze?(Q.sortIndex=ge,e(g,Q),n(p)===null&&Q===n(g)&&(k?(ne(N),N=-1):k=!0,Ot(Ee,ge-ze))):(Q.sortIndex=$e,e(p,Q),G||U||(G=!0,be||(be=!0,j()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var se=A;return function(){var ge=A;A=se;try{return Q.apply(this,arguments)}finally{A=ge}}}})(vm)),vm}var Wv;function qA(){return Wv||(Wv=1,_m.exports=BA()),_m.exports}var Em={exports:{}},Jt={};var Zv;function FA(){if(Zv)return Jt;Zv=1;var r=pp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Jt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:U}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var e0;function HA(){if(e0)return Em.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=FA(),Em.exports}var t0;function GA(){if(t0)return kl;t0=1;var r=qA(),e=pp(),n=HA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case te:return"Profiler";case L:return"StrictMode";case Ee:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var Ot=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],$e=-1;function M(t){return{current:t}}function Z(t){0>$e||(t.current=ze[$e],ze[$e]=null,$e--)}function ae(t,i){$e++,ze[$e]=t.current,t.current=i}var ue=M(null),Te=M(null),Ie=M(null),Le=M(null);function Mt(t,i){switch(ae(Ie,i),ae(Te,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?gv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=gv(i),t=yv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function ot(){Z(ue),Z(Te),Z(Ie)}function bs(t){t.memoizedState!==null&&ae(Le,t);var i=ue.current,a=yv(i,t.type);i!==a&&(ae(Te,t),ae(ue,a))}function ma(t){Te.current===t&&(Z(ue),Z(Te)),Le.current===t&&(Z(Le),Ol._currentValue=ge)}var pa,ga;function ai(t){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var Oo=!1;function ws(t,i){if(!t||Oo)return"";Oo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var H=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){H=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){H=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var x=_.split(`
`),F=w.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var Y=`
`+x[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Oo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Mo(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return ai("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Mo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Su=r.unstable_requestPaint,nn=r.unstable_now,Ss=r.unstable_getCurrentPriorityLevel,Uo=r.unstable_ImmediatePriority,Po=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,_f=r.unstable_LowPriority,Au=r.unstable_IdlePriority,Ru=r.log,Cu=r.unstable_setDisableYieldValue,qn=null,qt=null;function In(t){if(typeof Ru=="function"&&Cu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var mt=Math.clz32?Math.clz32:xu,Iu=Math.log,ya=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(Iu(t)/ya|0)|0}var oi=256,As=262144,Tt=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=li(l):(_&=w,_!==0?f=li(_):a||(a=w&~t,a!==0&&(f=li(a))))):(w=l&~d,w!==0?f=li(w):_!==0?f=li(_):a||(a=l&~t,a!==0&&(f=li(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,x=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-mt(a),W=1<<Y;w[Y]=0,x[Y]=-1;var H=F[Y];if(H!==null)for(F[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&Cs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|i))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:zv(t.type))}function Hn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,hi="__reactContainer$"+Gn,_a="__reactEvents$"+Gn,Tf="__reactListeners$"+Gn,Ou="__reactHandles$"+Gn,Mu="__reactResources$"+Gn,fi="__reactMarker$"+Gn;function va(t){delete t[bt],delete t[Lt],delete t[_a],delete t[Tf],delete t[Ou]}function di(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Sv(t);t!==null;){if(a=t[bt])return a;t=Sv(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[bt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[fi]=!0}var jo=new Set,zo={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(zo[t]=i,t=0;t<i.length;t++)jo.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Fo={};function Vu(t){return Et.call(Fo,t)?!0:Et.call(qo,t)?!1:Bo.test(t)?Fo[t]=!0:(qo[t]=!0,!1)}function Ea(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=wr(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function xs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function an(t){return t.replace(Ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Go(t,_,jt(i)):a!=null?Go(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+jt(w):t.removeAttribute("name")}function Uu(t,i,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Go(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&$o(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Yo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,_i=null;function Ds(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Ta(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xs(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(t,!!a.multiple,i,!1)}}}var Sa=!1;function Ir(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var l=t(i);return l}finally{if(Sa=!1,(Cr!==null||_i!==null)&&(Dc(),Cr&&(i=Cr,t=_i,_i=Cr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(Dn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Os=!1}var vi=null,Qo=null,Ms=null;function Xo(){if(Ms)return Ms;var t,i=Qo,a=i.length,l,f="value"in vi?vi.value:vi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ms=f.slice(t,1<l?1-l:void 0)}function Vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Yn(){return!1}function Ft(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ft($i),xr=T({},$i,{view:0,detail:0}),Jo=Ft(xr),Nr,Aa,Ti,Ra=T({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Nr=t.screenX-Ti.screenX,Aa=t.screenY-Ti.screenY):Aa=Nr=0,Ti=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Wo=Ft(Ra),Us=T({},Ra,{dataTransfer:0}),ju=Ft(Us),zu=T({},xr,{relatedTarget:0}),Ps=Ft(zu),Zo=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Ft(Zo),Ca=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=Ft(Ca),Fu=T({},$i,{data:0}),bi=Ft(Fu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function Dr(){return Ku}var rn=T({},xr,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yu=Ft(rn),Qu=T({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ft(Qu),c=T({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),y=Ft(c),E=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(E),B=T({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(B),re=T({},$i,{newState:0,oldState:0}),Re=Ft(re),pt=[9,13,27,32],Fe=Dn&&"CompositionEvent"in window,lt=null;Dn&&"documentMode"in document&&(lt=document.documentMode);var On=Dn&&"TextEvent"in window&&!lt,wi=Dn&&(!Fe||lt&&8<lt&&11>=lt),Qn=" ",Xn=!1;function ks(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function lS(t,i){switch(t){case"compositionend":return Ia(i);case"keypress":return i.which!==32?null:(Xn=!0,Qn);case"textInput":return t=i.data,t===Qn&&Xn?null:t;default:return null}}function uS(t,i){if(xa)return t==="compositionend"||!Fe&&ks(t,i)?(t=Xo(),Ms=Qo=vi=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var cS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!cS[t.type]:i==="textarea"}function Ig(t,i,a,l){Cr?_i?_i.push(l):_i=[l]:Cr=l,i=Lc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var el=null,tl=null;function hS(t){cv(t,0)}function Xu(t){var i=pn(t);if(xs(i))return t}function xg(t,i){if(t==="change")return i}var Ng=!1;if(Dn){var bf;if(Dn){var wf="oninput"in document;if(!wf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),wf=typeof Dg.oninput=="function"}bf=wf}else bf=!1;Ng=bf&&(!document.documentMode||9<document.documentMode)}function Og(){el&&(el.detachEvent("onpropertychange",Mg),tl=el=null)}function Mg(t){if(t.propertyName==="value"&&Xu(tl)){var i=[];Ig(i,tl,t,Nn(t)),Ir(hS,i)}}function fS(t,i,a){t==="focusin"?(Og(),el=i,tl=a,el.attachEvent("onpropertychange",Mg)):t==="focusout"&&Og()}function dS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(tl)}function mS(t,i){if(t==="click")return Xu(i)}function pS(t,i){if(t==="input"||t==="change")return Xu(i)}function gS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:gS;function nl(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,i){var a=Vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vg(a)}}function Pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function Sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yS=Dn&&"documentMode"in document&&11>=document.documentMode,Na=null,Af=null,il=null,Rf=!1;function Lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Na==null||Na!==yi(l)||(l=Na,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Lc(Af,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function Ls(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Cf={},jg={};Dn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function js(t){if(Cf[t])return Cf[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return Cf[t]=i[a];return t}var zg=js("animationend"),Bg=js("animationiteration"),qg=js("animationstart"),_S=js("transitionrun"),vS=js("transitionstart"),ES=js("transitioncancel"),Fg=js("transitionend"),Hg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Jn(t,i){Hg.set(t,i),pi(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Oa=0,xf=0;function Wu(){for(var t=Oa,i=xf=Oa=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Gg(a,f,d)}}function Zu(t,i,a,l){Mn[Oa++]=t,Mn[Oa++]=i,Mn[Oa++]=a,Mn[Oa++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,a,l){return Zu(t,i,a,l),ec(t)}function zs(t,i){return Zu(t,null,null,i),ec(t)}function Gg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<Al)throw Al=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function TS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new TS(t,i,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Df(t)&&(_=1);else if(typeof t=="string")_=RA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=_n(31,a,i,f),t.elementType=C,t.lanes=d,t;case k:return Bs(a.children,f,d,i);case L:_=8,f|=24;break;case te:return t=_n(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case Ee:return t=_n(13,a,i,f),t.elementType=Ee,t.lanes=d,t;case be:return t=_n(19,a,i,f),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case pe:_=11;break e;case N:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Kg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function Mf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yg=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},Yg.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var Va=[],Ua=0,nc=null,rl=0,Un=[],Pn=0,Or=null,Si=1,Ai="";function Qi(t,i){Va[Ua++]=rl,Va[Ua++]=nc,nc=t,rl=i}function Qg(t,i,a){Un[Pn++]=Si,Un[Pn++]=Ai,Un[Pn++]=Or,Or=t;var l=Si;t=Ai;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Si=1<<32-mt(i)+f|a<<f|l,Ai=d+t}else Si=1<<d|a<<f|l,Ai=t}function Vf(t){t.return!==null&&(Qi(t,1),Qg(t,1,0))}function Uf(t){for(;t===nc;)nc=Va[--Ua],Va[Ua]=null,rl=Va[--Ua],Va[Ua]=null;for(;t===Or;)Or=Un[--Pn],Un[Pn]=null,Ai=Un[--Pn],Un[Pn]=null,Si=Un[--Pn],Un[Pn]=null}function Xg(t,i){Un[Pn++]=Si,Un[Pn++]=Ai,Un[Pn++]=Or,Si=i.id,Ai=i.overflow,Or=t}var Ht=null,it=null,ke=!1,Mr=null,kn=!1,Pf=Error(s(519));function Vr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Vn(i,t)),Pf}function Jg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)De(Cl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||mv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Vr(t,!0)}function Wg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ht=Ht.return}}function Pa(t){if(t!==Ht)return!1;if(!ke)return Wg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&it&&Vr(t),Wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=wv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=wv(t)}else i===27?(i=it,Yr(t.type)?(t=sm,sm=null,it=t):it=i):it=Ht?jn(t.stateNode.nextSibling):null;return!0}function qs(){it=Ht=null,ke=!1}function kf(){var t=Mr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Mr=null),t}function sl(t){Mr===null?Mr=[t]:Mr.push(t)}var Lf=M(null),Fs=null,Xi=null;function Ur(t,i,a){ae(Lf,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Lf.current,Z(Lf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var x=0;x<i.length;x++)if(w.context===i[x]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),jf(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ka(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;yn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}f=f.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){Fs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Zg(Fs,t)}function rc(t,i){return Fs===null&&Hs(t),Zg(t,i)}function Zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var bS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},wS=r.unstable_scheduleCallback,SS=r.unstable_NormalPriority,At={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new bS,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&wS(SS,function(){t.controller.abort()})}var ol=null,qf=0,La=0,ja=null;function AS(t,i){if(ol===null){var a=ol=[];qf=0,La=Gd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(ey,ey),i}function ey(){if(--qf===0&&ol!==null){ja!==null&&(ja.status="fulfilled");var t=ol;ol=null,La=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function RS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ty=Q.S;Q.S=function(t,i){L_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&AS(t,i),ty!==null&&ty(t,i)};var Gs=M(null);function Ff(){var t=Gs.current;return t!==null?t:et.pooledCache}function sc(t,i){i===null?ae(Gs,Gs.current):ae(Gs,i.pool)}function ny(){var t=Ff();return t===null?null:{parent:At._currentValue,pool:t}}var za=Error(s(460)),Hf=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ry(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ay(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ay(t),t}throw Ks=i,za}}function $s(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,za):a}}var Ks=null;function sy(){if(Ks===null)throw Error(s(459));var t=Ks;return Ks=null,t}function ay(t){if(t===za||t===ac)throw Error(s(483))}var Ba=null,ll=0;function lc(t){var i=ll;return ll+=1,Ba===null&&(Ba=[]),ry(Ba,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function oy(t){function i(P,D){if(t){var q=P.deletions;q===null?(P.deletions=[D],P.flags|=16):q.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function f(P,D){return P=Yi(P,D),P.index=0,P.sibling=null,P}function d(P,D,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<D?(P.flags|=67108866,D):q):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function w(P,D,q,X){return D===null||D.tag!==6?(D=Of(q,P.mode,X),D.return=P,D):(D=f(D,q),D.return=P,D)}function x(P,D,q,X){var de=q.type;return de===k?Y(P,D,q.props.children,X,q.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&$s(de)===D.type)?(D=f(D,q.props),ul(D,q),D.return=P,D):(D=tc(q.type,q.key,q.props,null,P.mode,X),ul(D,q),D.return=P,D)}function F(P,D,q,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=Mf(q,P.mode,X),D.return=P,D):(D=f(D,q.children||[]),D.return=P,D)}function Y(P,D,q,X,de){return D===null||D.tag!==7?(D=Bs(q,P.mode,X,de),D.return=P,D):(D=f(D,q),D.return=P,D)}function W(P,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Of(""+D,P.mode,q),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return q=tc(D.type,D.key,D.props,null,P.mode,q),ul(q,D),q.return=P,q;case G:return D=Mf(D,P.mode,q),D.return=P,D;case R:return D=$s(D),W(P,D,q)}if(Ot(D)||j(D))return D=Bs(D,P.mode,q,null),D.return=P,D;if(typeof D.then=="function")return W(P,lc(D),q);if(D.$$typeof===ie)return W(P,rc(P,D),q);uc(P,D)}return null}function H(P,D,q,X){var de=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:w(P,D,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return q.key===de?x(P,D,q,X):null;case G:return q.key===de?F(P,D,q,X):null;case R:return q=$s(q),H(P,D,q,X)}if(Ot(q)||j(q))return de!==null?null:Y(P,D,q,X,null);if(typeof q.then=="function")return H(P,D,lc(q),X);if(q.$$typeof===ie)return H(P,D,rc(P,q),X);uc(P,q)}return null}function K(P,D,q,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(q)||null,w(D,P,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return P=P.get(X.key===null?q:X.key)||null,x(D,P,X,de);case G:return P=P.get(X.key===null?q:X.key)||null,F(D,P,X,de);case R:return X=$s(X),K(P,D,q,X,de)}if(Ot(X)||j(X))return P=P.get(q)||null,Y(D,P,X,de,null);if(typeof X.then=="function")return K(P,D,q,lc(X),de);if(X.$$typeof===ie)return K(P,D,q,rc(D,X),de);uc(D,X)}return null}function ce(P,D,q,X){for(var de=null,Be=null,he=D,xe=D=0,Me=null;he!==null&&xe<q.length;xe++){he.index>xe?(Me=he,he=null):Me=he.sibling;var qe=H(P,he,q[xe],X);if(qe===null){he===null&&(he=Me);break}t&&he&&qe.alternate===null&&i(P,he),D=d(qe,D,xe),Be===null?de=qe:Be.sibling=qe,Be=qe,he=Me}if(xe===q.length)return a(P,he),ke&&Qi(P,xe),de;if(he===null){for(;xe<q.length;xe++)he=W(P,q[xe],X),he!==null&&(D=d(he,D,xe),Be===null?de=he:Be.sibling=he,Be=he);return ke&&Qi(P,xe),de}for(he=l(he);xe<q.length;xe++)Me=K(he,P,xe,q[xe],X),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?xe:Me.key),D=d(Me,D,xe),Be===null?de=Me:Be.sibling=Me,Be=Me);return t&&he.forEach(function(Zr){return i(P,Zr)}),ke&&Qi(P,xe),de}function ye(P,D,q,X){if(q==null)throw Error(s(151));for(var de=null,Be=null,he=D,xe=D=0,Me=null,qe=q.next();he!==null&&!qe.done;xe++,qe=q.next()){he.index>xe?(Me=he,he=null):Me=he.sibling;var Zr=H(P,he,qe.value,X);if(Zr===null){he===null&&(he=Me);break}t&&he&&Zr.alternate===null&&i(P,he),D=d(Zr,D,xe),Be===null?de=Zr:Be.sibling=Zr,Be=Zr,he=Me}if(qe.done)return a(P,he),ke&&Qi(P,xe),de;if(he===null){for(;!qe.done;xe++,qe=q.next())qe=W(P,qe.value,X),qe!==null&&(D=d(qe,D,xe),Be===null?de=qe:Be.sibling=qe,Be=qe);return ke&&Qi(P,xe),de}for(he=l(he);!qe.done;xe++,qe=q.next())qe=K(he,P,xe,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?xe:qe.key),D=d(qe,D,xe),Be===null?de=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(kA){return i(P,kA)}),ke&&Qi(P,xe),de}function Ze(P,D,q,X){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case U:e:{for(var de=q.key;D!==null;){if(D.key===de){if(de=q.type,de===k){if(D.tag===7){a(P,D.sibling),X=f(D,q.props.children),X.return=P,P=X;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&$s(de)===D.type){a(P,D.sibling),X=f(D,q.props),ul(X,q),X.return=P,P=X;break e}a(P,D);break}else i(P,D);D=D.sibling}q.type===k?(X=Bs(q.props.children,P.mode,X,q.key),X.return=P,P=X):(X=tc(q.type,q.key,q.props,null,P.mode,X),ul(X,q),X.return=P,P=X)}return _(P);case G:e:{for(de=q.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){a(P,D.sibling),X=f(D,q.children||[]),X.return=P,P=X;break e}else{a(P,D);break}else i(P,D);D=D.sibling}X=Mf(q,P.mode,X),X.return=P,P=X}return _(P);case R:return q=$s(q),Ze(P,D,q,X)}if(Ot(q))return ce(P,D,q,X);if(j(q)){if(de=j(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ye(P,D,q,X)}if(typeof q.then=="function")return Ze(P,D,lc(q),X);if(q.$$typeof===ie)return Ze(P,D,rc(P,q),X);uc(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(a(P,D.sibling),X=f(D,q),X.return=P,P=X):(a(P,D),X=Of(q,P.mode,X),X.return=P,P=X),_(P)):a(P,D)}return function(P,D,q,X){try{ll=0;var de=Ze(P,D,q,X);return Ba=null,de}catch(he){if(he===za||he===ac)throw he;var Be=_n(29,he,null,P.mode);return Be.lanes=X,Be.return=P,Be}}}var Ys=oy(!0),ly=oy(!1),Pr=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ec(t),Gg(t,null,a),i}return Zu(t,l,i,a),ec(t)}function cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function Kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yf=!1;function hl(){if(Yf){var t=ja;if(t!==null)throw t}}function fl(t,i,a,l){Yf=!1;var f=t.updateQueue;Pr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var x=w,F=x.next;x.next=null,_===null?d=F:_.next=F,_=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==_&&(w===null?Y.firstBaseUpdate=F:w.next=F,Y.lastBaseUpdate=x))}if(d!==null){var W=f.baseState;_=0,Y=F=x=null,w=d;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(Oe&H)===H:(l&H)===H){H!==0&&H===La&&(Yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ce=t,ye=w;H=i;var Ze=a;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){W=ce.call(Ze,W,H);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,H=typeof ce=="function"?ce.call(Ze,W,H):ce,H==null)break e;W=T({},W,H);break e;case 2:Pr=!0}}H=w.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(F=Y=K,x=W):Y=Y.next=K,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(x=W),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=W}}function uy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function cy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)uy(a[t],i)}var qa=M(null),cc=M(0);function hy(t,i){t=ar,ae(cc,t),ae(qa,i),ar=t|i.baseLanes}function Qf(){ae(cc,ar),ae(qa,qa.current)}function Xf(){ar=cc.current,Z(qa),Z(cc)}var vn=M(null),Ln=null;function jr(t){var i=t.alternate;ae(gt,gt.current&1),ae(vn,t),Ln===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Ln=t)}function Jf(t){ae(gt,gt.current),ae(vn,t),Ln===null&&(Ln=t)}function fy(t){t.tag===22?(ae(gt,gt.current),ae(vn,t),Ln===null&&(Ln=t)):zr()}function zr(){ae(gt,gt.current),ae(vn,vn.current)}function En(t){Z(vn),Ln===t&&(Ln=null),Z(gt)}var gt=M(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,Ce=null,Je=null,Rt=null,fc=!1,Fa=!1,Qs=!1,dc=0,dl=0,Ha=null,CS=0;function ft(){throw Error(s(321))}function Wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Zf(t,i,a,l,f,d){return Wi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Qy:md,Qs=!1,d=a(l,f),Qs=!1,Fa&&(d=my(i,a,l,f)),dy(t),d}function dy(t){Q.H=gl;var i=Je!==null&&Je.next!==null;if(Wi=0,Rt=Je=Ce=null,fc=!1,dl=0,Ha=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&ic(t)&&(Ct=!0))}function my(t,i,a,l){Ce=t;var f=0;do{if(Fa&&(Ha=null),dl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,Rt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Xy,d=i(a,l)}while(Fa);return d}function IS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ce.flags|=1024),i}function ed(){var t=dc!==0;return dc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}Wi=0,Rt=Je=Ce=null,Fa=!1,dl=dc=0,Ha=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(Je===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Rt===null?Ce.memoizedState:Rt.next;if(i!==null)Rt=i,Je=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=dl;return dl+=1,Ha===null&&(Ha=[]),t=ry(Ha,t,i),i=Ce,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Qy:md),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function id(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=yt();return rd(i,Je,t)}function rd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=_=null,x=null,F=i,Y=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Oe&W)===W:(Wi&W)===W){var H=F.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===La&&(Y=!0);else if((Wi&H)===H){F=F.next,H===La&&(Y=!0);continue}else W={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(w=x=W,_=d):x=x.next=W,Ce.lanes|=H,Fr|=H;W=F.action,Qs&&a(d,W),d=F.hasEagerState?F.eagerState:a(d,W)}else H={lane:W,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(w=x=H,_=d):x=x.next=H,Ce.lanes|=W,Fr|=W;F=F.next}while(F!==null&&F!==i);if(x===null?_=d:x.next=w,!yn(d,t.memoizedState)&&(Ct=!0,Y&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);yn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function py(t,i,a){var l=Ce,f=yt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,ld(_y.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},yy.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(Wi&127)!==0||gy(l,i,a)}return a}function gy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=mc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function yy(t,i,a,l){i.value=a,i.getSnapshot=l,vy(i)&&Ey(t)}function _y(t,i,a){return a(function(){vy(i)&&Ey(t)})}function vy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Ey(t){var i=zs(t,2);i!==null&&fn(i,t,2)}function ad(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Qs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function Ty(t,i,a,l){return t.baseState=a,rd(t,Je,typeof l=="function"?l:Zi)}function xS(t,i,a,l,f){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,by(i,d)):(d.next=a.next,i.pending=a.next=d)}}function by(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var w=a(f,l),x=Q.S;x!==null&&x(_,w),wy(t,i,w)}catch(F){od(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),wy(t,i,d)}catch(F){od(t,i,F)}}function wy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(t,i,l)},function(l){return od(t,i,l)}):Sy(t,i,a)}function Sy(t,i,a){i.status="fulfilled",i.value=a,Ay(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,by(t,a)))}function od(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}t.action=null}function Ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ry(t,i){return i}function Cy(t,i){if(ke){var a=et.formState;if(a!==null){e:{var l=Ce;if(ke){if(it){t:{for(var f=it,d=kn;f.nodeType!==8;){if(!d){f=null;break t}if(f=jn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=jn(f.nextSibling),l=f.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:i},a.queue=l,a=$y.bind(null,Ce,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Ce,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=xS.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Iy(t){var i=yt();return xy(i,Je,t)}function xy(t,i,a){if(i=rd(t,i,Ry)[0],t=gc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(_){throw _===za?ac:_}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ga(9,{destroy:void 0},NS.bind(null,f,a),null)),[l,d,t]}function NS(t,i){t.action=i}function Ny(t){var i=yt(),a=Je;if(a!==null)return xy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=mc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Dy(){return yt().memoizedState}function yc(t,i,a,l){var f=sn();Ce.flags|=t,f.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&Wf(l,Je.memoizedState.deps)?f.memoizedState=Ga(i,d,a,l):(Ce.flags|=t,f.memoizedState=Ga(1|i,d,a,l))}function Oy(t,i){yc(8390656,8,t,i)}function ld(t,i){_c(2048,8,t,i)}function DS(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=mc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function My(t){var i=yt().memoizedState;return DS({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Vy(t,i){return _c(4,2,t,i)}function Uy(t,i){return _c(4,4,t,i)}function Py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ky(t,i,a){a=a!=null?a.concat([t]):null,_c(4,4,Py.bind(null,i,t),a)}function ud(){}function Ly(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=t(),Qs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Wi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=z_(),Ce.lanes|=t,Fr|=t,a)}function zy(t,i,a,l){return yn(a,i)?a:qa.current!==null?(t=cd(t,a,l),yn(t,i)||(Ct=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Oe&261930)===0?(Ct=!0,t.memoizedState=a):(t=z_(),Ce.lanes|=t,Fr|=t,i)}function By(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,w={};Q.T=w,dd(t,!1,i,a);try{var x=f(),F=Q.S;if(F!==null&&F(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=RS(x,l);pl(t,i,Y,wn(t))}else pl(t,i,l,wn(t))}catch(W){pl(t,i,{then:function(){},status:"rejected",reason:W},wn())}finally{se.p=d,_!==null&&w.types!==null&&(_.types=w.types),Q.T=_}}function OS(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=qy(t).queue;By(t,f,i,ge,a===null?OS:function(){return Fy(t),a(l)})}function qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fy(t){var i=qy(t);i.next===null&&(i=t.alternate.memoizedState),pl(t,i.next.queue,{},wn())}function fd(){return Gt(Ol)}function Hy(){return yt().memoizedState}function Gy(){return yt().memoizedState}function MS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=kr(a);var l=Lr(i,t,a);l!==null&&(fn(l,i,a),cl(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function VS(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?Ky(i,a):(a=Nf(t,i,a,l),a!==null&&(fn(a,t,l),Yy(a,i,l)))}function $y(t,i,a){var l=wn();pl(t,i,a,l)}function pl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))Ky(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,yn(w,_))return Zu(t,i,f,0),et===null&&Wu(),!1}catch{}if(a=Nf(t,i,f,l),a!==null)return fn(a,t,l),Yy(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=Nf(t,a,l,2),i!==null&&fn(i,t,2)}function vc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Ky(t,i){Fa=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var gl={readContext:Gt,use:pc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};gl.useEffectEvent=ft;var Qy={readContext:Gt,use:pc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Qs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Qs){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=VS.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,a=$y.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=sn();return cd(a,t,i)},useTransition:function(){var t=ad(!1);return t=By.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=sn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||gy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Oy(_y.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},yy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(ke){var a=Ai,l=Si;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=CS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return sn().memoizedState=MS.bind(null,Ce)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Gt,use:pc,useCallback:Ly,useContext:Gt,useEffect:ld,useImperativeHandle:ky,useInsertionEffect:Vy,useLayoutEffect:Uy,useMemo:jy,useReducer:gc,useRef:Dy,useState:function(){return gc(Zi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=yt();return zy(a,Je.memoizedState,t,i)},useTransition:function(){var t=gc(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:fd,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var a=yt();return Ty(a,Je,t,i)},useMemoCache:id,useCacheRefresh:Gy};md.useEffectEvent=My;var Xy={readContext:Gt,use:pc,useCallback:Ly,useContext:Gt,useEffect:ld,useImperativeHandle:ky,useInsertionEffect:Vy,useLayoutEffect:Uy,useMemo:jy,useReducer:sd,useRef:Dy,useState:function(){return sd(Zi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=yt();return Je===null?cd(a,t,i):zy(a,Je.memoizedState,t,i)},useTransition:function(){var t=sd(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:fd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=yt();return Je!==null?Ty(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Gy};Xy.useEffectEvent=My;function pd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=kr(l);f.payload=i,a!=null&&(f.callback=a),i=Lr(t,f,l),i!==null&&(fn(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=kr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Lr(t,f,l),i!==null&&(fn(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(fn(i,t,a),cl(i,t,a))}};function Jy(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(f,d):!0}function Wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gd.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Zy(t){Ju(t)}function e_(t){console.error(t)}function t_(t){Ju(t)}function Ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function n_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,i)},a}function i_(t){return t=kr(t),t.tag=3,t}function r_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){n_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){n_(i,a,l),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function US(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Oc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(t,l,f)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(t,l,f)),!1}throw Error(s(435,a.tag))}return qd(t,l,f),Oc(),!1}if(ke)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Pf&&(t=Error(s(422),{cause:l}),sl(Vn(t,a)))):(l!==Pf&&(i=Error(s(423),{cause:l}),sl(Vn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=yd(t.stateNode,l,f),Kf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),Sl===null?Sl=[d]:Sl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=yd(a.stateNode,l,t),Kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=i_(f),r_(f,t,a,l),Kf(a,f),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Ct=!1;function $t(t,i,a,l){i.child=t===null?ly(i,null,a,l):Ys(i,t.child,a,l)}function s_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Hs(i),l=Zf(t,i,a,_,d,f),w=ed(),t!==null&&!Ct?(td(t,i,f),er(t,i,f)):(ke&&w&&Vf(i),i.flags|=1,$t(t,i,l,f),i.child)}function a_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,o_(t,i,d,l,f)):(t=tc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Rd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&t.ref===i.ref)return er(t,i,f)}return i.flags|=1,t=Yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function o_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Rd(t,f))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,er(t,i,f)}return vd(t,i,a,l,f)}function l_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return u_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(i,d!==null?d.cachePool:null),d!==null?hy(i,d):Qf(),fy(i);else return l=i.lanes=536870912,u_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(i,d.cachePool),hy(i,d),zr(),i.memoizedState=null):(t!==null&&sc(i,null),Qf(),zr());return $t(t,i,f,a),i.child}function yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function u_(t,i,a,l,f){var d=Ff();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&sc(i,null),Qf(),fy(i),t!==null&&ka(t,i,l,!0),i.childLanes=f,null}function Tc(t,i){return i=wc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function c_(t,i,a){return Ys(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function PS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Tc(i,l),i.lanes=536870912,yl(null,t);if(Jf(i),(t=it)?(t=bv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Vr(i);return i.lanes=536870912,null}return Tc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),f)if(i.flags&256)i.flags&=-257,i=c_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||ka(t,i,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=et,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,zs(t,_),fn(l,t,_),_d;Oc(),i=c_(t,i,a)}else t=d.treeContext,it=jn(_.nextSibling),Ht=i,ke=!0,Mr=null,kn=!1,t!==null&&Xg(i,t),i=Tc(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,f){return Hs(i),a=Zf(t,i,a,l,void 0,f),l=ed(),t!==null&&!Ct?(td(t,i,f),er(t,i,f)):(ke&&l&&Vf(i),i.flags|=1,$t(t,i,a,f),i.child)}function h_(t,i,a,l,f,d){return Hs(i),i.updateQueue=null,a=my(i,l,a,f),dy(t),l=ed(),t!==null&&!Ct?(td(t,i,d),er(t,i,d)):(ke&&l&&Vf(i),i.flags|=1,$t(t,i,a,d),i.child)}function f_(t,i,a,l,f){if(Hs(i),i.stateNode===null){var d=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ma,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gd.enqueueReplaceState(d,d.state,null),fl(i,l,d,f),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,x=Xs(a,w);d.props=x;var F=d.context,Y=a.contextType;_=Ma,typeof Y=="object"&&Y!==null&&(_=Gt(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==_)&&Wy(i,d,l,_),Pr=!1;var H=i.memoizedState;d.state=H,fl(i,l,d,f),hl(),F=i.memoizedState,w||H!==F||Pr?(typeof W=="function"&&(pd(i,a,W,l),F=i.memoizedState),(x=Pr||Jy(i,a,x,l,H,F,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),_=i.memoizedProps,Y=Xs(a,_),d.props=Y,W=i.pendingProps,H=d.context,F=a.contextType,x=Ma,typeof F=="object"&&F!==null&&(x=Gt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==x)&&Wy(i,d,l,x),Pr=!1,H=i.memoizedState,d.state=H,fl(i,l,d,f),hl();var K=i.memoizedState;_!==W||H!==K||Pr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof w=="function"&&(pd(i,a,w,l),K=i.memoizedState),(Y=Pr||Jy(i,a,Y,l,H,K,x)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=x,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,f),i.child=Ys(i,null,a,f)):$t(t,i,a,f),i.memoizedState=d.state,t=i.child):t=er(t,i,f),t}function d_(t,i,a,l){return qs(),i.flags|=256,$t(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:ny()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function m_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(f?jr(i):zr(),(t=it)?(t=bv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Vr(i);return rm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(zr(),f=i.mode,w=wc({mode:"hidden",children:w},f),l=Bs(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,yl(null,l)):(jr(i),wd(i,w))}var x=t.memoizedState;if(x!==null&&(w=x.dehydrated,w!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=Sd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),w=l.fallback,f=i.mode,l=wc({mode:"visible",children:l.children},f),w=Bs(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,i=yl(null,l));else if(jr(i),rm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),i=Sd(t,i,a)}else if(Ct||ka(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=et,_!==null&&(l=Lo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,zs(t,l),fn(_,t,l),_d;im(w)||Oc(),i=Sd(t,i,a)}else im(w)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,it=jn(w.nextSibling),Ht=i,ke=!0,Mr=null,kn=!1,t!==null&&Xg(i,t),i=wd(i,l.children),i.flags|=4096);return i}return f?(zr(),w=l.fallback,f=i.mode,x=t.child,F=x.sibling,l=Yi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?w=Yi(F,w):(w=Bs(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,yl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Td(a):(f=w.cachePool,f!==null?(x=At._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=ny(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=bd(t,_,a),i.memoizedState=Ed,yl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function wd(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function Sd(t,i,a){return Ys(i,t.child,null,a),t=wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function p_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function Ad(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function g_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),$t(t,i,l,a),l=ke?rl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,a,i);else if(t.tag===19)p_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ad(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&hc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ad(i,!0,a,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function kS(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Ur(i,At,t.memoizedState.cache),qs();break;case 27:case 5:bs(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Ur(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?m_(t,i,a):(jr(i),t=er(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return g_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,l_(t,i,a,i.pendingProps);case 24:Ur(i,At,t.memoizedState.cache)}return er(t,i,a)}function y_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Rd(t,a)&&(i.flags&128)===0)return Ct=!1,kS(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ke&&(i.flags&1048576)!==0&&Qg(i,rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=$s(i.elementType),i.type=t,typeof t=="function")Df(t)?(l=Xs(t,l),i.tag=1,i=f_(null,i,t,l,a)):(i.tag=0,i=vd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===pe){i.tag=11,i=s_(null,i,t,l,a);break e}else if(f===N){i.tag=14,i=a_(null,i,t,l,a);break e}}throw i=at(t)||t,Error(s(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Xs(l,i.pendingProps),f_(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,$f(t,i),fl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ur(i,At,l),l!==d.cache&&zf(i,[At],a,!0),hl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=d_(t,i,l,a);break e}else if(l!==f){f=Vn(Error(s(424)),i),sl(f),i=d_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=jn(t.firstChild),Ht=i,ke=!0,Mr=null,kn=!0,a=ly(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qs(),l===f){i=er(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=jc(Ie.current).createElement(a),l[bt]=i,l[Lt]=t,Kt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=Iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&ke&&(l=i.stateNode=Av(i.type,i.pendingProps,Ie.current),Ht=i,kn=!0,f=it,Yr(i.type)?(sm=f,it=jn(l.firstChild)):it=f),$t(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((f=l=it)&&(l=dA(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,Ht=i,it=jn(l.firstChild),kn=!1,f=!0):f=!1),f||Vr(i)),bs(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,em(f,d)?l=null:_!==null&&em(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(t,i,IS,null,null,a),Ol._currentValue=f),bc(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=it)&&(a=mA(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||Vr(i)),null;case 13:return m_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):$t(t,i,l,a),i.child;case 11:return s_(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ur(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Hs(i),f=Gt(f),l=l(f),i.flags|=1,$t(t,i,l,a),i.child;case 14:return a_(t,i,i.type,i.pendingProps,a);case 15:return o_(t,i,i.type,i.pendingProps,a);case 19:return g_(t,i,a);case 31:return PS(t,i,a);case 22:return l_(t,i,a,i.pendingProps);case 24:return Hs(i),l=Gt(At),t===null?(f=Ff(),f===null&&(f=et,d=Bf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Gf(i),Ur(i,At,f)):((t.lanes&a)!==0&&($f(t,i),fl(i,null,null,a),hl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ur(i,At,l)):(l=d.cache,Ur(i,At,l),l!==f.cache&&zf(i,[At],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function tr(t){t.flags|=4}function Cd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(H_())t.flags|=8192;else throw Ks=oc,Hf}else t.flags&=-16777217}function __(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Mv(i))if(H_())t.flags|=8192;else throw Ks=oc,Hf}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,Qa|=i)}function _l(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function LS(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(At),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?tr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(tr(i),d!==null?(rt(i),__(i,d)):(rt(i),Cd(i,f,null,l,a))):d?d!==t.memoizedState?(tr(i),rt(i),__(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&tr(i),rt(i),Cd(i,f,t,l,a)),null;case 27:if(ma(i),a=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ue.current,Pa(i)?Jg(i):(t=Av(f,l,a),i.stateNode=t,tr(i))}return rt(i),null;case 5:if(ma(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=ue.current,Pa(i))Jg(i);else{var _=jc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(i)}}return rt(i),Cd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mv(t.nodeValue,a)),t||Vr(i,!0)}else t=jc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Pa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&Qd(i.stateNode.containerInfo),rt(i),null;case 10:return Ji(i.type),rt(i),null;case 19:if(Z(gt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)_l(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,_l(l,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)$g(a,t),a=a.sibling;return ae(gt,gt.current&1|2),ke&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>xc&&(i.flags|=128,f=!0,_l(l,!1),i.lanes=4194304)}else{if(!f)if(t=hc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return rt(i),null}else 2*nn()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,f=!0,_l(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),ke&&Qi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return En(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jS(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(At),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(gt),null;case 4:return ot(),null;case 10:return Ji(i.type),null;case 22:case 23:return En(i),Xf(),t!==null&&Z(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(At),null;case 25:return null;default:return null}}function v_(t,i){switch(Uf(i),i.tag){case 3:Ji(At),ot();break;case 26:case 27:case 5:ma(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:Z(gt);break;case 10:Ji(i.type);break;case 22:case 23:En(i),Xf(),t!==null&&Z(Gs);break;case 24:Ji(At)}}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Qe(i,i.return,w)}}function Br(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var x=a,F=w;try{F()}catch(Y){Qe(f,x,Y)}}}l=l.next}while(l!==d)}}catch(Y){Qe(i,i.return,Y)}}function E_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{cy(i,a)}catch(l){Qe(t,t.return,l)}}}function T_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function El(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Qe(t,i,f)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,i,f)}else a.current=null}function b_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function Id(t,i,a){try{var l=t.stateNode;oA(l,t.type,a,i),l[Lt]=i}catch(f){Qe(t,t.return,f)}}function w_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function S_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Qe(t,t.return,d)}}var nr=!1,It=!1,Dd=!1,A_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function zS(t,i){if(t=t.containerInfo,Wd=$c,t=kg(t),Sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,x=-1,F=0,Y=0,W=t,H=null;t:for(;;){for(var K;W!==a||f!==0&&W.nodeType!==3||(w=_+f),W!==d||l!==0&&W.nodeType!==3||(x=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)H=W,W=K;for(;;){if(W===t)break t;if(H===a&&++F===f&&(w=_),H===d&&++Y===l&&(x=_),(K=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=K}a=w===-1||x===-1?null:{start:w,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:t,selectionRange:a},$c=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Xs(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Qe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function R_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(t,a),l&4&&vl(5,a);break;case 1:if(rr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var f=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&E_(a),l&512&&El(a,a.return);break;case 3:if(rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cy(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&S_(a);case 26:case 5:rr(t,a),i===null&&l&4&&b_(a),l&512&&El(a,a.return);break;case 12:rr(t,a);break;case 31:rr(t,a),l&4&&x_(t,a);break;case 13:rr(t,a),l&4&&N_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QS.bind(null,a),pA(t,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||It,f=nr;var d=It;nr=l,(It=i)&&!d?sr(t,a,(a.subtreeFlags&8772)!==0):rr(t,a),nr=f,It=d}break;case 30:break;default:rr(t,a)}}function C_(t){var i=t.alternate;i!==null&&(t.alternate=null,C_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,ln=!1;function ir(t,i,a){for(a=a.child;a!==null;)I_(t,i,a),a=a.sibling}function I_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:It||Ri(a,i),ir(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ri(a,i);var l=ut,f=ln;Yr(a.type)&&(ut=a.stateNode,ln=!1),ir(t,i,a),xl(a.stateNode),ut=l,ln=f;break;case 5:It||Ri(a,i);case 6:if(l=ut,f=ln,ut=null,ir(t,i,a),ut=l,ln=f,ut!==null)if(ln)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:ut!==null&&(ln?(t=ut,Ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):Ev(ut,a.stateNode));break;case 4:l=ut,f=ln,ut=a.stateNode.containerInfo,ln=!0,ir(t,i,a),ut=l,ln=f;break;case 0:case 11:case 14:case 15:Br(2,a,i),It||Br(4,a,i),ir(t,i,a);break;case 1:It||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&T_(a,i,l)),ir(t,i,a);break;case 21:ir(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,ir(t,i,a),It=l;break;default:ir(t,i,a)}}function x_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){Qe(i,i.return,a)}}}function N_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){Qe(i,i.return,a)}}function BS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new A_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new A_),i;default:throw Error(s(435,t.tag))}}function Rc(t,i){var a=BS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=XS.bind(null,t,l);l.then(f,f)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Yr(w.type)){ut=w.stateNode,ln=!1;break e}break;case 5:ut=w.stateNode,ln=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(ut===null)throw Error(s(160));I_(d,_,f),ut=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)D_(i,t),i=i.sibling}var Wn=null;function D_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Br(3,t,t.return),vl(3,t),Br(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(It||a===null||Ri(a,a.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(un(i,t),cn(t),l&512&&(It||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[bt]=t,wt(d),l=d;break e;case"link":var _=Dv("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Dv("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,wt(d),l=d}t.stateNode=l}else Ov(f,t.type,t.stateNode);else t.stateNode=Nv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ov(f,t.type,t.stateNode):Nv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(It||a===null||Ri(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(It||a===null||Ri(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(qc=null,f=Wn,Wn=zc(i.containerInfo),un(i,t),Wn=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(ce){Qe(t,t.return,ce)}Dd&&(Dd=!1,O_(t));break;case 4:l=Wn,Wn=zc(t.stateNode.containerInfo),un(i,t),cn(t),Wn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=nr,Y=It;if(nr=F||f,It=Y||x,un(i,t),It=Y,nr=F,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||x||nr||It||Js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=x.stateNode;var W=x.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Qe(x,x.return,ce)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(ce){Qe(x,x.return,ce)}}}else if(i.tag===18){if(a===null){x=i;try{var K=x.stateNode;f?Tv(K,!0):Tv(x.stateNode,!1)}catch(ce){Qe(x,x.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(w_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=xd(t);Ac(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var w=xd(t);Ac(t,w,_);break;case 3:case 4:var x=a.stateNode.containerInfo,F=xd(t);Nd(t,F,x);break;default:throw Error(s(161))}}catch(Y){Qe(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function O_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;O_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function rr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)R_(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Js(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&T_(i,i.return,a),Js(i);break;case 27:xl(i.stateNode);case 26:case 5:Ri(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),vl(4,d);break;case 1:if(sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Qe(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)uy(x[f],w)}catch(F){Qe(l,l.return,F)}}a&&_&64&&E_(d),El(d,d.return);break;case 27:S_(d);case 26:case 5:sr(f,d,a),a&&l===null&&_&4&&b_(d),El(d,d.return);break;case 12:sr(f,d,a);break;case 31:sr(f,d,a),a&&_&4&&x_(f,d);break;case 13:sr(f,d,a),a&&_&4&&N_(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),El(d,d.return);break;case 30:break;default:sr(f,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)M_(t,i,a,l),i=i.sibling}function M_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),f&2048&&vl(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(f&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Qe(i,i.return,x)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):Tl(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,$a(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Od(_,i);break;case 24:Zn(t,i,a,l),f&2048&&Md(i.alternate,i);break;default:Zn(t,i,a,l)}}function $a(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,w=a,x=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:$a(d,_,w,x,f),vl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?$a(d,_,w,x,f):Tl(d,_):(Y._visibility|=2,$a(d,_,w,x,f)),f&&F&2048&&Od(_.alternate,_);break;case 24:$a(d,_,w,x,f),f&&F&2048&&Md(_.alternate,_);break;default:$a(d,_,w,x,f)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Tl(a,l),f&2048&&Od(l.alternate,l);break;case 24:Tl(a,l),f&2048&&Md(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var bl=8192;function Ka(t,i,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)V_(t,i,a),t=t.sibling}function V_(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&bl&&t.memoizedState!==null&&CA(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var l=Wn;Wn=zc(t.stateNode.containerInfo),Ka(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,Ka(t,i,a),bl=l):Ka(t,i,a));break;default:Ka(t,i,a)}}function U_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,k_(l,t)}U_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P_(t),t=t.sibling}function P_(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):wl(t);break;default:wl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,k_(l,t)}U_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function k_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(C_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var qS={getCacheForType:function(t){var i=Gt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(At).controller.signal}},FS=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,Ne=null,Oe=0,Ye=0,Tn=null,qr=!1,Ya=!1,Vd=!1,ar=0,dt=0,Fr=0,Ws=0,Ud=0,bn=0,Qa=0,Sl=null,hn=null,Pd=!1,Ic=0,L_=0,xc=1/0,Nc=null,Hr=null,Ut=0,Gr=null,Xa=null,or=0,kd=0,Ld=null,j_=null,Al=0,jd=null;function wn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:Q.T!==null?Gd():Du()}function z_(){if(bn===0)if((Oe&536870912)===0||ke){var t=As;As<<=1,(As&3932160)===0&&(As=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),$r(t,Oe,bn,!1)),Rs(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(Ws|=a),dt===4&&$r(t,Oe,bn,!1)),Ci(t))}function B_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),f=l?$S(t,i):Bd(t,i,!0),d=l;do{if(f===0){Ya&&!l&&$r(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!HS(a)){f=Bd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;f=Sl;var x=w.current.memoizedState.isDehydrated;if(x&&(Ja(w,_).flags|=256),_=Bd(w,_,!1),_!==2){if(Vd&&!x){w.errorRecoveryDisabledLanes|=d,Ws|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ja(t,0),$r(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:$r(l,i,bn,!qr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ic+300-nn(),10<f)){if($r(l,i,bn,!qr),ui(l,0,!0)!==0)break e;or=i,l.timeoutHandle=_v(q_.bind(null,l,a,hn,Nc,Pd,i,bn,Ws,Qa,qr,d,"Throttled",-0,0),f);break e}q_(l,a,hn,Nc,Pd,i,bn,Ws,Qa,qr,d,null,-0,0)}}break}while(!0);Ci(t)}function q_(t,i,a,l,f,d,_,w,x,F,Y,W,H,K){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},V_(i,d,W);var ce=(d&62914560)===d?Ic-nn():(d&4194048)===d?L_-nn():0;if(ce=IA(W,ce),ce!==null){or=d,t.cancelPendingCommit=ce(X_.bind(null,t,i,d,a,l,f,_,w,x,Y,W,null,H,K)),$r(t,d,_,!F);return}}X_(t,i,d,a,l,f,_,w,x)}function HS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $r(t,i,a,l){i&=~Ud,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Cs(t,a,i)}function Dc(){return(He&6)===0?(Rl(0),!1):!0}function zd(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Xi=Fs=null,nd(t),Ba=null,ll=0,t=Ne;for(;t!==null;)v_(t.alternate,t),t=t.return;Ne=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),or=0,zd(),et=t,Ne=a=Yi(t.current,null),Oe=i,Ye=0,Tn=null,qr=!1,Ya=Fn(t,i),Vd=!1,Qa=bn=Ud=Ws=Fr=dt=0,hn=Sl=null,Pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return ar=i,Wu(),a}function F_(t,i){Ce=null,Q.H=gl,i===za||i===ac?(i=sy(),Ye=3):i===Hf?(i=sy(),Ye=4):Ye=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Ne===null&&(dt=1,Ec(t,Vn(i,t.current)))}function H_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?Ln===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Ln:!1}function G_(){var t=Q.H;return Q.H=gl,t===null?gl:t}function $_(){var t=Q.A;return Q.A=qS,t}function Oc(){dt=4,qr||(Oe&4194048)!==Oe&&vn.current!==null||(Ya=!0),(Fr&134217727)===0&&(Ws&134217727)===0||et===null||$r(et,Oe,bn,!1)}function Bd(t,i,a){var l=He;He|=2;var f=G_(),d=$_();(et!==t||Oe!==i)&&(Nc=null,Ja(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&Ne!==null){var w=Ne,x=Tn;switch(Ye){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var F=Ye;if(Ye=0,Tn=null,Wa(t,w,x,F),a&&Ya){_=0;break e}break;default:F=Ye,Ye=0,Tn=null,Wa(t,w,x,F)}}GS(),_=dt;break}catch(Y){F_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Xi=Fs=null,He=l,Q.H=f,Q.A=d,Ne===null&&(et=null,Oe=0,Wu()),_}function GS(){for(;Ne!==null;)K_(Ne)}function $S(t,i){var a=He;He|=2;var l=G_(),f=$_();et!==t||Oe!==i?(Nc=null,xc=nn()+500,Ja(t,i)):Ya=Fn(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,Wa(t,i,d,1);break;case 2:case 9:if(iy(d)){Ye=0,Tn=null,Y_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ci(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:iy(d)?(Ye=0,Tn=null,Y_(i)):(Ye=0,Tn=null,Wa(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var w=Ne;if(_?Mv(_):w.stateNode.complete){Ye=0,Tn=null;var x=w.sibling;if(x!==null)Ne=x;else{var F=w.return;F!==null?(Ne=F,Mc(F)):Ne=null}break t}}Ye=0,Tn=null,Wa(t,i,d,5);break;case 6:Ye=0,Tn=null,Wa(t,i,d,6);break;case 8:zd(),dt=6;break e;default:throw Error(s(462))}}KS();break}catch(Y){F_(t,Y)}while(!0);return Xi=Fs=null,Q.H=l,Q.A=f,He=a,Ne!==null?0:(et=null,Oe=0,Wu(),dt)}function KS(){for(;Ne!==null&&!yf();)K_(Ne)}function K_(t){var i=y_(t.alternate,t,ar);t.memoizedProps=t.pendingProps,i===null?Mc(t):Ne=i}function Y_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=h_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=h_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:nd(i);default:v_(a,i),i=Ne=$g(i,ar),i=y_(a,i,ar)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Ne=i}function Wa(t,i,a,l){Xi=Fs=null,nd(i),Ba=null,ll=0;var f=i.return;try{if(US(t,f,i,a,Oe)){dt=1,Ec(t,Vn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;dt=1,Ec(t,Vn(a,t.current)),Ne=null;return}i.flags&32768?(ke||l===1?t=!0:Ya||(Oe&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Q_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){Q_(i,qr);return}t=i.return;var a=LS(i.alternate,i,ar);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function Q_(t,i){do{var a=jS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function X_(t,i,a,l,f,d,_,w,x){t.cancelPendingCommit=null;do Vc();while(Ut!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=xf,Ef(t,a,d,_,w,x),t===et&&(Ne=et=null,Oe=0),Xa=i,Gr=t,or=a,kd=d,Ld=f,j_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JS(br,function(){return tv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=se.p,se.p=2,_=He,He|=4;try{zS(t,i,a)}finally{He=_,se.p=f,Q.T=l}}Ut=1,J_(),W_(),Z_()}}function J_(){if(Ut===1){Ut=0;var t=Gr,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{D_(i,t);var d=Zd,_=kg(t.containerInfo),w=d.focusedElem,x=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Pg(w.ownerDocument.documentElement,w)){if(x!==null&&Sf(w)){var F=x.start,Y=x.end;if(Y===void 0&&(Y=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(Y,w.value.length);else{var W=w.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var K=H.getSelection(),ce=w.textContent.length,ye=Math.min(x.start,ce),Ze=x.end===void 0?ye:Math.min(x.end,ce);!K.extend&&ye>Ze&&(_=Ze,Ze=ye,ye=_);var P=Ug(w,ye),D=Ug(w,Ze);if(P&&D&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==D.node||K.focusOffset!==D.offset)){var q=W.createRange();q.setStart(P.node,P.offset),K.removeAllRanges(),ye>Ze?(K.addRange(q),K.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),K.addRange(q))}}}}for(W=[],K=w;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var X=W[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$c=!!Wd,Zd=Wd=null}finally{He=f,se.p=l,Q.T=a}}t.current=i,Ut=2}}function W_(){if(Ut===2){Ut=0;var t=Gr,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{R_(t,i.alternate,i)}finally{He=f,se.p=l,Q.T=a}}Ut=3}}function Z_(){if(Ut===4||Ut===3){Ut=0,Su();var t=Gr,i=Xa,a=or,l=j_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Xa=Gr=null,ev(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Hr=null),Hi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{Q.T=i,se.p=f}}(or&3)!==0&&Vc(),Ci(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===jd?Al++:(Al=0,jd=t):Al=0,Rl(0)}}function ev(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Vc(){return J_(),W_(),Z_(),tv()}function tv(){if(Ut!==5)return!1;var t=Gr,i=kd;kd=0;var a=Hi(or),l=Q.T,f=se.p;try{se.p=32>a?32:a,Q.T=null,a=Ld,Ld=null;var d=Gr,_=or;if(Ut=0,Xa=Gr=null,or=0,(He&6)!==0)throw Error(s(331));var w=He;if(He|=4,P_(d.current),M_(d,d.current,_,a),He=w,Rl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=f,Q.T=l,ev(t,i)}}function nv(t,i,a){i=Vn(a,i),i=yd(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Rs(t,2),Ci(t))}function Qe(t,i,a){if(t.tag===3)nv(t,t,a);else for(;i!==null;){if(i.tag===3){nv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){t=Vn(a,t),a=i_(2),l=Lr(i,a,2),l!==null&&(r_(a,l,i,t),Rs(l,2),Ci(l));break}}i=i.return}}function qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new FS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Vd=!0,f.add(a),t=YS.bind(null,t,i,a),i.then(t,t))}function YS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>nn()-Ic?(He&2)===0&&Ja(t,0):Ud|=a,Qa===Oe&&(Qa=0)),Ci(t)}function iv(t,i){i===0&&(i=Nu()),t=zs(t,i),t!==null&&(Rs(t,i),Ci(t))}function QS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),iv(t,a)}function XS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),iv(t,a)}function JS(t,i){return Vt(t,i)}var Uc=null,Za=null,Fd=!1,Pc=!1,Hd=!1,Kr=0;function Ci(t){t!==Za&&t.next===null&&(Za===null?Uc=Za=t:Za=Za.next=t),Pc=!0,Fd||(Fd=!0,ZS())}function Rl(t,i){if(!Hd&&Pc){Hd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ov(l,d))}else d=Oe,d=ui(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,ov(l,d));l=l.next}while(a);Hd=!1}}function WS(){rv()}function rv(){Pc=Fd=!1;var t=0;Kr!==0&&uA()&&(t=Kr);for(var i=nn(),a=null,l=Uc;l!==null;){var f=l.next,d=sv(l,i);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=f}Ut!==0&&Ut!==5||Rl(t),Kr!==0&&(Kr=0)}function sv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),w=1<<_,x=f[_];x===-1?((w&a)===0||(w&l)!==0)&&(f[_]=vf(w,i)):x<=i&&(t.expiredLanes|=w),d&=~w}if(i=et,a=Oe,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Tr(l),Hi(a)){case 2:case 8:a=Po;break;case 32:a=br;break;case 268435456:a=Au;break;default:a=br}return l=av.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function av(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Oe;return l=ui(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(B_(t,l,i),sv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?av.bind(null,t):null)}function ov(t,i){if(Vc())return null;B_(t,i,!0)}function ZS(){hA(function(){(He&6)!==0?Vt(Uo,WS):rv()})}function Gd(){if(Kr===0){var t=La;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Kr=t}return Kr}function lv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function uv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function eA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=lv((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?lv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new Ei("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var x=_?uv(f,_):new FormData(f);hd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(w.preventDefault(),x=_?uv(f,_):new FormData(f),hd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var $d=0;$d<If.length;$d++){var Kd=If[$d],tA=Kd.toLowerCase(),nA=Kd[0].toUpperCase()+Kd.slice(1);Jn(tA,"on"+nA)}Jn(zg,"onAnimationEnd"),Jn(Bg,"onAnimationIteration"),Jn(qg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(_S,"onTransitionRun"),Jn(vS,"onTransitionStart"),Jn(ES,"onTransitionCancel"),Jn(Fg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function cv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],x=w.instance,F=w.currentTarget;if(w=w.listener,x!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(Y){Ju(Y)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(w=l[_],x=w.instance,F=w.currentTarget,w=w.listener,x!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(Y){Ju(Y)}f.currentTarget=null,d=x}}}}function De(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=t+"__bubble";a.has(l)||(hv(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),hv(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[kc]){t[kc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(iA.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Yd("selectionchange",!1,i))}}function hv(t,i,a,l){switch(zv(i)){case 2:var f=DA;break;case 8:f=OA;break;default:f=cm}a=f.bind(null,i,a,t),f=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=di(w),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Ir(function(){var F=d,Y=Nn(a),W=[];e:{var H=Hg.get(t);if(H!==void 0){var K=Ei,ce=t;switch(t){case"keypress":if(Vs(a)===0)break e;case"keydown":case"keyup":K=Yu;break;case"focusin":ce="focus",K=Ps;break;case"focusout":ce="blur",K=Ps;break;case"beforeblur":case"afterblur":K=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case zg:case Bg:case qg:K=Bu;break;case Fg:K=S;break;case"scroll":case"scrollend":K=Jo;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ki;break;case"toggle":case"beforetoggle":K=Re}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),P=ye?H!==null?H+"Capture":null:H;ye=[];for(var D=F,q;D!==null;){var X=D;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||P===null||(X=Kn(D,P),X!=null&&ye.push(Il(D,X,q))),Ze)break;D=D.return}0<ye.length&&(H=new K(H,ce,null,a,Y),W.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==Yo&&(ce=a.relatedTarget||a.fromElement)&&(di(ce)||ce[hi]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=F,ce=ce?di(ce):null,ce!==null&&(Ze=u(ce),ye=ce.tag,ce!==Ze||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(K=null,ce=F),K!==ce)){if(ye=Wo,X="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ki,X="onPointerLeave",P="onPointerEnter",D="pointer"),Ze=K==null?H:pn(K),q=ce==null?H:pn(ce),H=new ye(X,D+"leave",K,a,Y),H.target=Ze,H.relatedTarget=q,X=null,di(Y)===F&&(ye=new ye(P,D+"enter",ce,a,Y),ye.target=q,ye.relatedTarget=Ze,X=ye),Ze=X,K&&ce)t:{for(ye=rA,P=K,D=ce,q=0,X=P;X;X=ye(X))q++;X=0;for(var de=D;de;de=ye(de))X++;for(;0<q-X;)P=ye(P),q--;for(;0<X-q;)D=ye(D),X--;for(;q--;){if(P===D||D!==null&&P===D.alternate){ye=P;break t}P=ye(P),D=ye(D)}ye=null}else ye=null;K!==null&&fv(W,H,K,ye,!1),ce!==null&&Ze!==null&&fv(W,Ze,ce,ye,!0)}}e:{if(H=F?pn(F):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Be=xg;else if(Cg(H))if(Ng)Be=pS;else{Be=dS;var he=fS}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&ba(F.elementType)&&(Be=xg):Be=mS;if(Be&&(Be=Be(t,F))){Ig(W,Be,a,Y);break e}he&&he(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Go(H,"number",H.value)}switch(he=F?pn(F):window,t){case"focusin":(Cg(he)||he.contentEditable==="true")&&(Na=he,Af=F,il=null);break;case"focusout":il=Af=Na=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Lg(W,a,Y);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":Lg(W,a,Y)}var xe;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else xa?ks(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(wi&&a.locale!=="ko"&&(xa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&xa&&(xe=Xo()):(vi=Y,Qo="value"in vi?vi.value:vi.textContent,xa=!0)),he=Lc(F,Me),0<he.length&&(Me=new bi(Me,t,null,a,Y),W.push({event:Me,listeners:he}),xe?Me.data=xe:(xe=Ia(a),xe!==null&&(Me.data=xe)))),(xe=On?lS(t,a):uS(t,a))&&(Me=Lc(F,"onBeforeInput"),0<Me.length&&(he=new bi("onBeforeInput","beforeinput",null,a,Y),W.push({event:he,listeners:Me}),he.data=xe)),eA(W,t,F,a,Y)}cv(W,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Lc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Kn(t,a),f!=null&&l.unshift(Il(t,f,d)),f=Kn(t,i),f!=null&&l.push(Il(t,f,d))),t.tag===3)return l;t=t.return}return[]}function rA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,x=w.alternate,F=w.stateNode;if(w=w.tag,x!==null&&x===l)break;w!==5&&w!==26&&w!==27||F===null||(x=F,f?(F=Kn(a,d),F!=null&&_.unshift(Il(a,F,x))):f||(F=Kn(a,d),F!=null&&_.push(Il(a,F,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var sA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function dv(t){return(typeof t=="string"?t:""+t).replace(sA,`
`).replace(aA,"")}function mv(t,i){return i=dv(i),dv(t)===i}function We(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,Ea(t,a,l))}}function Jd(t,i,a,l,f,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ea(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}f&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var w=d=_=f=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":x=Y;break;case"defaultChecked":F=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(t,i,l,Y,a,null)}}Uu(t,d,w,x,F,_,f,!1);return;case"select":De("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:We(t,i,f,w,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Sr(t,!!l,i,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,_,w,a,null)}Ar(t,l,f,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,x,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)De(Cl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,F,l,a,null)}return;default:if(ba(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Jd(t,i,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function oA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,x=null,F=null,Y=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=W;default:l.hasOwnProperty(K)||We(t,i,K,null,l,W)}}for(var H in l){var K=l[H];if(W=a[H],l.hasOwnProperty(H)&&(K!=null||W!=null))switch(H){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==W&&We(t,i,H,K,l,W)}}Ta(t,_,w,x,F,Y,d,f);return;case"select":K=_=w=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||We(t,i,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==x&&We(t,i,f,d,l,x)}i=w,a=_,l=K,H!=null?Sr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Sr(t,!!a,i,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,i,_,f,l,d)}Pu(t,H,K);return;case"option":for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,i,ce,null,l,H));for(x in l)H=l[x],K=a[x],l.hasOwnProperty(x)&&H!==K&&(H!=null||K!=null)&&(x==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":We(t,i,x,H,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&We(t,i,ye,null,l,H);for(F in l)if(H=l[F],K=a[F],l.hasOwnProperty(F)&&H!==K&&(H!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,F,H,l,K)}return;default:if(ba(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&Jd(t,i,Ze,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||Jd(t,i,Y,H,l,K);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,H);for(W in l)H=l[W],K=a[W],!l.hasOwnProperty(W)||H===K||H==null&&K==null||We(t,i,W,H,l,K)}function pv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&pv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],F=x.startTime;if(F>w)break;var Y=x.transferSize,W=x.initiatorType;Y&&pv(W)&&(x=x.responseEnd,_+=Y*(x<w?1:(w-F)/(x-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wd=null,Zd=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function uA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(fA)}:_v;function fA(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function Ev(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[fi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&xl(t.ownerDocument.body);a=f}while(a);io(i)}function Tv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function mA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function bv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var sm=null;function wv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Sv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Av(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var zn=new Map,Rv=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=se.d;se.d={f:gA,r:yA,D:_A,C:vA,L:EA,m:TA,X:wA,S:bA,M:SA};function gA(){var t=lr.f(),i=Dc();return t||i}function yA(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?Fy(i):lr.r(t)}var eo=typeof document>"u"?null:document;function Cv(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Rv.has(f)||(Rv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function _A(t){lr.D(t),Cv("dns-prefetch",t,null)}function vA(t,i){lr.C(t,i),Cv("preconnect",t,i)}function EA(t,i,a){lr.L(t,i,a);var l=eo;if(l&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var d=f;switch(i){case"style":d=to(t);break;case"script":d=no(t)}zn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function TA(t,i){lr.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!zn.has(d)&&(t=T({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function bA(t,i,a){lr.S(t,i,a);var l=eo;if(l&&t){var f=mi(l).hoistableStyles,d=to(t);i=i||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Nl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&am(t,a);var x=_=l.createElement("link");wt(x),Kt(x,"link",t),x._p=new Promise(function(F,Y){x.onload=F,x.onerror=Y}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function wA(t,i){lr.X(t,i);var a=eo;if(a&&t){var l=mi(a).hoistableScripts,f=no(t),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(t=T({src:t,async:!0},i),(i=zn.get(f))&&om(t,i),d=a.createElement("script"),wt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function SA(t,i){lr.M(t,i);var a=eo;if(a&&t){var l=mi(a).hoistableScripts,f=no(t),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=zn.get(f))&&om(t,i),d=a.createElement("script"),wt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Iv(t,i,a,l){var f=(f=Ie.current)?zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=mi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=mi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Nl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||AA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=mi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+an(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function xv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function AA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),wt(i),t.head.appendChild(i))}function no(t){return'[src="'+an(t)+'"]'}function Dl(t){return"script[async]"+t}function Nv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",f),Bc(l,a.precedence,t),i.instance=l;case"stylesheet":f=to(a.href);var d=t.querySelector(Nl(f));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=xv(a),(f=zn.get(f))&&am(l,f),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(w,x){_.onload=w,_.onerror=x}),Kt(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(f=t.querySelector(Dl(d)))?(i.instance=f,wt(f),f):(l=a,(f=zn.get(d))&&(l=T({},a),om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,t));return i.instance}function Bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function Dv(t,i,a){if(qc===null){var l=new Map,f=qc=new Map;f.set(a,l)}else f=qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[fi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function Ov(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function RA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function CA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=to(l.href),d=i.querySelector(Nl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=xv(l),(f=zn.get(f))&&am(l,f),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(w,x){_.onload=w,_.onerror=x}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function IA(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*lA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(xA,t),Hc=null,Fc.call(t))}function xA(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function NA(t,i,a,l,f,d,_,w,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Vv(t,i,a,l,f,d,_,w,x,F,Y,W){return t=new NA(t,i,a,_,x,F,Y,W,w),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function Uv(t){return t?(t=Ma,t):Ma}function Pv(t,i,a,l,f,d){f=Uv(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(t,l,i),a!==null&&(fn(a,t,i),cl(a,t,i))}function kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){kv(t,i),(t=t.alternate)&&kv(t,i)}function Lv(t){if(t.tag===13||t.tag===31){var i=zs(t,67108864);i!==null&&fn(i,t,67108864),um(t,67108864)}}function jv(t){if(t.tag===13||t.tag===31){var i=wn();i=Is(i);var a=zs(t,i);a!==null&&fn(a,t,i),um(t,i)}}var $c=!0;function DA(t,i,a,l){var f=Q.T;Q.T=null;var d=se.p;try{se.p=2,cm(t,i,a,l)}finally{se.p=d,Q.T=f}}function OA(t,i,a,l){var f=Q.T;Q.T=null;var d=se.p;try{se.p=8,cm(t,i,a,l)}finally{se.p=d,Q.T=f}}function cm(t,i,a,l){if($c){var f=hm(l);if(f===null)Xd(t,i,l,Kc,a),Bv(t,l);else if(VA(f,t,i,a,l))l.stopPropagation();else if(Bv(t,l),i&4&&-1<MA.indexOf(t)){for(;f!==null;){var d=xn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var x=1<<31-mt(_);w.entanglements[1]|=x,_&=~x}Ci(d),(He&6)===0&&(xc=nn()+500,Rl(0))}}break;case 31:case 13:w=zs(d,2),w!==null&&fn(w,d,2),Dc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,i,l,Kc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function hm(t){return t=Nn(t),fm(t)}var Kc=null;function fm(t){if(Kc=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Uo:return 2;case Po:return 8;case br:case _f:return 32;case Au:return 268435456;default:return 32}default:return 32}}var dm=!1,Qr=null,Xr=null,Jr=null,Ml=new Map,Vl=new Map,Wr=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Ul(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=xn(i),i!==null&&Lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function VA(t,i,a,l,f){switch(i){case"focusin":return Qr=Ul(Qr,t,i,a,l,f),!0;case"dragenter":return Xr=Ul(Xr,t,i,a,l,f),!0;case"mouseover":return Jr=Ul(Jr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ml.set(d,Ul(Ml.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Vl.set(d,Ul(Vl.get(d)||null,t,i,a,l,f)),!0}return!1}function qv(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){jv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){jv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=xn(a),i!==null&&Lv(i),t.blockedOn=a,!1;i.shift()}return!0}function Fv(t,i,a){Yc(t)&&a.delete(i)}function UA(){dm=!1,Qr!==null&&Yc(Qr)&&(Qr=null),Xr!==null&&Yc(Xr)&&(Xr=null),Jr!==null&&Yc(Jr)&&(Jr=null),Ml.forEach(Fv),Vl.forEach(Fv)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var Xc=null;function Hv(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function io(t){function i(x){return Qc(x,t)}Qr!==null&&Qc(Qr,t),Xr!==null&&Qc(Xr,t),Jr!==null&&Qc(Jr,t),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||Hv(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)w=_.formAction;else if(fm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Hv(a)}}}function Gv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}Jc.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Pv(a,l,t,i,null,null)},Jc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Pv(t.current,2,null,t,null,null),Dc(),i[hi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Du();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&qv(t)}};var $v=e.version;if($v!=="19.2.3")throw Error(s(527,$v,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var PA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{qn=Wc.inject(PA),qt=Wc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Zy,d=e_,_=t_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Vv(t,1,!1,null,null,a,l,null,f,d,_,Gv),t[hi]=i.current,Qd(t),new mm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Zy,_=e_,w=t_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=Vv(t,1,!0,i,a??null,l,f,x,d,_,w,Gv),i.context=Uv(null),a=i.current,l=wn(),l=Is(l),f=kr(l),f.callback=null,Lr(a,f,l),a=l,i.current.lanes=a,Rs(i,a),Ci(i),t[hi]=i.current,Qd(t),new Jc(i)},kl.version="19.2.3",kl}var n0;function $A(){if(n0)return ym.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=GA(),ym.exports}var KA=$A();const YA=KE(KA);var i0="popstate";function QA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return jm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return JA(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Rn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function r0(r,e){return{usr:r.state,key:r.key,idx:e}}function jm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||XA()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function JA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=v(),te=L==null?null:L-g;g=L,p&&p({action:m,location:k.location,delta:te})}function A(L,te){m="PUSH";let ne=jm(k.location,L,te);g=v()+1;let ie=r0(ne,g),pe=k.createHref(ne);try{h.pushState(ie,"",pe)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(pe)}u&&p&&p({action:m,location:k.location,delta:1})}function U(L,te){m="REPLACE";let ne=jm(k.location,L,te);g=v();let ie=r0(ne,g),pe=k.createHref(ne);h.replaceState(ie,"",pe),u&&p&&p({action:m,location:k.location,delta:0})}function G(L){return WA(L)}let k={get action(){return m},get location(){return r(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i0,T),p=L,()=>{o.removeEventListener(i0,T),p=null}},createHref(L){return e(o,L)},createURL:G,encodeLocation(L){let te=G(L);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:U,go(L){return h.go(L)}};return k}function WA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YE(r,e,n="/"){return ZA(r,e,n,!1)}function ZA(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=QE(r);e1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=h1(u);m=u1(h[p],g,s)}return m}function QE(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ct(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=fr([s,v.relativePath]),A=n.concat(v);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),QE(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:o1(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of XE(h.path))u(h,m,!0,p)}),e}function XE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=XE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function e1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:l1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var t1=/^:[\w-]+$/,n1=3,i1=2,r1=1,s1=10,a1=-2,s0=r=>r==="*";function o1(r,e){let n=r.split("/"),s=n.length;return n.some(s0)&&(s+=a1),e&&(s+=i1),n.filter(o=>!s0(o)).reduce((o,u)=>o+(t1.test(u)?n1:u===""?r1:s1),s)}function l1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function u1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:p1(fr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return h}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=c1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},A)=>{if(v==="*"){let G=m[A]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const U=m[A];return T&&!U?g[v]=void 0:g[v]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function c1(r,e=!1,n=!0){Rn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function h1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f1=r=>JE.test(r);function d1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r,u;if(n)if(f1(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=a0(n.substring(1),"/"):u=a0(n,e)}else u=e;return{pathname:u,search:g1(s),hash:y1(o)}}function a0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gp(r){let e=m1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yp(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=d1(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),p1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),g1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,y1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,_1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function v1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function E1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZE(r,e){let n=r;if(typeof n!="string"||!JE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(WE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=pr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eT=["POST","PUT","PATCH","DELETE"];new Set(eT);var T1=["GET",...eT];new Set(T1);var wo=z.createContext(null);wo.displayName="DataRouter";var $h=z.createContext(null);$h.displayName="DataRouterState";var b1=z.createContext(!1),tT=z.createContext({isTransitioning:!1});tT.displayName="ViewTransition";var w1=z.createContext(new Map);w1.displayName="Fetchers";var S1=z.createContext(null);S1.displayName="Await";var Cn=z.createContext(null);Cn.displayName="Navigation";var cu=z.createContext(null);cu.displayName="Location";var si=z.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var _p=z.createContext(null);_p.displayName="RouteError";var nT="REACT_ROUTER_ERROR",A1="REDIRECT",R1="ROUTE_ERROR_RESPONSE";function C1(r){if(r.startsWith(`${nT}:${A1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function I1(r){if(r.startsWith(`${nT}:${R1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _1(e.status,e.statusText,e.data)}catch{}}function x1(r,{relative:e}={}){ct(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Cn),{hash:o,pathname:u,search:h}=hu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function So(){return z.useContext(cu)!=null}function Er(){return ct(So(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(cu).location}var iT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(r){z.useContext(Cn).static||z.useLayoutEffect(r)}function Kh(){let{isDataRoute:r}=z.useContext(si);return r?H1():N1()}function N1(){ct(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(wo),{basename:e,navigator:n}=z.useContext(Cn),{matches:s}=z.useContext(si),{pathname:o}=Er(),u=JSON.stringify(gp(s)),h=z.useRef(!1);return rT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Rn(h.current,iT),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=yp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}var D1=z.createContext(null);function O1(r){let e=z.useContext(si).outlet;return z.useMemo(()=>e&&z.createElement(D1.Provider,{value:r},e),[e,r])}function hu(r,{relative:e}={}){let{matches:n}=z.useContext(si),{pathname:s}=Er(),o=JSON.stringify(gp(n));return z.useMemo(()=>yp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function M1(r,e){return sT(r,e)}function sT(r,e,n,s,o){ct(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Cn),{matches:h}=z.useContext(si),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";oT(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=Er(),U;if(e){let ne=typeof e=="string"?bo(e):e;ct(v==="/"||ne.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),U=ne}else U=A;let G=U.pathname||"/",k=G;if(v!=="/"){let ne=v.replace(/^\//,"").split("/");k="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let L=YE(r,{pathname:k});Rn(T||L!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Rn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=L1(L&&L.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:fr([v,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?v:fr([v,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&te?z.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},te):te}function V1(){let r=F1(),e=v1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var U1=z.createElement(V1,null),aT=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=I1(r.digest);n&&(r=n)}let e=r!==void 0?z.createElement(si.Provider,{value:this.props.routeContext},z.createElement(_p.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?z.createElement(P1,{error:r},e):e}};aT.contextType=b1;var bm=new WeakMap;function P1({children:r,error:e}){let{basename:n}=z.useContext(Cn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=C1(e.digest);if(s){let o=bm.get(e);if(o)throw o;let u=ZE(s.location,n);if(WE&&!bm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw bm.set(e,h),h}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function k1({routeContext:r,match:e,children:n}){let s=z.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(si.Provider,{value:r},n)}function L1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:A,errors:U}=n,G=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!U||U[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,T)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:E1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,A)=>{let U,G=!1,k=null,L=null;n&&(U=h&&T.route.id?h[T.route.id]:void 0,k=T.route.errorElement||U1,m&&(p<0&&A===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,L=null):p===A&&(G=!0,L=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,A+1)),ne=()=>{let ie;return U?ie=k:G?ie=L:T.route.Component?ie=z.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=v,z.createElement(k1,{match:T,routeContext:{outlet:v,matches:te,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?z.createElement(aT,{location:n.location,revalidation:n.revalidation,component:k,error:U,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ne()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(r){let e=z.useContext(wo);return ct(e,vp(r)),e}function z1(r){let e=z.useContext($h);return ct(e,vp(r)),e}function B1(r){let e=z.useContext(si);return ct(e,vp(r)),e}function Ep(r){let e=B1(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function q1(){return Ep("useRouteId")}function F1(){let r=z.useContext(_p),e=z1("useRouteError"),n=Ep("useRouteError");return r!==void 0?r:e.errors?.[n]}function H1(){let{router:r}=j1("useNavigate"),e=Ep("useNavigate"),n=z.useRef(!1);return rT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Rn(n.current,iT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var o0={};function oT(r,e,n){!e&&!o0[r]&&(o0[r]=!0,Rn(!1,n))}z.memo(G1);function G1({routes:r,future:e,state:n,onError:s}){return sT(r,void 0,n,s,e)}function lT({to:r,replace:e,state:n,relative:s}){ct(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Cn);Rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(si),{pathname:h}=Er(),m=Kh(),p=yp(r,gp(u),h,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function $1(r){return O1(r.context)}function Ii(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=bo(n));let{pathname:g="/",search:v="",hash:T="",state:A=null,key:U="default"}=n,G=z.useMemo(()=>{let k=pr(g,m);return k==null?null:{location:{pathname:k,search:v,hash:T,state:A,key:U},navigationType:s}},[m,g,v,T,A,U,s]);return Rn(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:z.createElement(Cn.Provider,{value:p},z.createElement(cu.Provider,{children:e,value:G}))}function Y1({children:r,location:e}){return M1(zm(r),e)}function zm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,zm(s.props.children,u));return}ct(s.type===Ii,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=zm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Yh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Q1(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function X1(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function J1(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function W1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Z1(r,e){return r.button===0&&(!e||e==="_self")&&!W1(r)}function Bm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function eR(r,e){let n=Bm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Zc=null;function tR(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(r){return r!=null&&!nR.has(r)?(Rn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function iR(r,e){let n,s,o,u,h;if(X1(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||ch,o=wm(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if(Q1(r)||J1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=wm(r.getAttribute("formenctype"))||wm(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!tR()){let{name:g,type:v,value:T}=r;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rR(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&pr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function sR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await sR(u,n);return h.links?h.links():[]}return[]}));return hR(s.flat(1).filter(aR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function lR(r,e,{includeHydrateFallback:n}={}){return uR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function uR(r){return[...new Set(r)]}function cR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function hR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(cR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function uT(){let r=z.useContext(wo);return Tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fR(){let r=z.useContext($h);return Tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bp=z.createContext(void 0);bp.displayName="FrameworkContext";function cT(){let r=z.useContext(bp);return Tp(r,"You must render this element inside a <HydratedRouter> element"),r}function dR(r,e){let n=z.useContext(bp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let k=te=>{te.forEach(ne=>{h(ne.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),z.useEffect(()=>{if(s){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[s]);let U=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ll(m,U),onBlur:Ll(p,G),onMouseEnter:Ll(g,U),onMouseLeave:Ll(v,G),onTouchStart:Ll(T,U)}]:[!1,A,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function mR({page:r,...e}){let{router:n}=uT(),s=z.useMemo(()=>YE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(gR,{page:r,matches:s,...e}):null}function pR(r){let{manifest:e,routeModules:n}=cT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return oR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function gR({page:r,matches:e,...n}){let s=Er(),{future:o,manifest:u,routeModules:h}=cT(),{basename:m}=uT(),{loaderData:p,matches:g}=fR(),v=z.useMemo(()=>l0(r,e,g,u,s,"data"),[r,e,g,u,s]),T=z.useMemo(()=>l0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,L=!1;if(e.forEach(ne=>{let ie=u.routes[ne.route.id];!ie||!ie.hasLoader||(!v.some(pe=>pe.route.id===ne.route.id)&&ne.route.id in p&&h[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?L=!0:k.add(ne.route.id))}),k.size===0)return[];let te=rR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&k.size>0&&te.searchParams.set("_routes",e.filter(ne=>k.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,e,r,h]),U=z.useMemo(()=>lR(T,u),[T,u]),G=pR(T);return z.createElement(z.Fragment,null,A.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),U.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),G.map(({key:k,link:L})=>z.createElement("link",{key:k,nonce:n.nonce,...L})))}function yR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_R&&(window.__reactRouterVersion="7.12.0")}catch{}function vR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=QA({window:s,v5Compat:!0}));let u=o.current,[h,m]=z.useState({action:u.action,location:u.location}),p=z.useCallback(g=>{n===!1?m(g):z.startTransition(()=>m(g))},[n]);return z.useLayoutEffect(()=>u.listen(p),[u,p]),z.createElement(K1,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fT=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:A,...U},G){let{basename:k,unstable_useTransitions:L}=z.useContext(Cn),te=typeof g=="string"&&hT.test(g),ne=ZE(g,k);g=ne.to;let ie=x1(g,{relative:o}),[pe,Ee,be]=dR(s,U),N=bR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function R(V){e&&e(V),V.defaultPrevented||N(V)}let C=z.createElement("a",{...U,...be,href:ne.absoluteURL||ie,onClick:ne.isExternal||u?e:R,ref:yR(G,Ee),target:p,"data-discover":!te&&n==="render"?"true":void 0});return pe&&!te?z.createElement(z.Fragment,null,C,z.createElement(mR,{page:ie})):C});fT.displayName="Link";var wp=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=hu(h,{relative:g.relative}),A=Er(),U=z.useContext($h),{navigator:G,basename:k}=z.useContext(Cn),L=U!=null&&IR(T)&&m===!0,te=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,ne=A.pathname,ie=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&k&&(ie=pr(ie,k)||ie);const pe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ee=ne===te||!o&&ne.startsWith(te)&&ne.charAt(pe)==="/",be=ie!=null&&(ie===te||!o&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),N={isActive:Ee,isPending:be,isTransitioning:L},R=Ee?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Ee?"active":null,be?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return z.createElement(fT,{...g,"aria-current":R,className:C,ref:v,style:V,to:h,viewTransition:m},typeof p=="function"?p(N):p)});wp.displayName="NavLink";var ER=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:A,...U},G)=>{let{unstable_useTransitions:k}=z.useContext(Cn),L=RR(),te=CR(m,{relative:g}),ne=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&hT.test(m),pe=Ee=>{if(p&&p(Ee),Ee.defaultPrevented)return;Ee.preventDefault();let be=Ee.nativeEvent.submitter,N=be?.getAttribute("formmethod")||h,R=()=>L(be||Ee.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:A});k&&n!==!1?z.startTransition(()=>R()):R()};return z.createElement("form",{ref:G,method:ne,action:te,onSubmit:s?p:pe,...U,"data-discover":!ie&&r==="render"?"true":void 0})});ER.displayName="Form";function TR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(r){let e=z.useContext(wo);return ct(e,TR(r)),e}function bR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Kh(),v=Er(),T=hu(r,{relative:u});return z.useCallback(A=>{if(Z1(A,e)){A.preventDefault();let U=n!==void 0?n:Wl(v)===Wl(T),G=()=>g(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?z.startTransition(()=>G()):G()}},[v,g,T,n,s,e,r,o,u,h,m,p])}function wR(r){Rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(Bm(r)),n=z.useRef(!1),s=Er(),o=z.useMemo(()=>eR(s.search,n.current?null:e.current),[s.search]),u=Kh(),h=z.useCallback((m,p)=>{const g=Bm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var SR=0,AR=()=>`__${String(++SR)}__`;function RR(){let{router:r}=dT("useSubmit"),{basename:e}=z.useContext(Cn),n=q1(),s=r.fetch,o=r.navigate;return z.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:T}=iR(u,e);if(h.navigate===!1){let A=h.fetcherKey||AR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function CR(r,{relative:e}={}){let{basename:n}=z.useContext(Cn),s=z.useContext(si);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(r||".",{relative:e})},h=Er();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),Wl(u)}function IR(r,{relative:e}={}){let n=z.useContext(tT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dT("useViewTransitionState"),o=hu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,h)!=null||bh(o.pathname,u)!=null}const u0=r=>{let e;const n=new Set,s=(g,v)=>{const T=typeof g=="function"?g(e):g;if(!Object.is(T,e)){const A=e;e=v??(typeof T!="object"||T===null)?T:Object.assign({},e,T),n.forEach(U=>U(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(s,o,m);return m},xR=(r=>r?u0(r):u0),NR=r=>r;function DR(r,e=NR){const n=jl.useSyncExternalStore(r.subscribe,jl.useCallback(()=>e(r.getState()),[r,e]),jl.useCallback(()=>e(r.getInitialState()),[r,e]));return jl.useDebugValue(n),n}const c0=r=>{const e=xR(r),n=s=>DR(e,s);return Object.assign(n,e),n},OR=(r=>r?c0(r):c0),mT=OR(r=>({user:null,loading:!0,setUser:e=>r({user:e}),setLoading:e=>r({loading:e})})),MR=()=>{};var h0={};const pT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,U=g&63;p||(U=64,h||(A=64)),s.push(n[v],n[T],n[A],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new UR;const A=u<<2|m>>4;if(s.push(A),g!==64){const U=m<<4&240|g>>2;if(s.push(U),T!==64){const G=g<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(r){const e=pT(r);return gT.encodeByteArray(e,!0)},wh=function(r){return PR(r).replace(/\./g,"")},yT=function(r){try{return gT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LR=()=>kR().__FIREBASE_DEFAULTS__,jR=()=>{if(typeof process>"u"||typeof h0>"u")return;const r=h0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yT(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return MR()||LR()||jR()||zR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_T=r=>Qh()?.emulatorHosts?.[r],vT=r=>{const e=_T(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ET=()=>Qh()?.config,TT=r=>Qh()?.[`_${r}`];class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function la(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sp(r){return(await fetch(r,{credentials:"include"})).ok}function bT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(h)),""].join(".")}const $l={};function qR(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function FR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let f0=!1;function Ap(r,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||$l[r]===e||$l[r]||f0)return;$l[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=qR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{f0=!0,h()},A}function v(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=FR(s),U=n("text"),G=document.getElementById(U)||document.createElement("span"),k=n("learnmore"),L=document.getElementById(k)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),v(L,k);const pe=g();p(ne,te),ie.append(ne,G,L,pe),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function GR(){const r=Qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function WR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const ZR="FirebaseError";class Bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZR,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?eC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Bi(o,m,s)}}function eC(r,e){return r.replace(tC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tC=/\{\$([^}]+)}/g;function nC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(d0(u)&&d0(h)){if(!na(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function d0(r){return r!==null&&typeof r=="object"}function du(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function iC(r,e){const n=new rC(r,e);return n.subscribe.bind(n)}class rC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}function kt(r){return r&&r._delegate?r._delegate:r}class hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class aC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new BR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oC(r){return r===Zs?void 0:r}function lC(r){return r.instantiationMode==="EAGER"}class uC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const cC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},hC=Ve.INFO,fC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},dC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=fC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=hC,this._logHandler=dC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const mC=(r,e)=>e.some(n=>r instanceof n);let m0,p0;function pC(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,qm=new WeakMap,ST=new WeakMap,Am=new WeakMap,Cp=new WeakMap;function yC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(os(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,r)}).catch(()=>{}),Cp.set(e,r),e}function _C(r){if(qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});qm.set(r,e)}let Fm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ST.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vC(r){Fm=r(Fm)}function EC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),os(s)}:gC().includes(r)?function(...e){return r.apply(Rm(this),e),os(wT.get(this))}:function(...e){return os(r.apply(Rm(this),e))}}function TC(r){return typeof r=="function"?EC(r):(r instanceof IDBTransaction&&_C(r),mC(r,pC())?new Proxy(r,Fm):r)}function os(r){if(r instanceof IDBRequest)return yC(r);if(Am.has(r))return Am.get(r);const e=TC(r);return e!==r&&(Am.set(r,e),Cp.set(e,r)),e}const Rm=r=>Cp.get(r);function bC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(os(h.result),p.oldVersion,p.newVersion,os(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wC=["get","getKey","getAll","getAllKeys","count"],SC=["put","add","delete","clear"],Cm=new Map;function g0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=SC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}vC(r=>({...r,get:(e,n,s)=>g0(e,n)||r.get(e,n,s),has:(e,n)=>!!g0(e,n)||r.has(e,n)}));class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RC(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",y0="0.14.6";const gr=new Rp("@firebase/app"),CC="@firebase/app-compat",IC="@firebase/analytics-compat",xC="@firebase/analytics",NC="@firebase/app-check-compat",DC="@firebase/app-check",OC="@firebase/auth",MC="@firebase/auth-compat",VC="@firebase/database",UC="@firebase/data-connect",PC="@firebase/database-compat",kC="@firebase/functions",LC="@firebase/functions-compat",jC="@firebase/installations",zC="@firebase/installations-compat",BC="@firebase/messaging",qC="@firebase/messaging-compat",FC="@firebase/performance",HC="@firebase/performance-compat",GC="@firebase/remote-config",$C="@firebase/remote-config-compat",KC="@firebase/storage",YC="@firebase/storage-compat",QC="@firebase/firestore",XC="@firebase/ai",JC="@firebase/firestore-compat",WC="firebase",ZC="12.6.0";const Gm="[DEFAULT]",e2={[Hm]:"fire-core",[CC]:"fire-core-compat",[xC]:"fire-analytics",[IC]:"fire-analytics-compat",[DC]:"fire-app-check",[NC]:"fire-app-check-compat",[OC]:"fire-auth",[MC]:"fire-auth-compat",[VC]:"fire-rtdb",[UC]:"fire-data-connect",[PC]:"fire-rtdb-compat",[kC]:"fire-fn",[LC]:"fire-fn-compat",[jC]:"fire-iid",[zC]:"fire-iid-compat",[BC]:"fire-fcm",[qC]:"fire-fcm-compat",[FC]:"fire-perf",[HC]:"fire-perf-compat",[GC]:"fire-rc",[$C]:"fire-rc-compat",[KC]:"fire-gcs",[YC]:"fire-gcs-compat",[QC]:"fire-fst",[JC]:"fire-fst-compat",[XC]:"fire-vertex","fire-js":"fire-js",[WC]:"fire-js-all"};const Sh=new Map,t2=new Map,$m=new Map;function _0(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ia(r){const e=r.name;if($m.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const n of Sh.values())_0(n,r);for(const n of t2.values())_0(n,r);return!0}function Xh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r==null?!1:r.settings!==void 0}const n2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new fu("app","Firebase",n2);class i2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const ua=ZC;function AT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Gm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=ET()),!n)throw ls.create("no-options");const u=Sh.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new uC(o);for(const p of $m.values())h.addComponent(p);const m=new i2(n,s,h);return Sh.set(o,m),m}function Ip(r=Gm){const e=Sh.get(r);if(!e&&r===Gm&&ET())return AT();if(!e)throw ls.create("no-app",{appName:r});return e}function Di(r,e,n){let s=e2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}ia(new hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const r2="firebase-heartbeat-database",s2=1,Zl="firebase-heartbeat-store";let Im=null;function RT(){return Im||(Im=bC(r2,s2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Im}async function a2(r){try{const n=(await RT()).transaction(Zl),s=await n.objectStore(Zl).get(CT(r));return await n.done,s}catch(e){if(e instanceof Bi)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function v0(r,e){try{const s=(await RT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,CT(r)),await s.done}catch(n){if(n instanceof Bi)gr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}const o2=1024,l2=30;class u2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>l2){const o=f2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E0(),{heartbeatsToSend:n,unsentEntries:s}=c2(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function E0(){return new Date().toISOString().substring(0,10)}function c2(r,e=o2){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),T0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class h2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?WR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function T0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function f2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function d2(r){ia(new hs("platform-logger",e=>new AC(e),"PRIVATE")),ia(new hs("heartbeat",e=>new u2(e),"PRIVATE")),Di(Hm,y0,r),Di(Hm,y0,"esm2020"),Di("fire-js","")}d2("");function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m2=IT,xT=new fu("auth","Firebase",IT());const Ah=new Rp("@firebase/auth");function p2(r,...e){Ah.logLevel<=Ve.WARN&&Ah.warn(`Auth (${ua}): ${r}`,...e)}function fh(r,...e){Ah.logLevel<=Ve.ERROR&&Ah.error(`Auth (${ua}): ${r}`,...e)}function ii(r,...e){throw xp(r,...e)}function Oi(r,...e){return xp(r,...e)}function NT(r,e,n){const s={...m2(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:r.name})}function dr(r){return NT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xT.create(r,...e)}function _e(r,e,...n){if(!r)throw xp(e,...n)}function cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function yr(r,e){r||cr(e)}function Km(){return typeof self<"u"&&self.location?.href||""}function g2(){return b0()==="http:"||b0()==="https:"}function b0(){return typeof self<"u"&&self.location?.protocol||null}function y2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||KR()||"connection"in navigator)?navigator.onLine:!0}function _2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=HR()||YR()}get(){return y2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Np(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T2=new mu(3e4,6e4);function _s(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vs(r,e,n,s,o={}){return OT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=du({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return $R()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&la(r.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(await MT(r,r.config.apiHost,n,m),g)})}async function OT(r,e,n){r._canInitEmulator=!1;const s={...v2,...e};try{const o=new w2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(r,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NT(r,v,g);ii(r,v)}}catch(o){if(o instanceof Bi)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function pu(r,e,n,s,o={}){const u=await vs(r,e,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function MT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return E2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function b2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),T2.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}function w0(r){return r!==void 0&&r.enterprise!==void 0}class S2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A2(r,e){return vs(r,"GET","/v2/recaptchaConfig",_s(r,e))}async function R2(r,e){return vs(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return vs(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C2(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=Dp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(xm(o.auth_time)),issuedAtTime:Kl(xm(o.iat)),expirationTime:Kl(xm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function Dp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=yT(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function S0(r){const e=Dp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Bi&&I2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function I2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class x2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await eu(r,Rh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?VT(o.providerUserInfo):[],h=D2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function N2(r){const e=kt(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function VT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function O2(r,e){const n=await OT(r,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await MT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&la(r.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M2(r,e){return vs(r,"POST","/v2/accounts:revokeToken",_s(r,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=S0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await O2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new uo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return cr("not implemented")}}function es(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C2(this,e)}reload(){return N2(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await eu(this,R2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:U,providerData:G,stsTokenManager:k}=n;_e(T&&k,e,"internal-error");const L=uo.fromJSON(this.name,k);_e(typeof T=="string",e,"internal-error"),es(s,e.name),es(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof U=="boolean",e,"internal-error"),es(u,e.name),es(h,e.name),es(m,e.name),es(p,e.name),es(g,e.name),es(v,e.name);const te=new ei({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:U,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:v});return G&&Array.isArray(G)&&(te.providerData=G.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new uo;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const A0=new Map;function hr(r){yr(r instanceof Function,"Expected a class definition");let e=A0.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A0.set(r,e),e)}class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const R0=UT;function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(hr(R0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(R0);const h=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const A=await Rh(e,{idToken:v}).catch(()=>{});if(!A)break;T=await ei._fromGetAccountInfoResponse(e,A,v)}else T=ei._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new co(u,e,s))}}function C0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(qT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function PT(r=tn()){return/firefox\//i.test(r)}function kT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(r=tn()){return/crios\//i.test(r)}function jT(r=tn()){return/iemobile/i.test(r)}function zT(r=tn()){return/android/i.test(r)}function BT(r=tn()){return/blackberry/i.test(r)}function qT(r=tn()){return/webos/i.test(r)}function Op(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function V2(r=tn()){return Op(r)&&!!window.navigator?.standalone}function U2(){return QR()&&document.documentMode===10}function FT(r=tn()){return Op(r)||zT(r)||qT(r)||BT(r)||/windows phone/i.test(r)||jT(r)}function HT(r,e=[]){let n;switch(r){case"Browser":n=C0(tn());break;case"Worker":n=`${C0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}class P2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function k2(r,e={}){return vs(r,"GET","/v2/passwordPolicy",_s(r,e))}const L2=6;class j2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??L2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class z2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new P2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(dr(this));const n=e?kt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k2(this),n=new j2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await M2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&p2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(r){return kt(r)}class I0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iC(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B2(r){Jh=r}function GT(r){return Jh.loadJS(r)}function q2(){return Jh.recaptchaEnterpriseScript}function F2(){return Jh.gapiScript}function H2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class G2{constructor(){this.enterprise=new $2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K2="recaptcha-enterprise",$T="NO_RECAPTCHA";class Y2{constructor(e){this.type=K2,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{A2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new S2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;w0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h($T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new G2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&w0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=q2();p.length!==0&&(p+=m),GT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function x0(r,e,n,s=!1,o=!1){const u=new Y2(r);let h;if(o)h=$T;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Qm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await x0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await x0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function Q2(r,e){const n=Xh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function X2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function J2(r,e,n){const s=ca(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=KT(e),{host:h,port:m}=W2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(na(g,s.config.emulator)&&na(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,la(h)?(Sp(`${u}//${h}${p}`),Ap("Auth",!0)):Z2()}function KT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function W2(r){const e=KT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:N0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:N0(h)}}}function N0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Z2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function eI(r,e){return vs(r,"POST","/v1/accounts:signUp",e)}async function tI(r,e){return pu(r,"POST","/v1/accounts:signInWithPassword",_s(r,e))}async function nI(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",_s(r,e))}async function iI(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",_s(r,e))}class tu extends Mp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",tI);case"emailLink":return nI(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,s,"signUpPassword",eI);case"emailLink":return iI(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(r,e){return pu(r,"POST","/v1/accounts:signInWithIdp",_s(r,e))}const rI="http://localhost";class ra extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ra(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:rI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function sI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aI(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class Vp{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=sI(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aI(e);try{return new Vp(n)}catch{return null}}}class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vp.parseLink(n);return _e(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class YT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends gu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ur extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class ns extends gu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends gu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";async function oI(r,e){return pu(r,"POST","/v1/accounts:signUp",_s(r,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),h=D0(s);return new sa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=D0(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function D0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends Bi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function QT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function lI(r,e,n=!1){const s=await eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function uI(r,e,n=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await eu(r,QT(s,o,e,r),n);_e(u.idToken,s,"internal-error");const h=Dp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}async function XT(r,e,n=!1){if(Sn(r.app))return Promise.reject(dr(r));const s="signIn",o=await QT(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function cI(r,e){return XT(ca(r),e)}async function JT(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WT(r,e,n){if(Sn(r.app))return Promise.reject(dr(r));const s=ca(r),h=await Qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&JT(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function hI(r,e,n){return Sn(r.app)?Promise.reject(dr(r)):cI(kt(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&JT(r),s})}function fI(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function dI(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function mI(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}async function ZT(r){return kt(r).delete()}const xh="__sak";class eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pI=1e3,gI=10;class tb extends eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);U2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tb.type="LOCAL";const yI=tb;class nb extends eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nb.type="SESSION";const ib=nb;function _I(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await _I(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Up(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class vI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Mi(){return window}function EI(r){Mi().location.href=r}function rb(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function TI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bI(){return navigator?.serviceWorker?.controller||null}function wI(){return rb()?self:null}const sb="firebaseLocalStorageDb",SI=1,Nh="firebaseLocalStorage",ab="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function AI(){const r=indexedDB.deleteDatabase(sb);return new yu(r).toPromise()}function Xm(){const r=indexedDB.open(sb,SI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:ab})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await AI(),e(await Xm()))})})}async function O0(r,e,n){const s=Zh(r,!0).put({[ab]:e,value:n});return new yu(s).toPromise()}async function RI(r,e){const n=Zh(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function M0(r,e){const n=Zh(r,!0).delete(e);return new yu(n).toPromise()}const CI=800,II=3;class ob{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>II)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TI(),!this.activeServiceWorker)return;this.sender=new vI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await O0(e,xh,"1"),await M0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>O0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ob.type="LOCAL";const xI=ob;new mu(3e4,6e4);function NI(r,e){return e?hr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DI(r){return XT(r.auth,new Pp(r),r.bypassAuthState)}function OI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),uI(n,new Pp(r),r.bypassAuthState)}async function MI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),lI(n,new Pp(r),r.bypassAuthState)}class lb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DI;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return OI;default:ii(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VI=new mu(2e3,1e4);class lo extends lb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VI.get())};e()}}lo.currentPopupAction=null;const UI="pendingRedirect",mh=new Map;class PI extends lb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await kI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kI(r,e){const n=zI(e),s=jI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function LI(r,e){mh.set(r._key(),e)}function jI(r){return hr(r._redirectPersistence)}function zI(r){return dh(UI,r.config.apiKey,r.name)}async function BI(r,e,n=!1){if(Sn(r.app))return Promise.reject(dr(r));const s=ca(r),o=NI(s,e),h=await new PI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const qI=600*1e3;class FI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qI&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ub({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function HI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ub(r);default:return!1}}async function GI(r,e={}){return vs(r,"GET","/v1/projects",e)}const $I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KI=/^https?/;async function YI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await GI(r);for(const n of e)try{if(QI(n))return}catch{}ii(r,"unauthorized-domain")}function QI(r){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!KI.test(n))return!1;if($I.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const XI=new mu(3e4,6e4);function U0(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function JI(r){return new Promise((e,n)=>{function s(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Oi(r,"network-request-failed"))},timeout:XI.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=H2("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},GT(`${F2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function WI(r){return ph=ph||JI(r),ph}const ZI=new mu(5e3,15e3),ex="__/auth/iframe",tx="emulator/auth/iframe",nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rx(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Np(e,tx):`https://${r.config.authDomain}/${ex}`,s={apiKey:e.apiKey,appName:r.name,v:ua},o=ix.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function sx(r){const e=await WI(r),n=Mi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:rx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Oi(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(h)},ZI.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ox=500,lx=600,ux="_blank",cx="http://localhost";class P0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hx(r,e,n,s=ox,o=lx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...ax,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=LT(g)?ux:n),PT(g)&&(e=e||cx,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[U,G])=>`${A}${U}=${G},`,"");if(V2(g)&&m!=="_self")return fx(e||"",m),new P0(null);const T=window.open(e||"",m,v);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new P0(T)}function fx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const dx="__/auth/handler",mx="emulator/auth/handler",px=encodeURIComponent("fac");async function k0(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof YT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",nC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof gu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${px}=${encodeURIComponent(p)}`:"";return`${gx(r)}?${du(m).slice(1)}${g}`}function gx({config:r}){return r.emulator?Np(r,mx):`https://${r.authDomain}/${dx}`}const Nm="webStorageSupport";class yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ib,this._completeRedirectFn=BI,this._overrideRedirectResult=LI}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await k0(e,n,s,Km(),o);return hx(e,u,Up())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await k0(e,n,s,Km(),o);return EI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await sx(e),s=new FI(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||kT()||Op()}}const _x=yx;var L0="@firebase/auth",j0="1.12.0";class vx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ex(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tx(r){ia(new hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(r)},g=new z2(s,o,u,p);return X2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ia(new hs("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new vx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(L0,j0,Ex(r)),Di(L0,j0,"esm2020")}const bx=300,wx=TT("authIdTokenMaxAge")||bx;let z0=null;const Sx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wx)return;const o=n?.token;z0!==o&&(z0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kp(r=Ip()){const e=Xh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Q2(r,{popupRedirectResolver:_x,persistence:[xI,yI,ib]}),s=TT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Sx(u.toString());dI(n,h,()=>h(n.currentUser)),fI(n,m=>h(m))}}const o=_T("auth");return o&&J2(n,`http://${o}`),n}function Ax(){return document.getElementsByTagName("head")?.[0]??document}B2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ax().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tx("Browser");var Rx="firebase",Cx="12.7.0";Di(Rx,Cx,"app");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var us,cb;(function(){var r;function e(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,O,j){for(var I=Array(arguments.length-2),at=2;at<arguments.length;at++)I[at-2]=arguments[at];return R.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],O=N.g[2];let j=N.g[3],I;I=R+(j^C&(O^j))+V[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[1]+3905402710&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[2]+606105819&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(j^C&(O^j))+V[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[5]+1200080426&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[6]+2821735955&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(j^C&(O^j))+V[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[9]+2336552879&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[10]+4294925233&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(j^C&(O^j))+V[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[13]+4254626195&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[14]+2792965006&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(O^j&(C^O))+V[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[6]+3225465664&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[11]+643717713&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(C^O))+V[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[10]+38016083&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[15]+3634488961&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(C^O))+V[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[14]+3275163606&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[3]+4107603335&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(C^O))+V[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[2]+4243563512&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[7]+1735328473&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(C^O^j)+V[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[8]+2272392833&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[11]+1839030562&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^j)+V[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[4]+1272893353&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[7]+4139469664&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^j)+V[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[0]+3936430074&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[3]+3572445317&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^j)+V[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[12]+3873151461&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[15]+530742520&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(O^(C|~j))+V[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[7]+1126891415&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[14]+2878612391&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~j))+V[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[3]+2399980690&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[10]+4293915773&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~j))+V[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[15]+4264355552&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[6]+2734768916&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~j))+V[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[11]+3174756917&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[2]+718787259&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(V[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<R;)if(V[O++]=N[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[R++]=this.g[C]>>>V&255;return N};function u(N,R){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function h(N,R){this.h=R;const C=[];let V=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;V&&j==R||(C[O]=j,V=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new h([R|0],R<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return L(g(-N));const R=[];let C=1;for(let V=0;N>=C;V++)R[V]=N/C|0,C*=4294967296;return new h(R,0)}function v(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return L(v(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let V=T;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const I=parseInt(N.substring(j,j+O),R);O<8?(O=g(Math.pow(R,O)),V=V.j(O).add(g(I))):(V=V.j(C),V=V.add(g(I)))}return V}var T=p(0),A=p(1),U=p(16777216);r=h.prototype,r.m=function(){if(k(this))return-L(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(k(this))return"-"+L(this).toString(N);const R=g(Math.pow(N,6));var C=this;let V="";for(;;){const O=pe(C,R).g;C=te(C,O.j(R));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,G(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function k(N){return N.h==-1}r.l=function(N){return N=te(this,N),k(N)?-1:G(N)?0:1};function L(N){const R=N.g.length,C=[];for(let V=0;V<R;V++)C[V]=~N.g[V];return new h(C,~N.h).add(A)}r.abs=function(){return k(this)?L(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let O=0;O<=R;O++){let j=V+(this.i(O)&65535)+(N.i(O)&65535),I=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=I>>>16,j&=65535,I&=65535,C[O]=I<<16|j}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(N,R){return N.add(L(R))}r.j=function(N){if(G(this)||G(N))return T;if(k(this))return k(N)?L(this).j(L(N)):L(L(this).j(N));if(k(N))return L(this.j(L(N)));if(this.l(U)<0&&N.l(U)<0)return g(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const j=this.i(V)>>>16,I=this.i(V)&65535,at=N.i(O)>>>16,Ot=N.i(O)&65535;C[2*V+2*O]+=I*Ot,ne(C,2*V+2*O),C[2*V+2*O+1]+=j*Ot,ne(C,2*V+2*O+1),C[2*V+2*O+1]+=I*at,ne(C,2*V+2*O+1),C[2*V+2*O+2]+=j*at,ne(C,2*V+2*O+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new h(C,0)};function ne(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ie(N,R){this.g=N,this.h=R}function pe(N,R){if(G(R))throw Error("division by zero");if(G(N))return new ie(T,T);if(k(N))return R=pe(L(N),R),new ie(L(R.g),L(R.h));if(k(R))return R=pe(N,L(R)),new ie(L(R.g),R.h);if(N.g.length>30){if(k(N)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,V=R;V.l(N)<=0;)C=Ee(C),V=Ee(V);var O=be(C,1),j=be(V,1);for(V=be(V,2),C=be(C,2);!G(V);){var I=j.add(V);I.l(N)<=0&&(O=O.add(C),j=I),V=be(V,1),C=be(C,1)}return R=te(N,O.j(R)),new ie(O,R)}for(O=T;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=g(C),I=j.j(R);k(I)||I.l(N)>0;)C-=V,j=g(C),I=j.j(R);G(j)&&(j=A),O=O.add(j),N=te(N,I)}return new ie(O,N)}r.B=function(N){return pe(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)&N.i(V);return new h(C,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)|N.i(V);return new h(C,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)^N.i(V);return new h(C,this.h^N.h)};function Ee(N){const R=N.g.length+1,C=[];for(let V=0;V<R;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new h(C,N.h)}function be(N,R){const C=R>>5;R%=32;const V=N.g.length-C,O=[];for(let j=0;j<V;j++)O[j]=R>0?N.i(j+C)>>>R|N.i(j+C+1)<<32-R:N.i(j+C);return new h(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,us=h}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hb,ql,fb,gh,Jm,db,mb,pb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in E))break e;E=E[B]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,B,$){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[B].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const y=c.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function G(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const $=B.length||0;c.length=E+$;for(let re=0;re<$;re++)c[E+re]=B[re]}else c.push(B)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function te(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const S=ie.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new k(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,be=!1,N=new ne,R=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(E){L(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(at,O),at.prototype.init=function(c,y){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,E,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=B,this.key=++Q,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function $e(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function M(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)c[E]=S[E];for(let $=0;$<Z.length;$++)E=Z[$],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,S,B){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const re=Ie(c,y,S,B);return re>-1?(y=c[re],E||(y.fa=!1)):(y=new se(y,this.src,$,!!S,B),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var S=c.g[E],B=Array.prototype.indexOf.call(S,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(S,B,1),$&&(ge(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ie(c,y,E,S){for(let B=0;B<c.length;++B){const $=c[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==S)return B}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,y,E,S,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ot(c,y[$],E,S,B);return null}return E=Vo(E),c&&c[Ot]?c.J(y,E,m(S)?!!S.capture:!1,B):bs(c,y,E,!1,S,B)}function bs(c,y,E,S,B,$){if(!y)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let Re=ws(c);if(Re||(c[Le]=Re=new ue(c)),E=Re.add(y,E,S,re,$),E.proxy)return E;if(S=ma(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)j||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(ai(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ma(){function c(E){return y.call(c.src,c.listener,E)}const y=Oo;return c}function pa(c,y,E,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)pa(c,y[$],E,S,B);else S=m(S)?!!S.capture:!!S,E=Vo(E),c&&c[Ot]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],E=Ie(y,E,S,B),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,E,S,B)),(E=c>-1?y[c]:null)&&ga(E))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])Te(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(ai(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=ws(y))?(Te(E,c),E.h==0&&(E.src=null,y[Le]=null)):ge(c)}}}function ai(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Oo(c,y){if(c.da)c=!0;else{y=new at(y,this);const E=c.listener,S=c.ha||c.src;c.fa&&ga(c),c=E.call(S,y)}return c}function ws(c){return c=c[Le],c instanceof ue?c:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function Et(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}T(Et,V),Et.prototype[Ot]=!0,Et.prototype.removeEventListener=function(c,y,E,S){pa(this,c,y,E,S)};function Vt(c,y){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(S,c),ae(y,B)}B=!0;let $,re;if(E)for(re=E.length-1;re>=0;re--)$=y.g=E[re],B=Tr($,S,!0,y)&&B;if($=y.g=c,B=Tr($,S,!0,y)&&B,B=Tr($,S,!1,y)&&B,E)for(re=0;re<E.length;re++)$=y.g=E[re],B=Tr($,S,!1,y)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let S=0;S<E.length;S++)ge(E[S]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},Et.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function Tr(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const re=y[$];if(re&&!re.da&&re.capture==E){const Re=re.listener,pt=re.ha||re.src;re.fa&&Te(c.i,re),B=Re.call(pt,S)!==!1&&B}}return B&&!S.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Su(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){V.call(this),this.h=c,this.g={}}T(Ss,V);var Uo=[];function Po(c){ze(c.g,function(y,E){this.g.hasOwnProperty(E)&&ga(y)},c),c.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),Po(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,_f=h.JSON.parse,Au=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}T(qt,O);function In(){O.call(this,"c")}T(In,O);var mt={},Iu=null;function ya(){return Iu=Iu||new Et}mt.Ia="serverreachability";function xu(c){O.call(this,mt.Ia,c)}T(xu,O);function oi(c){const y=ya();Vt(y,new xu(y))}mt.STAT_EVENT="statevent";function As(c,y){O.call(this,mt.STAT_EVENT,c),this.stat=y}T(As,O);function Tt(c){const y=ya();Vt(y,new As(y,c))}mt.Ja="timingevent";function li(c,y){O.call(this,mt.Ja,c),this.size=y}T(li,O);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function vf(c,y,E,S,B,$){c.info(function(){if(c.g)if($){var re="",Re=$.split("&");for(let Fe=0;Fe<Re.length;Fe++){var pt=Re[Fe].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const On=lt.split("_");re=On.length>=2&&On[1]=="type"?re+(lt+"="+pt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+E+`
`+re})}function Nu(c,y,E,S,B,$,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+re})}function ci(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,E)+(S?" "+S:"")})}function Rs(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var E=$[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return br($)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Is(){}T(Is,Ru),Is.prototype.g=function(){return new XMLHttpRequest},Lo=new Is;function Hi(c){return encodeURIComponent(String(c))}function Du(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Hn(c,y,E,S){this.j=c,this.i=y,this.l=E,this.S=S||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function hi(c,y,E){c.M=1,c.A=xs(St(y)),c.u=E,c.R=!0,_a(c,null)}function _a(c,y){c.F=Date.now(),fi(c),c.B=St(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ba(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Gn,c.g=$u(c.j,E?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Uo[0]=B.toString()),B=Uo);for(let $=0;$<B.length;$++){const re=ot(E,B[$],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Yn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Re!=4||pt==7||(pt==8||Fe<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var E=Tf(this);if(this.o=y==200,Nu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var $=S;break t}}$=null}if(c=$)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),xn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Mu(this,E),lt==Lt){Re==4&&(this.m=4,Tt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==bt){this.m=4,Tt(15),ci(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,lt,null),mi(this,lt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),xn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zo(re),re.P=!0,Tt(11))}}else ci(this.i,this.l,E,null),mi(this,E);Re==4&&pn(this),this.o&&!this.K&&(Re==4?qu(this.j,this):(this.o=!1,fi(this)))}else $i(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),xn(this)}}}catch{}};function Tf(c){if(!Ou(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let E="";const S=y.length,B=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),xn(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<S;$++)c.h.h=!0,E+=c.h.i.decode(y[$],{stream:!(B&&$==S-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?Lt:(E=Number(y.substring(E,S)),isNaN(E)?bt:(S+=1,S+E>y.length?Lt:(y=y.slice(S,S+E),c.C=S+E,y)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function fi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),y)}function di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(oi(),Tt(17)),pn(this),this.m=2,xn(this)):va(this,this.T-c)};function xn(c){c.j.I==0||c.K||qu(c.j,c)}function pn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Po(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||gi(E.h,c))){if(!c.L&&gi(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ca(E),Nr(E);else break e;Ps(E),Tt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ui(g(E.Va,E),6e3));pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else bi(E,11)}else if((c.L||E.g==c)&&Ca(E),!I(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Fe=B[y];const lt=Fe[0];if(!(lt<=E.K))if(E.K=lt,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const On=Fe[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const wi=Fe[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Qn=Fe[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(S=1.5*Qn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Xn=c.g;if(Xn){const ks=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var $=S.h;$.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Bo($,$.h),$.h=null))}if(S.G){const Ia=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,Ke(S.J,S.G,Ia))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var re=c;if(S.na=Gu(S,S.L?S.ba:null,S.W),re.L){qo(S.h,re);var Re=re,pt=S.O;pt&&(Re.H=pt),Re.D&&(di(Re),fi(Re)),S.g=re}else zu(S);E.i.length>0&&Ti(E)}else Fe[0]!="stop"&&Fe[0]!="close"||bi(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?bi(E,7):Jo(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}oi(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Bo(c,y){c.g?c.g.add(y):c.h=y}function qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return U(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let B,$=null;S>=0?(B=c[E].substring(0,S),$=c[E].substring(S+1)):B=c[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,Ho(this,Lu(c.i)),this.m=c.m):c&&(y=String(c).match(Vu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),wr(this,y[4]),this.h=yi(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,Ta,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,Ta,!0),"@"),c.push(Hi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ns(E,E.charAt(0)=="/"?Go:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ns(E,Pu)),c.join("")},gn.prototype.resolve=function(c){const y=St(this);let E=!!c.j;E?jt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var S=c.h;if(E)wr(y,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let re=0;re<B.length;){const Re=B[re++];Re=="."?S&&re==B.length&&$.push(""):Re==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&re==B.length&&$.push("")):($.push(Re),S=!0)}S=$.join("/")}else S=B}return E?y.h=S:E=c.i.toString()!=="",E?Ho(y,Lu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function St(c){return new gn(c)}function jt(c,y,E){c.j=E?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,E){y instanceof Ar?(c.i=y,wa(c.i,c.l)):(E||(y=Ns(y,Sr)),c.i=new Ar(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function xs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Uu=/[#\?:]/g,Go=/[#\?]/g,Sr=/[#\?@]/g,Pu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Ar.prototype,r.add=function(c,y){on(this),this.i=null,c=Rr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ku(c,y){on(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $o(c,y){return on(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(E,S){E.forEach(function(B){c.call(y,B,S,this)},this)},this)};function Ko(c,y){on(c);let E=[];if(typeof y=="string")$o(c,y)&&(E=E.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return on(this),this.i=null,c=Rr(this,c),$o(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ko(this,c),c.length>0?String(c[0]):y):y};function ba(c,y,E){ku(c,y),E.length>0&&(c.i=null,c.g.set(Rr(c,y),U(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const B=Hi(E);E=Ko(this,E);for(let $=0;$<E.length;$++){let re=B;E[$]!==""&&(re+="="+Hi(E[$])),c.push(re)}}return this.i=c.join("&")};function Lu(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wa(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,S){const B=S.toLowerCase();S!=B&&(ku(this,S),ba(this,B,E))},c)),c.j=y}function $n(c,y){const E=new Fn;if(h.Image){const S=new Image;S.onload=v(Nn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=v(Nn,E,"TestLoadImage: error",!1,y,S),S.onabort=v(Nn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(Nn,E,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Yo(c,y){const E=new Fn,S=new AbortController,B=setTimeout(()=>{S.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Nn(E,"TestPingServer: error",!1,y)})}function Nn(c,y,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Cr(){this.g=new Au}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}T(_i,Ru),_i.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ds,Et),r=Ds.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Kn(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return ze(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Os(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Dn(E),typeof c=="string"?E!=null&&Hi(E):Ke(c,y,E))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,Et);var vi=/^https?$/i,Qo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Ms(this,$);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())E.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of E)this.g.setRequestHeader($,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Ms(this,$)}};function Ms(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Xo(c),Gi(c)}function Xo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},r.Xa=function(){Vs(this)};function Vs(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=$===0){let re=String(c.D).match(Vu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!vi.test(re?re.toLowerCase():"")}E=S}if(E)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var B=Yn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Xo(c)}}finally{Gi(c)}}}}function Gi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Vt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var E=Du(c[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}$e(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function xr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,S){Tt(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Gu(this,null,this.W),Ti(this)};function Jo(c){if(Aa(c),c.I==3){var y=c.V++,E=St(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Us(c,E),y=new Hn(c,c.j,y),y.M=2,y.A=xs(St(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}Hu(c)}function Nr(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Aa(c){Nr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ti(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ee||R(),be||(Ee(),be=!0),N.add(y,c),c.D=0}}function Ra(c,y){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Hn(this,this.j,c);let $=this.o;if(this.U&&($?($=M($),ae($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ju(this,B,y),E=St(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Us(this,E),$&&(this.R?y="headers="+Hi(Dn($))+"&"+y:this.u&&Os(E,this.u,$)),Bo(this.h,B),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),B.U=!0,hi(B,E,null)):hi(B,E,y),this.I=2}}else this.I==3&&(c?Wo(this,c):this.i.length==0||zo(this.h)||Wo(this))};function Wo(c,y){var E;y?E=y.l:E=c.V++;const S=St(c.J);Ke(S,"SID",c.M),Ke(S,"RID",E),Ke(S,"AID",c.K),Us(c,S),c.u&&c.o&&Os(S,c.u,c.o),E=new Hn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ju(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,E),hi(E,S,y)}function Us(c,y){c.H&&ze(c.H,function(E,S){Ke(y,S,E)}),c.l&&ze({},function(E,S){Ke(y,S,E)})}function ju(c,y,E){E=Math.min(c.i.length,E);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const pt=["count="+E];Re==-1?E>0?(Re=B[0].g,pt.push("ofs="+Re)):Re=0:pt.push("ofs="+Re);let Fe=!0;for(let lt=0;lt<E;lt++){var $=B[lt].g;const On=B[lt].map;if($-=Re,$<0)Re=Math.max(0,B[lt].g-100),Fe=!1;else try{$="req"+$+"_"||"";try{var re=On instanceof Map?On:Object.entries(On);for(const[wi,Qn]of re){let Xn=Qn;m(Qn)&&(Xn=br(Qn)),pt.push($+wi+"="+encodeURIComponent(Xn))}}catch(wi){throw pt.push($+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(On)}}if(Fe){re=pt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),y.G=c,re}function zu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ee||R(),be||(Ee(),be=!0),N.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Nr(this),Bu(this))};function Zo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Us(c,y),c.u&&c.o&&Os(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=xs(St(y)),E.u=null,E.R=!0,_a(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),Ps(this),Tt(19))};function Ca(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function qu(c,y){var E=null;if(c.g==y){Ca(c),Zo(c),c.g=null;var S=2}else if(gi(c.h,y))E=y.G,qo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=ya(),Vt(S,new li(S,E)),Ti(c)}else zu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Ra(c,y)||S==2&&Ps(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Fu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),S=c.Ua;const B=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(S,"https"),xs(S),B?$n(S.toString(),E):Yo(S.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Hu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Gu(c,y,E){var S=E instanceof gn?St(E):new gn(E);if(S.g!="")y&&(S.g=y+"."+S.g),wr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new gn(null);S&&jt($,S),y&&($.g=y),B&&wr($,B),E&&($.h=E),S=$}return E=c.G,y=c.wa,E&&y&&Ke(S,E,y),Ke(S,"VER",c.ka),Us(c,S),S}function $u(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new _i({ab:E})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Et.call(this),this.g=new xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ki(this)}T(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Jo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=br(c),c=E);y.i.push(new wt(y.Ya++,c)),y.I==3&&Ti(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,rn.Z.N.call(this)};function Yu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Yu,qt);function Qu(){In.call(this),this.status=1}T(Qu,In);function Ki(c){this.g=c}T(Ki,Ku),Ki.prototype.ra=function(){Vt(this.g,"a")},Ki.prototype.qa=function(c){Vt(this.g,new Yu(c))},Ki.prototype.pa=function(c){Vt(this.g,new Qu)},Ki.prototype.oa=function(){Vt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,pb=function(){return new Dr},mb=function(){return ya()},db=mt,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,gh=Cs,ko.COMPLETE="complete",fb=ko,Cu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ql=Cu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,hb=Xe}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore",F0="4.9.3";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Ro="12.7.0";const aa=new Rp("@firebase/firestore");function ro(){return aa.logLevel}function le(r,...e){if(aa.logLevel<=Ve.DEBUG){const n=e.map(Lp);aa.debug(`Firestore (${Ro}): ${r}`,...n)}}function _r(r,...e){if(aa.logLevel<=Ve.ERROR){const n=e.map(Lp);aa.error(`Firestore (${Ro}): ${r}`,...n)}}function go(r,...e){if(aa.logLevel<=Ve.WARN){const n=e.map(Lp);aa.warn(`Firestore (${Ro}): ${r}`,...n)}}function Lp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gb(r,s,n)}function gb(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||gb(e,o,s)}function Ae(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class xx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Nx{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new yb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class Dx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Dx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Vx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Wm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Dm(o)===Dm(u)?Ue(o,u):Dm(o)?1:-1}return Ue(r.length,e.length)}const Ux=55296,Px=57343;function Dm(r){const e=r.charCodeAt(0);return e>=Ux&&e<=Px}function yo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const G0="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),o=xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class nt extends xi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends xi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return kx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G0}static keyField(){return new Qt([G0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function _b(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lx(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $0(r){if(!me.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function K0(r){if(me.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _u(r,e){if(!vb(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const Y0=-62135596800,Q0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Q0);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Y0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nu=-1;function jx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new fs(o,me.empty(),e)}function zx(r){return new fs(r.readTime,r.key,nu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(we.min(),me.empty(),nu)}static max(){return new fs(we.max(),me.empty(),nu)}}function Bx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==qx)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Hx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;const zp=-1;function nf(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function Gx(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Eb="";function $x(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=X0(e)),e=Kx(r.get(n),e);return X0(e)}function Kx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Eb:n+="";break;default:n+=u}}return n}function X0(r){return r+Eb+""}function J0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Tb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Pt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=Yx.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const wb="server_timestamp",Sb="__type__",Ab="__previous_value__",Rb="__local_write_time__";function Bp(r){return(r?.mapValue?.fields||{})[Sb]?.stringValue===wb}function rf(r){const e=r.mapValue.fields[Ab];return Bp(e)?rf(e):e}function iu(r){const e=ds(r.mapValue.fields[Rb].timestampValue);return new st(e.seconds,e.nanos)}class Qx{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Oh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}const Cb="__type__",Xx="__max__",ih={mapValue:{}},Ib="__vector__",Mh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bp(r)?4:Wx(r)?9007199254740991:Jx(r)?10:11:ve(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return iu(r).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J0(h)!==J0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ji(h[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function su(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function _o(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Z0(r.timestampValue,e.timestampValue);case 4:return Z0(iu(r),iu(e));case 5:return Wm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ms(u),p=ms(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ue(m[g],p[g]);if(v!==0)return v}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(_t(u.latitude),_t(h.latitude));return m!==0?m:Ue(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return eE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Mh]?.arrayValue,v=p[Mh]?.arrayValue,T=Ue(g?.values?.length||0,v?.values?.length||0);return T!==0?T:eE(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ih.mapValue&&h===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const A=Wm(p[T],v[T]);if(A!==0)return A;const U=_o(m[p[T]],g[v[T]]);if(U!==0)return U}return Ue(p.length,v.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Z0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ds(r),s=ds(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function eE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=_o(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function vo(r){return Zm(r)}function Zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Zm(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function yh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function tE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ep(r){return!!r&&"integerValue"in r}function qp(r){return!!r&&"arrayValue"in r}function nE(r){return!!r&&"nullValue"in r}function iE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function Jx(r){return(r?.mapValue?.fields||{})[Cb]?.stringValue===Ib}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function Wx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xx}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Yl(this.value))}}function xb(r){const e=[];return Es(r.fields,((n,s)=>{const o=new Qt([n]);if(_h(s)){const u=xb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new An(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function rE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=_o(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Nb{}class Nt extends Nb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tN(e,n,s):n==="array-contains"?new rN(e,s):n==="in"?new sN(e,s):n==="not-in"?new aN(e,s):n==="array-contains-any"?new oN(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nN(e,s):new iN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Nb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return Db(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Db(r){return r.op==="and"}function Ob(r){return eN(r)&&Db(r)}function eN(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function tp(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(Ob(r))return r.filters.map((e=>tp(e))).join(",");{const e=r.filters.map((n=>tp(n))).join(",");return`${r.op}(${e})`}}function Mb(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Mb(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function Vb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(Vb).join(" ,")+"}"})(r):"Filter"}class tN extends Nt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class nN extends Nt{constructor(e,n){super(e,"in",n),this.keys=Ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ub(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class rN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&su(n.arrayValue,this.value)}}class sN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class aN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class oN extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>su(this.value.arrayValue,s)))}}class lN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function aE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new lN(r,e,n,s,o,u,h)}function Fp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>tp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=n}return e.Te}function Hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Zx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Mb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sE(r.startAt,e.startAt)&&sE(r.endAt,e.endAt)}function np(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class xo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uN(r,e,n,s,o,u,h,m){return new xo(r,e,n,s,o,u,h,m)}function Gp(r){return new xo(r)}function oE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Pb(r){return r.collectionGroup!==null}function Ql(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Qt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new au(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new au(Qt.keyField(),s))}return e.Ie}function Vi(r){const e=Ae(r);return e.Ee||(e.Ee=cN(e,Ql(r))),e.Ee}function cN(r,e){if(r.limitType==="F")return aE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new au(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return aE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ip(r,e){const n=r.filters.concat([e]);return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rp(r,e,n){return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function sf(r,e){return Hp(Vi(r),Vi(e))&&r.limitType===e.limitType}function kb(r){return`${Fp(Vi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Vb(o))).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function af(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=rE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(h,m,p){const g=rE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Ql(s),o))})(r,e)}function hN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Lb(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=fN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fN(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_o(p,g):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Tb(this.inner)}size(){return this.innerSize}}const dN=new ht(me.comparator);function vr(){return dN}const jb=new ht(me.comparator);function Fl(...r){let e=jb;for(const n of r)e=e.insert(n.key,n);return e}function zb(r){let e=jb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return Xl()}function Bb(){return Xl()}function Xl(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mN=new ht(me.comparator),pN=new Pt(me.comparator);function Pe(...r){let e=pN;for(const n of r)e=e.add(n);return e}const gN=new Pt(Ue);function yN(){return gN}function $p(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function qb(r){return{integerValue:""+r}}function _N(r,e){return Gx(e)?qb(e):$p(r,e)}class of{constructor(){this._=void 0}}function vN(r,e,n){return r instanceof Uh?(function(o,u){const h={fields:{[Sb]:{stringValue:wb},[Rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=rf(u)),u&&(h.fields[Ab]=u),{mapValue:h}})(n,e):r instanceof ou?Hb(r,e):r instanceof lu?Gb(r,e):(function(o,u){const h=Fb(o,u),m=lE(h)+lE(o.Ae);return ep(h)&&ep(o.Ae)?qb(m):$p(o.serializer,m)})(r,e)}function EN(r,e,n){return r instanceof ou?Hb(r,e):r instanceof lu?Gb(r,e):n}function Fb(r,e){return r instanceof Ph?(function(s){return ep(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Uh extends of{}class ou extends of{constructor(e){super(),this.elements=e}}function Hb(r,e){const n=$b(e);for(const s of r.elements)n.some((o=>ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends of{constructor(e){super(),this.elements=e}}function Gb(r,e){let n=$b(e);for(const s of r.elements)n=n.filter((o=>!ji(o,s)));return{arrayValue:{values:n}}}class Ph extends of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lE(r){return _t(r.integerValue||r.doubleValue)}function $b(r){return qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?yo(s.elements,o.elements,ji):s instanceof Ph&&o instanceof Ph?ji(s.Ae,o.Ae):s instanceof Uh&&o instanceof Uh})(r.transform,e.transform)}class bN{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lf{}function Kb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kp(r.key,ni.none()):new vu(r.key,r.data,ni.none());{const n=r.data,s=mn.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(r.key,s,new An(o.toArray()),ni.none())}}function wN(r,e,n){r instanceof vu?(function(o,u,h){const m=o.value.clone(),p=cE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ts?(function(o,u,h){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=cE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Yb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof vu?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=u.value.clone(),v=hE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ts?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=hE(u.fieldTransforms,p,h),v=h.data;return v.setAll(Yb(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function SN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Fb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function uE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((u,h)=>TN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends lf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends lf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Yb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function cE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,EN(h,m,n[o]))}return s}function hE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,vN(u,h,e))}return s}class Kp extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Bb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Kb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>uE(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>uE(n,s)))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return mN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,n,s,o)}}class CN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,je;function xN(r){switch(r){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function Qb(r){if(r===void 0)return _r("GRPC error has no .code"),J.UNKNOWN;switch(r){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:r})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function NN(){return new TextEncoder}const DN=new us([4294967295,4294967295],0);function fE(r){const e=NN().encode(r),n=new cb;return n.update(e),new Uint8Array(n.digest())}function dE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class Qp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(DN)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fE(e),[s,o]=dE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Qp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=fE(e),[s,o]=dE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(we.min(),o,new ht(Ue),vr(),Pe())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,Pe(),Pe(),Pe())}}class Eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Xb{constructor(e,n){this.targetId=e,this.Ce=n}}class Jb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=pE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ON{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=rh(),this.He=rh(),this.Ye=new ht(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(np(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,we.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof bb)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Qp(h,o,u)}catch(p){return go(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&np(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new uf(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=rh(),this.He=rh(),this.Ye=new ht(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new mE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new ht(me.comparator)}function pE(){return new ht(me.comparator)}const MN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class PN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kN(r,e){return kh(r,e.toTimestamp())}function Ui(r){return Ge(!!r,49232),we.fromTimestamp((function(n){const s=ds(n);return new st(s.seconds,s.nanos)})(r))}function Xp(r,e){return ap(r,e).canonicalString()}function ap(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Zb(r){const e=nt.fromString(r);return Ge(rw(e),10190,{key:e.toString()}),e}function op(r,e){return Xp(r.databaseId,e.path)}function Om(r,e){const n=Zb(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(tw(n))}function ew(r,e){return Xp(r.databaseId,e)}function LN(r){const e=Zb(r);return e.length===4?nt.emptyPath():tw(e)}function lp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tw(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gE(r,e,n){return{name:op(r,e),fields:n.value.mapValue.fields}}function jN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Xt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Xt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?J.UNKNOWN:Qb(g.code);return new oe(v,g.message||"")})(h);n=new Jb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=Ui(s.document.updateTime),h=s.document.createTime?Ui(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Eh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?Ui(s.readTime):we.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new IN(o,u),m=s.targetId;n=new Xb(m,h)}}return n}function zN(r,e){let n;if(e instanceof vu)n={update:gE(r,e.key,e.value)};else if(e instanceof Kp)n={delete:op(r,e.key)};else if(e instanceof Ts)n={update:gE(r,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof AN))return ve(16599,{Vt:e.type});n={verify:op(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function BN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Ui(o.updateTime):Ui(u);return h.isEqual(we.min())&&(h=Ui(u)),new bN(h,o.transformResults||[])})(n,e)))):[]}function qN(r,e){return{documents:[ew(r,e.path)]}}function FN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ew(r,o);const u=(function(g){if(g.length!==0)return iw(ri.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:ao(A.field),direction:$N(A.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=sp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function HN(r){let e=LN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const A=nw(T);return A instanceof ri&&Ob(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(G){return new au(oo(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,nf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,U=T.values||[];return new Vh(U,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,U=T.values||[];return new Vh(U,A)})(n.endAt)),uN(e,o,h,u,m,"F",p,g)}function GN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>nw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function $N(r){return MN[r]}function KN(r){return VN[r]}function YN(r){return UN[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return Qt.fromServerFormat(r.fieldPath)}function iw(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:KN(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>iw(o)));return s.length===1?s[0]:{compositeFilter:{op:YN(n.op),filters:s}}})(r):ve(54877,{filter:r})}function QN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class rs{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XN{constructor(e){this.yt=e}}function JN(r){const e=HN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rp(e,e.limit,"L"):e}class WN{constructor(){this.Cn=new ZN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(fs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ZN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(nt.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sw=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(sw,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const _E="LruGarbageCollector",eD=1048576;function vE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class tD{constructor(e){this.Ir=e,this.buffer=new Pt(vE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(_E,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?le(_E,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class iD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(tf.ce);const s=new tD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(yE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ro()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function rD(r,e){return new iD(r,e)}class sD{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,An.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Fl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ts)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Jl(v.mutation,g,v.mutation.getFieldMask(),st.now())):h.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>m.set(g,new aD(v,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||An.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=Bb();v.forEach((A=>{if(!u.has(A)){const U=Kb(n.get(A),s.get(A));U!==null&&T.set(A,U),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(ea());let m=nu,p=u;return h.next((g=>ee.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((v=>({batchId:m,changes:zb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,A){return new xo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,en.newInvalidDocument(v)))}));let m=Fl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Jl(v.mutation,g,An.empty(),st.now()),af(n,g)&&(m=m.insert(p,g))})),m}))}}class lD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),ee.resolve()}}class uD{constructor(){this.overlays=new ht(me.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ea(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new CN(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class cD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Jp{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new nt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new nt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ue);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Pt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fD{constructor(e){this.ri=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Bx(zx(v),s)<=0||(o.has(v.key)||af(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new dD(this)}getSize(e){return ee.resolve(this.size)}}class dD extends sD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class mD{constructor(e){this.persistence=e,this.si=new ha((n=>Fp(n)),Hp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Jp,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class aw{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new cD,this.referenceDelegate=e(this),this.Pi=new mD(this),this.indexManager=new WN,this.remoteDocumentCache=(function(o){return new fD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new XN(n),this.Ii=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new pD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class pD extends Fx{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ri=new Jp,this.Vi=null}static mi(e){return new Wp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new ha((s=>$x(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=rD(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zp(e,n.fromCache,s,o)}}class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XR()?8:Hx(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new gD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ro()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(ro()<=Ve.DEBUG&&le("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ee.resolve())}ys(e,n){if(oE(n))return ee.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=rp(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,rp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return oE(n)||o.isEqual(we.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ee.resolve(null):(ro()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,h,n,jx(o,nu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(Lb(e));return n.forEach(((o,u)=>{af(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const eg="LocalStore",_D=3e8;class vD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ue),this.xs=new ha((u=>Fp(u)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ED(r,e,n,s){return new vD(r,e,n,s)}async function ow(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function TD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,A=T.keys();let U=ee.resolve();return A.forEach((G=>{U=U.next((()=>v.getEntry(p,G))).next((k=>{const L=g.docVersions.get(G);Ge(L!==null,48541),k.version.compareTo(L)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function lw(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let U=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(v.resumeToken,s)),o=o.insert(T,U),(function(k,L,te){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=_D?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(A,U,v)&&m.push(n.Pi.updateTargetData(u,U))}));let p=vr(),g=Pe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(wD(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(we.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function wD(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function SD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function AD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function up(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Io(h))throw h;le(eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function EE(r,e,n){const s=Ae(r);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=Ae(p),A=T.xs.get(v);return A!==void 0?ee.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,v)})(s,h,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Pe()))).next((m=>(RD(s,hN(e),m),{documents:m,Qs:u})))))}function RD(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class TE{constructor(){this.activeTargetIds=yN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CD{constructor(){this.Mo=new TE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ID{Oo(e){}shutdown(){}}const bE="ConnectivityMonitor";class wE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(bE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sh=null;function cp(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}const Mm="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ND{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=cp(),m=this.zo(e,n.toUriEncodedString());le(Mm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=la(g);return this.Jo(e,m,p,s,v).then((T=>(le(Mm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw go(Mm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=xD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class DD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class OD extends ND{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=cp();return new Promise(((m,p)=>{const g=new hb;g.setWithCredentials(!0),g.listenOnce(fb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const T=g.getResponseJson();le(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case gh.TIMEOUT:le(Wt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const A=g.getStatus();if(le(Wt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const G=U?.error;if(G&&G.status&&G.message){const k=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(G.status);p(new oe(k,G.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Wt,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);le(Wt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=pb(),m=mb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let A=!1,U=!1;const G=new DD({Yo:L=>{U?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),k=(L,te,ne)=>{L.listen(te,(ie=>{try{ne(ie)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return k(T,ql.EventType.OPEN,(()=>{U||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),k(T,ql.EventType.CLOSE,(()=>{U||(U=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),k(T,ql.EventType.ERROR,(L=>{U||(U=!0,go(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),G.a_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),k(T,ql.EventType.MESSAGE,(L=>{if(!U){const te=L.data[0];Ge(!!te,16349);const ne=te,ie=ne?.error||ne[0]?.error;if(ie){le(Wt,`RPC '${e}' stream ${o} received error:`,ie);const pe=ie.status;let Ee=(function(R){const C=xt[R];if(C!==void 0)return Qb(C)})(pe),be=ie.message;Ee===void 0&&(Ee=J.INTERNAL,be="Unknown error status: "+pe+" with message "+ie.message),U=!0,G.a_(new oe(Ee,be)),T.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,te),G.u_(te)}})),k(m,db.STAT_EVENT,(L=>{L.stat===Jm.PROXY?le(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Jm.NOPROXY&&le(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}function cf(r){return new PN(r,!0)}class uw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const SE="PersistentStream";class cw{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MD extends cw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ui(h.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=np(p)?{documents:qN(u,p)}:{query:FN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Wb(u,h.resumeToken);const g=sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=kh(u,h.snapshotVersion.toTimestamp());const g=sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=GN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.q_(n)}}class VD extends cw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BN(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=lp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>zN(this.serializer,s)))};this.q_(n)}}class UD{}class PD extends UD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,ap(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,ap(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class LD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{fa(this)&&(le(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await hf(g)})(this))}))})),this.Ra=new kD(s,o)}}async function hf(r){if(fa(r))for(const e of r.da)await e(!0)}async function Tu(r){for(const e of r.da)await e(!1)}function hw(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ig(n):No(n).O_()&&ng(n,e))}function tg(r,e){const n=Ae(r),s=No(n);n.Ia.delete(e),s.O_()&&fw(n,e),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Ra.set("Unknown"))}function ng(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Y_(e)}function fw(r,e){r.Va.Ue(e),No(r).Z_(e)}function ig(r){r.Va=new ON({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function rg(r){return fa(r)&&!No(r).x_()&&r.Ia.size>0}function fa(r){return Ae(r).Ea.size===0}function dw(r){r.Va=void 0}async function jD(r){r.Ra.set("Online")}async function zD(r){r.Ia.forEach(((e,n)=>{ng(r,e)}))}async function BD(r,e){dw(r),rg(r)?(r.Ra.ha(e),ig(r)):r.Ra.set("Unknown")}async function qD(r,e,n){if(r.Ra.set("Online"),e instanceof Jb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof Xb?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await lw(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Xt.EMPTY_BYTE_STRING,v.snapshotVersion)),fw(u,p);const T=new rs(v.target,p,g,v.sequenceNumber);ng(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(oa,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await Tu(r),r.Ra.set("Offline"),n||(n=()=>lw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hf(r)}))}function mw(r,e){return e().catch((n=>jh(r,n,e)))}async function ff(r){const e=Ae(r),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;FD(e);)try{const o=await SD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,HD(e,o)}catch(o){await jh(e,o)}pw(e)&&gw(e)}function FD(r){return fa(r)&&r.Ta.length<10}function HD(r,e){r.Ta.push(e);const n=gs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function pw(r){return fa(r)&&!gs(r).x_()&&r.Ta.length>0}function gw(r){gs(r).start()}async function GD(r){gs(r).ra()}async function $D(r){const e=gs(r);for(const n of r.Ta)e.ea(n.mutations)}async function KD(r,e,n){const s=r.Ta.shift(),o=Yp.from(s,e,n);await mw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function YD(r,e){e&&gs(r).X_&&await(async function(s,o){if((function(h){return xN(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await mw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,e),pw(r)&&gw(r)}async function AE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(oa,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function QD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new MD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:jD.bind(null,r),t_:zD.bind(null,r),r_:BD.bind(null,r),H_:qD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),rg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),dw(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GD.bind(null,r),r_:YD.bind(null,r),ta:$D.bind(null,r),na:KD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ff(r)):(await r.fa.stop(),r.Ta.length>0&&(le(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new sg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,e){if(_r("AsyncQueue",`${e}: ${r}`),Io(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class RE{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class To{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new To(e,n,fo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class XD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JD{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=CE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function CE(){return new ha((r=>kb(r)),sf)}async function yw(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new XD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ag(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&og(n)}async function _w(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function WD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&og(n)}function ZD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function og(r){r.Ca.forEach((e=>{e.next()}))}var hp,IE;(IE=hp||(hp={})).Ma="default",IE.Cache="cache";class vw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hp.Cache}}class Ew{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class eO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Lb(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new RE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const A=o.get(v),U=af(this.query,T)?T:null,G=!!A&&this.mutatedKeys.has(A.key),k=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let L=!1;A&&U?A.data.isEqual(U.data)?G!==k&&(s.track({type:3,doc:U}),L=!0):this.su(A,U)||(s.track({type:2,doc:U}),L=!0,(p&&this.eu(U,p)>0||g&&this.eu(U,g)<0)&&(m=!0)):!A&&U?(s.track({type:0,doc:U}),L=!0):A&&!U&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(U?(h=h.add(U),u=k?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,T)=>(function(U,G){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:L})}};return k(U)-k(G)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new To(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Tw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Ew(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class tO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nO{constructor(e){this.key=e,this.hu=!1}}class iO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ha((m=>kb(m)),sf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(me.comparator),this.Au=new Map,this.Ru=new Jp,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rO(r,e,n=!0){const s=Cw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await bw(s,e,n,!0),o}async function sO(r,e){const n=Cw(r);await bw(n,e,!0,!1)}async function bw(r,e,n,s){const o=await AD(r.localStore,Vi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await aO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&hw(r.remoteStore,o),m}async function aO(r,e,n,s,o){r.pu=(T,A,U)=>(async function(k,L,te,ne){let ie=L.view.ru(te);ie.Cs&&(ie=await EE(k.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,ie))));const pe=ne&&ne.targetChanges.get(L.targetId),Ee=ne&&ne.targetMismatches.get(L.targetId)!=null,be=L.view.applyChanges(ie,k.isPrimaryClient,pe,Ee);return NE(k,L.targetId,be.au),be.snapshot})(r,T,A,U);const u=await EE(r.localStore,e,!0),h=new eO(e,u.Qs),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);NE(r,n,g.au);const v=new tO(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function oO(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!sf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),fp(s,o.targetId)})).catch(Co)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function lO(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function uO(r,e,n){const s=gO(r);try{const o=await(function(h,m){const p=Ae(h),g=st.now(),v=m.reduce(((U,G)=>U.add(G.key)),Pe());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let G=vr(),k=Pe();return p.Ns.getEntries(U,v).next((L=>{G=L,G.forEach(((te,ne)=>{ne.isValidDocument()||(k=k.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,G))).next((L=>{T=L;const te=[];for(const ne of m){const ie=SN(ne,T.get(ne.key).overlayedDocument);ie!=null&&te.push(new Ts(ne.key,ie,xb(ie.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(U,g,te,m)})).next((L=>{A=L;const te=L.applyToLocalDocumentSet(T,k);return p.documentOverlayCache.saveOverlays(U,L.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:zb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(Ue)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await bu(s,o.changes),await ff(s.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function ww(r,e){const n=Ae(r);try{const s=await bD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await bu(n,s,e)}catch(s){await Co(s)}}function xE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&og(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(me.comparator);h=h.insert(u,en.newNoDocument(u,we.min()));const m=Pe().add(u),p=new uf(we.min(),new Map,new ht(Ue),h,m);await ww(s,p),s.du=s.du.remove(u),s.Au.delete(e),ug(s)}else await up(s.localStore,e,!1).then((()=>fp(s,e,n))).catch(Co)}async function hO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await TD(n.localStore,e);Aw(n,s,null),Sw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await Co(o)}}async function fO(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);Aw(s,e,n),Sw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await Co(o)}}function Sw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Aw(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function fp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Rw(r,s)}))}function Rw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(tg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ug(r))}function NE(r,e,n){for(const s of n)s instanceof Ew?(r.Ru.addReference(s.key,e),dO(r,s)):s instanceof Tw?(le(lg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Rw(r,s.key)):ve(19791,{wu:s})}function dO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(lg,"New document in limbo: "+n),r.Eu.add(s),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new nO(n)),r.du=r.du.insert(n,s),hw(r.remoteStore,new rs(Vi(Gp(n.path)),s,"TargetPurposeLimboResolution",tf.ce))}}async function bu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Zp.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(A=>ee.forEach(A.Es,(U=>v.persistence.referenceDelegate.addReference(T,A.targetId,U))).next((()=>ee.forEach(A.ds,(U=>v.persistence.referenceDelegate.removeReference(T,A.targetId,U)))))))))}catch(T){if(!Io(T))throw T;le(eg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const U=v.Ms.get(A),G=U.snapshotVersion,k=U.withLastLimboFreeSnapshotVersion(G);v.Ms=v.Ms.insert(A,k)}}})(s.localStore,u))}async function mO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(lg,"User change. New user:",e.toKey());const s=await ow(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ls)}}function pO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Cw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cO.bind(null,e),e.Pu.H_=WD.bind(null,e.eventManager),e.Pu.yu=ZD.bind(null,e.eventManager),e}function gO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fO.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ED(this.persistence,new yD,e.initialUser,this.serializer)}Cu(e){return new aw(Wp.mi,this.serializer)}Du(e){return new CD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class yO extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new aw((s=>Lh.mi(s,n)),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),await QD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JD})()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=(function(u){return new OD(u)})(e.databaseInfo);return(function(u,h,m,p){return new PD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new LD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return wE.v()?new wE:new ID})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,v){const T=new iO(o,u,h,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(oa,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class Iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ys="FirestoreClient";class _O{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),le(ys,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ow(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function DE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await vO(r);le(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>AE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>AE(e.remoteStore,o))),r._onlineComponents=e}async function vO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ys,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new zh)}}else le(ys,"Using default OfflineComponentProvider"),await Um(r,new yO(void 0));return r._offlineComponents}async function xw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ys,"Using user provided OnlineComponentProvider"),await DE(r,r._uninitializedComponentsProvider._online)):(le(ys,"Using default OnlineComponentProvider"),await DE(r,new dp))),r._onlineComponents}function EO(r){return xw(r).then((e=>e.syncEngine))}async function Nw(r){const e=await xw(r),n=e.eventManager;return n.onListen=rO.bind(null,e.syncEngine),n.onUnlisten=oO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lO.bind(null,e.syncEngine),n}function TO(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new Iw({next:A=>{v.Nu(),h.enqueueAndForget((()=>_w(u,T)));const U=A.docs.has(m);!U&&A.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&A.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new vw(Gp(m.path),v,{includeMetadataChanges:!0,qa:!0});return yw(u,T)})(await Nw(r),r.asyncQueue,e,n,s))),s.promise}function bO(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new Iw({next:A=>{v.Nu(),h.enqueueAndForget((()=>_w(u,T))),A.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new vw(m,v,{includeMetadataChanges:!0,qa:!0});return yw(u,T)})(await Nw(r),r.asyncQueue,e,n,s))),s.promise}function Dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const OE=new Map;const Ow="firestore.googleapis.com",ME=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ix;switch(s.type){case"firstParty":return new Ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=OE.get(n);s&&(le("ComponentProvider","Removing Datastore"),OE.delete(n),s.terminate())})(this),Promise.resolve()}}function wO(r,e,n,s={}){r=Li(r,df);const o=la(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Sp(`https://${m}`),Ap("Firestore",!0)),u.host!==Ow&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Zt.MOCK_USER;else{g=bT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Zt(T)}r._authCredentials=new xx(new yb(g,v))}}class da{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_u(n,vt._jsonSchema))return new vt(e,s||null,new me(nt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Dt("string",vt._jsonSchemaVersion),referencePath:Dt("string")};class cs extends da{constructor(e,n,s){super(e,n,Gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new me(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Mw(r,e,...n){if(r=kt(r),_b("collection","path",e),r instanceof df){const s=nt.fromString(e,...n);return K0(s),new cs(r,null,s)}{if(!(r instanceof vt||r instanceof cs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return K0(s),new cs(r.firestore,null,s)}}function ss(r,e,...n){if(r=kt(r),arguments.length===1&&(e=jp.newId()),_b("doc","path",e),r instanceof df){const s=nt.fromString(e,...n);return $0(s),new vt(r,null,new me(s))}{if(!(r instanceof vt||r instanceof cs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return $0(s),new vt(r.firestore,r instanceof cs?r.converter:null,new me(s))}}const UE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uw(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&le(UE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;le(UE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",kE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Do extends df{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new PE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function SO(r,e){const n=typeof r=="object"?r:Ip(),s=typeof r=="string"?r:Oh,o=Xh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vT("firestore");u&&wO(o,...u)}return o}function cg(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AO(r),r._firestoreClient}function AO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new Qx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Dw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _O(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Dt("string",Bn._jsonSchemaVersion),bytes:Dt("string")};class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Dt("string",Pi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),vectorValues:Dt("object")};const RO=/^__.*__$/;class CO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class Vw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class fg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Uw(this.Ac)&&RO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}Cc(e,n,s,o=!1){return new fg({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dg(r){const e=r._freezeSettings(),n=cf(r._databaseId);return new IO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function xO(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",h,s);const m=Pw(s,h);let p,g;if(u.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=mp(e,T,n);if(!h.contains(A))throw new oe(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Lw(v,A)||v.push(A)}p=new An(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new CO(new mn(m),p,g)}class pf extends hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}function NO(r,e,n,s){const o=r.Cc(1,e,n);mg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();Es(s,((p,g)=>{const v=pg(e,p,n);g=kt(g);const T=o.yc(v);if(g instanceof pf)u.push(v);else{const A=wu(g,T);A!=null&&(u.push(v),h.set(v,A))}}));const m=new An(u);return new Vw(h,m,o.fieldTransforms)}function DO(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[mp(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(mp(e,u[A])),p.push(u[A+1]);const g=[],v=mn.empty();for(let A=m.length-1;A>=0;--A)if(!Lw(g,m[A])){const U=m[A];let G=p[A];G=kt(G);const k=h.yc(U);if(G instanceof pf)g.push(U);else{const L=wu(G,k);L!=null&&(g.push(U),v.set(U,L))}}const T=new An(g);return new Vw(v,T,h.fieldTransforms)}function OO(r,e,n,s=!1){return wu(n,r.Cc(s?4:3,e))}function wu(r,e){if(kw(r=kt(r)))return mg("Unsupported field value:",e,r),Pw(r,e);if(r instanceof hg)return(function(s,o){if(!Uw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=wu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _N(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:Wb(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(h,m){return{mapValue:{fields:{[Cb]:{stringValue:Ib},[Mh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return $p(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ef(s)}`)})(r,e)}function Pw(r,e){const n={};return Tb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((s,o)=>{const u=wu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function kw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Pi||r instanceof Bn||r instanceof vt||r instanceof hg||r instanceof ki)}function mg(r,e,n){if(!kw(n)||!vb(n)){const s=ef(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function mp(r,e,n){if((e=kt(e))instanceof mf)return e._internalPath;if(typeof e=="string")return pg(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function pg(r,e,n){if(e.search(MO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+r+p)}function Lw(r,e){return r.some((n=>n.isEqual(e)))}class jw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VO extends jw{data(){return super.data()}}function gg(r,e){return typeof e=="string"?pg(r,e):e instanceof mf?e._internalPath:e._delegate._internalPath}function UO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class zw extends yg{}function Bw(r,e,...n){let s=[];e instanceof yg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof vg)).length,m=u.filter((p=>p instanceof _g)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class _g extends zw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _g(e,n,s)}_apply(e){const n=this._parse(e);return Fw(e._query,n),new da(e.firestore,e.converter,ip(e._query,n))}_parse(e){const n=dg(e.firestore);return(function(u,h,m,p,g,v,T){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jE(T,v);const G=[];for(const k of T)G.push(LE(p,u,k));A={arrayValue:{values:G}}}else A=LE(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jE(T,v),A=OO(m,h,T,v==="in"||v==="not-in");return Nt.create(g,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Fw(h,p),h=ip(h,p)})(e._query,n),new da(e.firestore,e.converter,ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends zw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(u,h)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new xo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function qw(r,e="asc"){const n=e,s=gg("orderBy",r);return Eg._create(s,n)}function LE(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pb(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!me.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tE(r,new me(s))}if(n instanceof vt)return tE(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function jE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fw(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PO{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Pi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(rw(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function kO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends jw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Th extends ta{data(e={}){return super.data(e)}}class mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:LO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function as(r){r=Li(r,vt);const e=Li(r.firestore,Do);return TO(cg(e),r._key).then((n=>jO(e,r,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Dt("string",mo._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Hw extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Gw(r){r=Li(r,da);const e=Li(r.firestore,Do),n=cg(e),s=new Hw(e);return UO(r._query),bO(n,r._query).then((o=>new mo(e,s,r,o)))}function $w(r,e,n){r=Li(r,vt);const s=Li(r.firestore,Do),o=kO(r.converter,e);return Tg(s,[xO(dg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ni.none())])}function Kw(r,e,n,...s){r=Li(r,vt);const o=Li(r.firestore,Do),u=dg(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof mf?DO(u,"updateDoc",r._key,e,n,s):NO(u,"updateDoc",r._key,e),Tg(o,[h.toMutation(r._key,ni.exists(!0))])}function Yw(r){return Tg(Li(r.firestore,Do),[new Kp(r._key,ni.none())])}function Tg(r,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>uO(await EO(s),o,u))),u.promise})(cg(r),e)}function jO(r,e,n){const s=n.docs.get(e._key),o=new Hw(r);return new ta(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ro=o})(ua),ia(new hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Do(new Nx(s.getProvider("auth-internal")),new Mx(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Di(q0,F0,e),Di(q0,F0,"esm2020")})();const Qw="firebasestorage.googleapis.com",zO="storageBucket",BO=120*1e3,qO=600*1e3;class qi extends Bi{constructor(e,n,s=0){super(Pm(e),`Firebase Storage: ${n} (${Pm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zi||(zi={}));function Pm(r){return"storage/"+r}function FO(){const r="An unknown error occurred, please check the error payload for server response.";return new qi(zi.UNKNOWN,r)}function HO(){return new qi(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GO(){return new qi(zi.CANCELED,"User canceled the upload/download.")}function $O(r){return new qi(zi.INVALID_URL,"Invalid URL '"+r+"'.")}function KO(r){return new qi(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function zE(r){return new qi(zi.INVALID_ARGUMENT,r)}function Xw(){return new qi(zi.APP_DELETED,"The Firebase app was deleted.")}function YO(r){return new qi(zi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ti.makeFromUrl(e,n)}catch{return new ti(e,"")}if(s.path==="")return s;throw KO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(pe){pe.path_=decodeURIComponent(pe.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",U=new RegExp(`^https?://${T}/${v}/b/${o}/o${A}`,"i"),G={bucket:1,path:3},k=n===Qw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",te=new RegExp(`^https?://${k}/${o}/${L}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:U,indices:G,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let pe=0;pe<ie.length;pe++){const Ee=ie[pe],be=Ee.regex.exec(e);if(be){const N=be[Ee.indices.bucket];let R=be[Ee.indices.path];R||(R=""),s=new ti(N,R),Ee.postModify(s);break}}if(s==null)throw $O(e);return s}}class QO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function XO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,r(U,p())},L)}function A(){u&&clearTimeout(u)}function U(L,...te){if(g){A();return}if(L){A(),v.call(null,L,...te);return}if(p()||h){A(),v.call(null,L,...te);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let G=!1;function k(L){G||(G=!0,A(),!g&&(o!==null?(L||(m=2),clearTimeout(o),T(0)):L||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,k(!0)},n),k}function JO(r){r(!1)}function WO(r){return r!==void 0}function BE(r,e,n,s){if(s<e)throw zE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw zE(`Invalid value for '${r}'. Expected ${n} or less.`)}function ZO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var qh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qh||(qh={}));function e4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class t4{constructor(e,n,s,o,u,h,m,p,g,v,T,A=!0,U=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,k)=>{this.resolve_=G,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ah(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===qh.NO_ERROR,p=u.getStatus();if(!m||e4(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===qh.ABORT;s(!1,new ah(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ah(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());WO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=FO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Xw():GO();h(p)}else{const p=HO();h(p)}};this.canceled_?n(!1,new ah(!1,null,!0)):this.backoffId_=XO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function n4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function i4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function s4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function a4(r,e,n,s,o,u,h=!0,m=!1){const p=ZO(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return r4(v,e),n4(v,n),i4(v,u),s4(v,s),new t4(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function o4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function l4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class Fh{constructor(e,n){this._service=e,n instanceof ti?this._location=n:this._location=ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fh(e,n)}get root(){const e=new ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l4(this._location.path)}get storage(){return this._service}get parent(){const e=o4(this._location.path);if(e===null)return null;const n=new ti(this._location.bucket,e);return new Fh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YO(e)}}function qE(r,e){const n=e?.[zO];return n==null?null:ti.makeFromBucketSpec(n,r)}function u4(r,e,n,s={}){r.host=`${e}:${n}`;const o=la(e);o&&(Sp(`https://${r.host}/b`),Ap("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:bT(u,r.app.options.projectId))}class c4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Qw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BO,this._maxUploadRetryTime=qO,this._requests=new Set,o!=null?this._bucket=ti.makeFromBucketSpec(o,this._host):this._bucket=qE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,e):this._bucket=qE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new QO(Xw());{const h=a4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const FE="@firebase/storage",HE="0.14.0";const Jw="storage";function h4(r=Ip(),e){r=kt(r);const s=Xh(r,Jw).getImmediate({identifier:e}),o=vT("storage");return o&&f4(s,...o),s}function f4(r,e,n,s={}){u4(r,e,n,s)}function d4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new c4(n,s,o,e,ua)}function m4(){ia(new hs(Jw,d4,"PUBLIC").setMultipleInstances(!0)),Di(FE,HE,""),Di(FE,HE,"esm2020")}m4();const p4={apiKey:"AIzaSyDk9twIdV6EXdWiuko0fYRtEv2yMaD-wPo",authDomain:"bubbles-lims.firebaseapp.com",projectId:"bubbles-lims",storageBucket:"bubbles-lims.firebasestorage.app",messagingSenderId:"103191297116",appId:"1:103191297116:web:9bc8a21a35799092f3ba99"},bg=AT(p4),gf=kp(bg),Ni=SO(bg);h4(bg);new ur;const g4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),GE=r=>{const e=y4(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ww=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),_4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var v4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const E4=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>z.createElement("svg",{ref:p,...v4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Ww("lucide",o),...!u&&!_4(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,v])=>z.createElement(g,v)),...Array.isArray(u)?u:[u]]));const Fi=(r,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(E4,{ref:u,iconNode:e,className:Ww(`lucide-${g4(GE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=GE(r),n};const T4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wg=Fi("layout-dashboard",T4);const b4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],w4=Fi("log-in",b4);const S4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zw=Fi("log-out",S4);const A4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hh=Fi("mail",A4);const R4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Sg=Fi("pencil",R4);const C4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Gh=Fi("phone",C4);const I4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ag=Fi("settings",I4);const x4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eS=Fi("user-plus",x4);const N4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uu=Fi("users",N4);const D4=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],Rg=Fi("washing-machine",D4);function O4(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(!1),p=Kh(),g=async v=>{v.preventDefault(),m(!0),u("");try{await hI(gf,r,n),p("/")}catch(T){console.error(T),u("Failed to sign in. Please check your credentials.")}finally{m(!1)}};return b.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-md w-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 rounded-xl shadow-lg p-6 space-y-6",children:[b.jsxs("div",{className:"text-center py-6 space-y-2",children:[b.jsx("div",{className:"mx-auto h-20 w-20 flex items-center",children:b.jsx("img",{src:"/logo.png"})}),b.jsx("h2",{className:"text-6xl text-cyan-400 font-bubble",children:"BUBBLES"}),b.jsx("p",{className:"text-sm text-cyan-200",children:"Laundry Information Management System"})]}),o&&b.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm text-center",children:o}),b.jsxs("form",{onSubmit:g,className:"pb-6 space-y-6",children:[b.jsx("div",{children:b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:v=>e(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),b.jsx("div",{children:b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:v=>s(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),b.jsx("div",{children:b.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 border border-transparent text-white font-medium py-3 px-4 rounded-lg hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h?b.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):b.jsx(w4,{className:"h-5 w-5"}),"Sign in"]})})]}),b.jsxs("div",{className:"text-center text-xs text-cyan-400 mt-6",children:[" ",new Date().getFullYear()," Bubbles LIMS"]})]})})}function M4(){const[r,e]=z.useState([]),n=50,s=o=>{const u=["bg-blue-400","bg-blue-500","bg-cyan-400","bg-teal-400","bg-blue-800","bg-white"],h=["opacity-20","opacity-30","opacity-40","opacity-50"];return{id:o,x:1+Math.random()*99,y:110+Math.random()*20,size:10+Math.random()*100,color:u[Math.floor(Math.random()*u.length)],opacity:h[Math.floor(Math.random()*h.length)],speed:.2+Math.random()*.3,wobble:Math.random()*2-1,wobbleSpeed:.01+Math.random()*.02}};return z.useEffect(()=>{const o=[];for(let p=0;p<n;p++){const g=s(p);g.y=Math.random()*120,o.push(g)}e(o);let u,h=0;const m=p=>{const g=p-h;g>16&&(h=p,e(v=>v.map(T=>{const A=T.y-T.speed*g/50;if(A<-10)return s(T.id);const U=T.wobble+T.wobbleSpeed,G=T.x+Math.sin(U)*.05;return{...T,x:G,y:A,wobble:U}}))),u=requestAnimationFrame(m)};return u=requestAnimationFrame(m),()=>{cancelAnimationFrame(u)}},[]),b.jsx("div",{className:"relative w-full h-screen overflow-hidden bg-gradient-to-b from-blue-900 to-blue-950",children:r.map(o=>b.jsx("div",{className:`absolute rounded-full ${o.color} ${o.opacity}`,style:{left:`${o.x}%`,bottom:`${100-o.y}%`,width:`${o.size}px`,height:`${o.size}px`,boxShadow:"0 0 8px rgba(255, 255, 255, 0.2)",transform:"translate(-50%, 50%)"}},o.id))})}const V4=[{name:"Dashboard",href:"/",icon:wg},{name:"Clients",href:"/clients",icon:Rg},{name:"Jobs",href:"/jobs",icon:uu},{name:"Staff",href:"/staff",icon:uu},{name:"Settings",href:"/settings",icon:Ag}];function U4(){const r=()=>{gf.signOut()};return b.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 border-r border-cyan-500 w-64",children:[b.jsxs("div",{className:"flex items-center gap-3 px-6 h-16",children:[b.jsx("div",{className:"h-12 w-12",children:b.jsx("img",{src:"/logo.png"})}),b.jsx("span",{className:" text-cyan-50 font-thin font-bubble text-3xl",children:"BUBBLES"})]}),b.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:V4.map(e=>b.jsxs(wp,{to:e.href,className:({isActive:n})=>`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-cyan-500/50 text-cyan-100":"text-cyan-100 hover:bg-cyan-200/50 hover:text-cyan-900"}`,children:[b.jsx(e.icon,{className:"h-5 w-5"}),e.name]},e.name))}),b.jsx("div",{className:"p-4 ",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-cyan-50 rounded-md bg-cyan-500/50 hover:bg-cyan-600/50 w-full transition-colors",children:[b.jsx(Zw,{className:"h-5 w-5"}),"Sign Out"]})})]})}const P4=[{name:"Dashboard",href:"/",icon:wg},{name:"Jobs",href:"/jobs",icon:Rg},{name:"Staff",href:"/staff",icon:uu},{name:"Settings",href:"/settings",icon:Ag}];function k4(){const r=()=>{gf.signOut()};return b.jsx("div",{className:"fixed inset-x-0 bottom-0 z-30 border-t border-cyan-800 bg-gradient-to-t from-blue-900/80 to-blue-500/90 md:hidden",children:b.jsxs("div",{className:"flex h-16 justify-around",children:[P4.map(e=>b.jsxs(wp,{to:e.href,className:({isActive:n})=>`flex w-full flex-col items-center justify-center gap-1 text-xs font-medium transition-colors ${n?"text-cyan-400 bg-blue-500/20":"text-cyan-500 hover:bg-cyan-50/20 hover:text-cyan-100"}`,children:[b.jsx(e.icon,{className:"h-5 w-5"}),b.jsx("span",{children:e.name})]},e.name)),b.jsxs("button",{onClick:r,className:"flex w-full flex-col items-center justify-center gap-1 text-xs font-medium transition-colors text-cyan-500 hover:bg-cyan-50/20 hover:text-cyan-100",children:[b.jsx(Zw,{className:"h-5 w-5"}),"Sign Out"]})]})})}function L4(){return b.jsxs(b.Fragment,{children:[b.jsx(k4,{}),b.jsxs("div",{className:"flex min-h-screen flex-col",children:[b.jsx("div",{className:"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col",children:b.jsx(U4,{})}),b.jsx("div",{className:"flex flex-1 flex-col md:pl-64",children:b.jsx("main",{className:"flex-1",children:b.jsx("div",{className:"",children:b.jsx("div",{className:"mx-auto max-w-8xl",children:b.jsx($1,{})})})})})]})]})}function j4(){return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[b.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Admin Dashboard"}),b.jsx("p",{className:"text-gray-500",children:"General dashboard widgets will be managed here in the future."})]})}function z4(){return b.jsxs("div",{className:"max-w-8xl mx-auto",children:[b.jsx("div",{className:"bg-blue-800/40 p-4",children:b.jsxs("div",{className:"flex items-center gap-2 ",children:[b.jsx(wg,{className:"h-6 w-6 text-cyan-400"}),b.jsx("h1",{className:"text-2xl font-bold text-cyan-500 uppercase",children:"Dashboard"})]})}),b.jsx("div",{className:"p-4",children:b.jsx(j4,{})})]})}const oh={async getAllUsers(){try{console.log("Fetching all users for search...");const r=Bw(Mw(Ni,"users"),qw("uid"));return(await Gw(r)).docs.map(s=>({uid:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all users:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(r){try{console.log(`Fetching user with uid: ${r}`);const e=await as(ss(Ni,"users",r));if(!e.exists())throw new Error(`User with uid ${r} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(r){const e=kp();let n;try{return console.log("Creating new user with authentication:",r.email),n=(await WT(e,r.email,r.password)).user,await $w(ss(Ni,"users",n.uid),{uid:n.uid,name:r.name,email:r.email,phone:r.phone,role:r.role}),console.log("User created successfully with uid:",n.uid),{uid:n.uid,name:r.name,email:r.email,phone:r.phone,role:r.role}}catch(s){if(console.error("Firebase error adding user:",s),n)try{await ZT(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=s instanceof Error?s.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(r,e){try{console.log(`Updating user ${r}:`,e);const n=ss(Ni,"users",r);if(!(await as(n)).exists())throw new Error(`User with uid ${r} not found`);await Kw(n,e);const o=await as(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${s}`)}},async deleteUser(r){try{console.log(`Deleting user with uid: ${r}`);const e=ss(Ni,"users",r);if(!(await as(e)).exists())throw new Error(`User with uid ${r} not found`);await Yw(e),console.log(`User ${r} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}};function tS({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=z.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",role:r?.role||"operator",password:"",confirmPassword:""}),[m,p]=z.useState(!1),g=async v=>{if(v.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}p(!0);try{const T={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(T)}finally{p(!1)}};return b.jsxs("form",{onSubmit:g,className:"space-y-4 ",autoComplete:"off",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Name *"}),b.jsx("input",{type:"text",id:"name",value:u.name,onChange:v=>h({...u,name:v.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"off",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Email *"}),b.jsx("input",{type:"email",id:"email",value:u.email,onChange:v=>h({...u,email:v.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-email",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Phone"}),b.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:v=>h({...u,phone:v.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-phone"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Role *"}),b.jsxs("select",{id:"role",value:u.role,onChange:v=>h({...u,role:v.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[b.jsx("option",{value:"owner",children:"Owner"}),b.jsx("option",{value:"manager",children:"Manager"}),b.jsx("option",{value:"operator",children:"Operator"}),b.jsx("option",{value:"driver",children:"Driver"}),b.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Password *"}),b.jsx("input",{type:"password",id:"password",value:u.password,onChange:v=>h({...u,password:v.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Confirm Password *"}),b.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:v=>h({...u,confirmPassword:v.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[b.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":s}),b.jsx("button",{type:"button",onClick:n,disabled:m,className:"flex-1 px-4 py-2 bg-gradient-to-t from-gray-400 to-gray-200 text-gray-700 rounded hover:from-gray-300 hover:to-gray-100 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})}function B4({user:r,isEditing:e,onEdit:n,onUpdate:s,onCancelEdit:o}){const u=m=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[m],h=(m,p)=>{const g=m.split(" "),v=g[0]?g[0][0]:"";return b.jsx("div",{className:`rounded-full h-12 w-12 flex items-center justify-center ${u(p)}`,children:b.jsx("span",{className:`font-light text-2xl ${u(p)}`,children:v})})};return e?b.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500",children:[b.jsx("div",{className:"flex-1 min-w-0 pb-4",children:b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("div",{children:h(r.name,r.role)}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-medium text-cyan-400",children:r.name}),b.jsx("span",{className:`inline-block px-1 text-xs font-medium rounded ${u(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),b.jsx(tS,{initialData:{name:r.name,email:r.email,role:r.role},onSubmit:s,onCancel:o,submitLabel:"Update",isEditMode:!0})]}):b.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 cursor-pointer",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("div",{children:h(r.name,r.role)}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-base font-medium text-white truncate",children:r.name}),b.jsx("span",{className:`inline-block px-1 text-xs font-medium rounded ${u(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),b.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto",children:b.jsxs("button",{onClick:n,className:"flex-1 sm:flex-none px-3 py-2 bg-blue-800/50 text-cyan-500 text-sm border border-cyan-500 hover:bg-blue-600/50 hover:text-cyan-500 cursor-pointer rounded-md flex items-center justify-center gap-1",title:"Edit user",children:[b.jsx(Sg,{className:"w-5 h-5"}),b.jsx("span",{className:"sm:hidden",children:"Edit"})]})})]})})}function q4(){const[r,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[h,m]=z.useState(null),[p,g]=z.useState(!1);z.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0),u(null);const G=await oh.getAllUsers();e(G)}catch(G){const k=G instanceof Error?G.message:"Failed to load users";u(k)}finally{s(!1)}},T=async G=>{try{if(u(null),!G.password)throw new Error("Password is required for new users");await oh.addUser({...G,password:G.password}),await v(),g(!1)}catch(k){const L=k instanceof Error?k.message:"Failed to add user";u(L)}},A=async(G,k)=>{try{u(null);const{password:L,...te}=k;await oh.updateUser(G,te),await v(),m(null)}catch(L){const te=L instanceof Error?L.message:"Failed to update user";u(te)}},U=async G=>{if(window.confirm("Are you sure you want to delete this user?"))try{u(null),await oh.deleteUser(G),await v()}catch(k){const L=k instanceof Error?k.message:"Failed to delete user";u(L)}};return n?b.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:b.jsx("p",{className:"text-gray-500 text-center",children:"Loading users..."})}):b.jsxs("div",{className:"",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[b.jsx("div",{}),b.jsx("button",{onClick:()=>g(!p),className:"px-4 py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 transition-colors w-full sm:w-auto",children:p?"Cancel":"Add User"})]}),o&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:o}),p&&b.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[b.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[b.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:b.jsx("span",{className:"font-light text-2xl",children:"N"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),b.jsx(tS,{onSubmit:T,onCancel:()=>g(!1)})]}),r.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users found. Add your first user to get started."}):b.jsx("div",{className:"space-y-3",children:r.map(G=>b.jsx(B4,{user:G,isEditing:h?.uid===G.uid,onEdit:()=>m(G),onDelete:()=>U(G.uid),onUpdate:k=>A(G.uid,k),onCancelEdit:()=>m(null)},G.uid))})]})}function F4(){return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[b.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"General Settings"}),b.jsx("p",{className:"text-gray-500",children:"General application settings will be managed here in the future."})]})}function H4(){const[r]=wR(),[e,n]=z.useState(()=>{const u=r.get("tab");return u==="general"||u==="users"?u:"general"}),s=[{id:"general",name:"General"},{id:"users",name:"Users"}],o=u=>{e!==u&&n(u)};return b.jsx("div",{className:"",children:b.jsxs("div",{className:"p-4",children:[b.jsx("div",{className:"border-b border-cyan-200 mb-4",children:b.jsx("nav",{className:"-mb-px flex","aria-label":"Tabs",children:s.map(u=>b.jsx("button",{onClick:()=>o(u.id),className:`${e===u.id?"border-cyan-400 text-cyan-400 bg-blue-700/20":"border-transparent text-cyan-400 hover:text-cyan-500 hover:border-cyan-300 bg-blue-900/20"}  py-3 px-6 border-b-2 font-medium text-sm transition-colors`,"aria-current":e===u.id?"page":void 0,children:u.name},u.id))})}),b.jsxs("div",{children:[e==="general"&&b.jsx(F4,{}),e==="users"&&b.jsx(q4,{})]})]})})}const nS={page:"max-w-8xl mx-auto",header:"h-[8vh] md:h-[7vh]",title:"flex items-center gap-2 h-full p-4",content:"max-h-[82vh] overflow-y-scroll"},iS={header:"bg-blue-700/40",title_text:"text-2xl font-bold text-cyan-500",title_icon:"h-6 w-6 text-cyan-500"},tt={card:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",header:"flex flex-row items-center justify-between gap-2",title:"flex-1 min-w-0",selection:"relative w-full h-12 cursor-pointer",list_content:"my-4 p-2 text-cyan-500 space-y-2 text-sm",icon_list:"flex gap-2 items-center",tags:"inline-block px-1 text-xs font-medium rounded",name:"text-base font-medium text-white",selected_name:"text-xl font-bold text-cyan-400",contact_grid:"grid grid-cols-3 gap-1 items-center "},rS={profile_initial:"rounded-full h-12 w-12 flex items-center justify-center font-light text-2xl"},G4={error:"text-red-700 text-center py-8",notice:"text-cyan-400 text-center py-8"},$4={page:"max-w-8xl mx-auto",header:"h-[8vh] md:h-[7vh] bg-blue-700/40",title:"p-4 flex items-center gap-2 h-full text-2xl font-bold text-cyan-500",content:"max-h-[82vh] overflow-y-scroll"},K4={layout:"space-y-4 p-4 bg-blue-800/50 border border-cyan-500 rounded-lg",label:"block text-sm font-medium text-cyan-500 mb-1",input:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",action:"flex flex-col sm:flex-row gap-2 pt-2"},Y4={solid:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-cyan-700 to-cyan-500 hover:from-cyan-600 hover:to-cyan-400 border-cyan-500 hover:border-cyan-300 text-cyan-200 hover:text-cyan-50",outline:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-blue-700/40 to-blue-800/40 hover:from-blue-600/50 hover:to-blue-500/50 border-cyan-500 hover:border-cyan-300 text-cyan-500 hover:text-cyan-300"},fe={system:G4,view:$4,form:K4,button:Y4},Q4="Settings",X4=Ag,lh=nS,km=iS;function J4(){return b.jsxs("div",{className:`${lh.page}`,children:[b.jsx("div",{className:`${lh.header} ${km.header}`,children:b.jsxs("div",{className:`${lh.title}`,children:[b.jsx(X4,{className:`${km.title_icon}`}),b.jsx("h1",{className:`${km.title_text}`,children:Q4})]})}),b.jsx("div",{className:`${lh.content}`,children:b.jsx(H4,{})})]})}const po={async getAllUsers(){try{console.log("Fetching all users for search...");const r=Bw(Mw(Ni,"users"),qw("uid"));return(await Gw(r)).docs.map(s=>({uid:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all users:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(r){try{console.log(`Fetching user with uid: ${r}`);const e=await as(ss(Ni,"users",r));if(!e.exists())throw new Error(`User with uid ${r} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(r){const e=kp();let n;try{return console.log("Creating new user with authentication:",r.email),n=(await WT(e,r.email,r.password)).user,await $w(ss(Ni,"users",n.uid),{uid:n.uid,name:r.name,email:r.email,role:r.role}),console.log("User created successfully with uid:",n.uid),{uid:n.uid,name:r.name,email:r.email,role:r.role}}catch(s){if(console.error("Firebase error adding user:",s),n)try{await ZT(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=s instanceof Error?s.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(r,e){try{console.log(`Updating user ${r}:`,e);const n=ss(Ni,"users",r);if(!(await as(n)).exists())throw new Error(`User with uid ${r} not found`);await Kw(n,e);const o=await as(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${s}`)}},async deleteUser(r){try{console.log(`Deleting user with uid: ${r}`);const e=ss(Ni,"users",r);if(!(await as(e)).exists())throw new Error(`User with uid ${r} not found`);await Yw(e),console.log(`User ${r} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}},sS=({className:r})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:r,"aria-hidden":"true",children:b.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})});function aS({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=z.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",role:r?.role||"operator",password:"",confirmPassword:""}),[m,p]=z.useState(!1),g=async v=>{if(v.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}p(!0);try{const T={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(T)}finally{p(!1)}};return b.jsxs("form",{onSubmit:g,className:`${fe.form.layout}`,autoComplete:"off",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:`${fe.form.label}`,children:"Name *"}),b.jsx("input",{type:"text",id:"name",value:u.name,onChange:v=>h({...u,name:v.target.value}),className:`${fe.form.input}`,autoComplete:"off",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:`${fe.form.label}`,children:"Email *"}),b.jsx("input",{type:"email",id:"email",value:u.email,onChange:v=>h({...u,email:v.target.value}),className:`${fe.form.input}`,autoComplete:"new-email",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"phone",className:`${fe.form.label}`,children:"Phone"}),b.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:v=>h({...u,phone:v.target.value}),className:`${fe.form.input}`,autoComplete:"new-phone"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"role",className:`${fe.form.label}`,children:"Role *"}),b.jsxs("select",{id:"role",value:u.role,onChange:v=>h({...u,role:v.target.value}),className:`${fe.form.input}`,required:!0,children:[b.jsx("option",{value:"owner",children:"Owner"}),b.jsx("option",{value:"manager",children:"Manager"}),b.jsx("option",{value:"operator",children:"Operator"}),b.jsx("option",{value:"driver",children:"Driver"}),b.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:`${fe.form.label}`,children:"Password *"}),b.jsx("input",{type:"password",id:"password",value:u.password,onChange:v=>h({...u,password:v.target.value}),className:`${fe.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirmPassword",className:`${fe.form.label}`,children:"Confirm Password *"}),b.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:v=>h({...u,confirmPassword:v.target.value}),className:`${fe.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),b.jsxs("div",{className:`${fe.form.action}`,children:[b.jsx("button",{type:"submit",disabled:m,className:`${fe.button.solid}`,children:m?"Saving...":s}),b.jsx("button",{type:"button",onClick:n,disabled:m,className:`${fe.button.outline}`,children:"Cancel"})]})]})}function W4({user:r,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const p=v=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[v],g=(v,T)=>{const A=v[0];return b.jsx("div",{className:`${rS.profile_initial} ${p(T)}`,children:A})};return b.jsxs("div",{className:`${tt.card}`,children:[b.jsxs("div",{className:`${tt.header}`,children:[b.jsx("div",{className:`${tt.title}`,children:b.jsxs("div",{className:`${tt.icon_list}`,children:[b.jsx("div",{children:g(r.name,r.role)}),b.jsxs("div",{children:[e?b.jsx("h3",{className:`${tt.selected_name}`,children:r.name}):b.jsx("h3",{className:`${tt.name}`,children:r.name}),b.jsx("span",{className:`${tt.tags} ${p(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),e?b.jsx("div",{className:`${tt.selection}`,onClick:s}):b.jsx("div",{className:`${tt.selection}`,onClick:n})]}),e&&b.jsxs("div",{className:"",children:[b.jsxs("div",{className:`${tt.list_content}`,children:[b.jsxs("div",{className:`${tt.icon_list}`,children:[b.jsx(Hh,{className:"w-4 h-4"}),b.jsx("p",{children:r.email})]}),b.jsxs("div",{className:`${tt.icon_list}`,children:[b.jsx(Gh,{className:"w-4 h-4"}),b.jsx("p",{children:r.phone})]})]}),b.jsxs("div",{className:`${tt.contact_grid}`,children:[b.jsx("div",{className:`${fe.button.outline}`,children:b.jsx(Gh,{className:"w-8 h-8 mx-auto"})}),b.jsx("div",{className:`${fe.button.outline}`,children:b.jsx(Hh,{className:"w-8 h-8 mx-auto"})}),b.jsx("div",{className:`${fe.button.outline}`,children:b.jsx(sS,{className:"w-8 h-8 mx-auto"})})]}),b.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&b.jsxs("button",{onClick:u,className:`${fe.button.solid}`,title:"Edit User",children:[b.jsx(Sg,{className:"w-5 h-5"}),b.jsx("span",{children:"Edit User"})]})}),o&&b.jsx("div",{children:b.jsx(aS,{initialData:{name:r.name,email:r.email,phone:r.phone,role:r.role},onSubmit:h,onCancel:m,submitLabel:"Update",isEditMode:!0})})]})]})}function Z4(){const[r,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[h,m]=z.useState(null),[p,g]=z.useState(null),[v,T]=z.useState(!1);z.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const k=await po.getAllUsers();e(k)}catch(k){const L=k instanceof Error?k.message:"Failed to load users";u(L)}finally{s(!1)}},U=async k=>{try{if(u(null),!k.password)throw new Error("Password is required for new users");await po.addUser({...k,password:k.password}),await A(),T(!1)}catch(L){const te=L instanceof Error?L.message:"Failed to add user";u(te)}},G=async(k,L)=>{try{u(null);const{password:te,...ne}=L;await po.updateUser(k,ne),await A(),g(null)}catch(te){const ne=te instanceof Error?te.message:"Failed to update user";u(ne)}};return n?b.jsx("div",{className:"p-4",children:b.jsx("p",{className:`${fe.system.notice}`,children:"Loading..."})}):o?b.jsx("div",{className:"p-4",children:b.jsx("p",{className:`${fe.system.error}`,children:o})}):b.jsxs("div",{className:"p-4",children:[!v&&b.jsx("div",{className:"flex mb-4",children:b.jsxs("button",{onClick:()=>T(!v),className:`${fe.button.outline}`,children:[b.jsx(eS,{className:"w-5 h-5"}),b.jsx("span",{children:"Add User"})]})}),v&&b.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[b.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[b.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:b.jsx("span",{className:"font-light text-2xl",children:"N"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),b.jsx(aS,{onSubmit:U,onCancel:()=>T(!1)})]}),r.length===0?b.jsx("p",{className:`${fe.system.notice}`,children:"No staff found. Add your first user to get started."}):b.jsx("div",{className:"space-y-2",children:r.map(k=>b.jsx(W4,{user:k,isViewing:h?.uid===k.uid,onView:()=>m(k),onCancelView:()=>m(null),isEditing:p?.uid===k.uid,onEdit:()=>g(k),onUpdate:L=>G(k.uid,L),onCancelEdit:()=>g(null)},k.uid))})]})}const eM="Laundry Staff",tM=uu;function nM(){return b.jsxs("div",{className:`${fe.view.page}`,children:[b.jsx("div",{className:`${fe.view.header}`,children:b.jsxs("div",{className:`${fe.view.title}`,children:[b.jsx(tM,{className:"w-6 h-6"}),b.jsx("h1",{children:eM})]})}),b.jsx("div",{className:`${fe.view.content}`,children:b.jsx(Z4,{})})]})}function iM({title:r}){const e=tt;return b.jsx("div",{className:"p-4",children:b.jsxs("div",{className:`${e.card}`,children:[b.jsx("h2",{className:`${e.selected_name}`,children:r}),b.jsxs("p",{className:`${e.name}`,children:[r," will be managed here in the future."]})]})})}const $E="Laundry Jobs",rM=Rg,uh=nS,Lm=iS;function sM(){return b.jsxs("div",{className:`${uh.page}`,children:[b.jsx("div",{className:`${uh.header} ${Lm.header}`,children:b.jsxs("div",{className:`${uh.title}`,children:[b.jsx(rM,{className:`${Lm.title_icon}`}),b.jsx("h1",{className:`${Lm.title_text}`,children:$E})]})}),b.jsx("div",{className:`${uh.content}`,children:b.jsx(iM,{title:$E})})]})}function oS({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=z.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",role:r?.role||"operator",password:"",confirmPassword:""}),[m,p]=z.useState(!1),g=async v=>{if(v.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}p(!0);try{const T={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(T)}finally{p(!1)}};return b.jsxs("form",{onSubmit:g,className:`${fe.form.layout}`,autoComplete:"off",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:`${fe.form.label}`,children:"Name *"}),b.jsx("input",{type:"text",id:"name",value:u.name,onChange:v=>h({...u,name:v.target.value}),className:`${fe.form.input}`,autoComplete:"off",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:`${fe.form.label}`,children:"Email *"}),b.jsx("input",{type:"email",id:"email",value:u.email,onChange:v=>h({...u,email:v.target.value}),className:`${fe.form.input}`,autoComplete:"new-email",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"phone",className:`${fe.form.label}`,children:"Phone"}),b.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:v=>h({...u,phone:v.target.value}),className:`${fe.form.input}`,autoComplete:"new-phone"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"role",className:`${fe.form.label}`,children:"Role *"}),b.jsxs("select",{id:"role",value:u.role,onChange:v=>h({...u,role:v.target.value}),className:`${fe.form.input}`,required:!0,children:[b.jsx("option",{value:"owner",children:"Owner"}),b.jsx("option",{value:"manager",children:"Manager"}),b.jsx("option",{value:"operator",children:"Operator"}),b.jsx("option",{value:"driver",children:"Driver"}),b.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:`${fe.form.label}`,children:"Password *"}),b.jsx("input",{type:"password",id:"password",value:u.password,onChange:v=>h({...u,password:v.target.value}),className:`${fe.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirmPassword",className:`${fe.form.label}`,children:"Confirm Password *"}),b.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:v=>h({...u,confirmPassword:v.target.value}),className:`${fe.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),b.jsxs("div",{className:`${fe.form.action}`,children:[b.jsx("button",{type:"submit",disabled:m,className:`${fe.button.solid}`,children:m?"Saving...":s}),b.jsx("button",{type:"button",onClick:n,disabled:m,className:`${fe.button.outline}`,children:"Cancel"})]})]})}function aM({user:r,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const p=v=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[v],g=(v,T)=>{const A=v[0];return b.jsx("div",{className:`${rS.profile_initial} ${p(T)}`,children:A})};return b.jsxs("div",{className:`${tt.card}`,children:[b.jsxs("div",{className:`${tt.header}`,children:[b.jsx("div",{className:`${tt.title}`,children:b.jsxs("div",{className:`${tt.icon_list}`,children:[b.jsx("div",{children:g(r.name,r.role)}),b.jsxs("div",{children:[e?b.jsx("h3",{className:`${tt.selected_name}`,children:r.name}):b.jsx("h3",{className:`${tt.name}`,children:r.name}),b.jsx("span",{className:`${tt.tags} ${p(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),e?b.jsx("div",{className:`${tt.selection}`,onClick:s}):b.jsx("div",{className:`${tt.selection}`,onClick:n})]}),e&&b.jsxs("div",{className:"",children:[b.jsxs("div",{className:`${tt.list_content}`,children:[b.jsxs("div",{className:`${tt.icon_list}`,children:[b.jsx(Hh,{className:"w-4 h-4"}),b.jsx("p",{children:r.email})]}),b.jsxs("div",{className:`${tt.icon_list}`,children:[b.jsx(Gh,{className:"w-4 h-4"}),b.jsx("p",{children:r.phone})]})]}),b.jsxs("div",{className:`${tt.contact_grid}`,children:[b.jsx("div",{className:`${fe.button.outline}`,children:b.jsx(Gh,{className:"w-8 h-8 mx-auto"})}),b.jsx("div",{className:`${fe.button.outline}`,children:b.jsx(Hh,{className:"w-8 h-8 mx-auto"})}),b.jsx("div",{className:`${fe.button.outline}`,children:b.jsx(sS,{className:"w-8 h-8 mx-auto"})})]}),b.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&b.jsxs("button",{onClick:u,className:`${fe.button.solid}`,title:"Edit User",children:[b.jsx(Sg,{className:"w-5 h-5"}),b.jsx("span",{children:"Edit User"})]})}),o&&b.jsx("div",{children:b.jsx(oS,{initialData:{name:r.name,email:r.email,phone:r.phone,role:r.role},onSubmit:h,onCancel:m,submitLabel:"Update",isEditMode:!0})})]})]})}function oM(){const[r,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[h,m]=z.useState(null),[p,g]=z.useState(null),[v,T]=z.useState(!1);z.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const k=await po.getAllUsers();e(k)}catch(k){const L=k instanceof Error?k.message:"Failed to load users";u(L)}finally{s(!1)}},U=async k=>{try{if(u(null),!k.password)throw new Error("Password is required for new users");await po.addUser({...k,password:k.password}),await A(),T(!1)}catch(L){const te=L instanceof Error?L.message:"Failed to add user";u(te)}},G=async(k,L)=>{try{u(null);const{password:te,...ne}=L;await po.updateUser(k,ne),await A(),g(null)}catch(te){const ne=te instanceof Error?te.message:"Failed to update user";u(ne)}};return n?b.jsx("div",{className:"p-4",children:b.jsx("p",{className:`${fe.system.notice}`,children:"Loading..."})}):o?b.jsx("div",{className:"p-4",children:b.jsx("p",{className:`${fe.system.error}`,children:o})}):b.jsxs("div",{className:"p-4",children:[!v&&b.jsx("div",{className:"flex mb-4",children:b.jsxs("button",{onClick:()=>T(!v),className:`${fe.button.outline}`,children:[b.jsx(eS,{className:"w-5 h-5"}),b.jsx("span",{children:"Add User"})]})}),v&&b.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[b.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[b.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:b.jsx("span",{className:"font-light text-2xl",children:"N"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),b.jsx(oS,{onSubmit:U,onCancel:()=>T(!1)})]}),r.length===0?b.jsx("p",{className:`${fe.system.notice}`,children:"No staff found. Add your first user to get started."}):b.jsx("div",{className:"space-y-2",children:r.map(k=>b.jsx(aM,{user:k,isViewing:h?.uid===k.uid,onView:()=>m(k),onCancelView:()=>m(null),isEditing:p?.uid===k.uid,onEdit:()=>g(k),onUpdate:L=>G(k.uid,L),onCancelEdit:()=>g(null)},k.uid))})]})}const lM="Clients",uM=uu;function cM(){return b.jsxs("div",{className:`${fe.view.page}`,children:[b.jsx("div",{className:`${fe.view.header}`,children:b.jsxs("div",{className:`${fe.view.title}`,children:[b.jsx(uM,{className:"w-6 h-6"}),b.jsx("h1",{children:lM})]})}),b.jsx("div",{className:`${fe.view.content}`,children:b.jsx(oM,{})})]})}const hM=({children:r})=>{const{user:e,loading:n}=mT();return n?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?b.jsx(b.Fragment,{children:r}):b.jsx(lT,{to:"/login",replace:!0})};function fM(){return b.jsx(vR,{children:b.jsxs("div",{className:"relative w-full min-h-screen",children:[b.jsx("div",{className:"fixed inset-0 z-0",children:b.jsx(M4,{})}),b.jsx("div",{className:"relative z-10 min-h-screen flex flex-col",children:b.jsxs(Y1,{children:[b.jsx(Ii,{path:"/login",element:b.jsx(O4,{})}),b.jsxs(Ii,{path:"/",element:b.jsx(hM,{children:b.jsx(L4,{})}),children:[b.jsx(Ii,{index:!0,element:b.jsx(z4,{})}),b.jsx(Ii,{path:"clients",element:b.jsx(cM,{})}),b.jsx(Ii,{path:"staff",element:b.jsx(nM,{})}),b.jsx(Ii,{path:"jobs",element:b.jsx(sM,{})}),b.jsx(Ii,{path:"settings",element:b.jsx(J4,{})}),b.jsx(Ii,{path:"settings/users",element:b.jsx("h1",{className:"text-2xl font-bold text-cyan-500",children:"Users"})})]}),b.jsx(Ii,{path:"*",element:b.jsx(lT,{to:"/",replace:!0})})]})})]})})}const dM=({children:r})=>{const{setUser:e,setLoading:n}=mT();return z.useEffect(()=>{const s=mI(gf,o=>{e(o),n(!1),o?(console.log("User signed in:",o.email),o.getIdToken().then(u=>{console.log("Auth Token retrieved:",u)})):console.log("User signed out")});return()=>s()},[e,n]),b.jsx(b.Fragment,{children:r})};YA.createRoot(document.getElementById("root")).render(b.jsx(jl.StrictMode,{children:b.jsx(dM,{children:b.jsx(fM,{})})}));
