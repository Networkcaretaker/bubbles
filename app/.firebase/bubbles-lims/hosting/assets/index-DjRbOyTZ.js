(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bm={exports:{}},Bl={};var aE;function H1(){if(aE)return Bl;aE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var oE;function G1(){return oE||(oE=1,bm.exports=H1()),bm.exports}var y=G1(),Sm={exports:{}},Ae={};var lE;function K1(){if(lE)return Ae;lE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function V(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function Q(j,ne,oe){this.props=j,this.context=ne,this.refs=k,this.updater=oe||K}Q.prototype.isReactComponent={},Q.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},Q.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function te(){}te.prototype=Q.prototype;function re(j,ne,oe){this.props=j,this.context=ne,this.refs=k,this.updater=oe||K}var ge=re.prototype=new te;ge.constructor=re,D(ge,Q.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(j,ne,oe){var ce=oe.ref;return{$$typeof:i,type:j,key:ne,ref:ce!==void 0?ce:null,props:oe}}function U(j,ne){return C(j.type,ne,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function z(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return ne[oe]})}var x=/\/+/g;function ot(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):ne.toString(36)}function jt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(be,be):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,ne,oe,ce,we){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var Le=!1;if(j===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(j.$$typeof){case i:case e:Le=!0;break;case T:return Le=j._init,J(Le(j._payload),ne,oe,ce,we)}}if(Le)return we=we(j),Le=ce===""?"."+ot(j,0):ce,Te(we)?(oe="",Le!=null&&(oe=Le.replace(x,"$&/")+"/"),J(we,ne,oe,"",function(As){return As})):we!=null&&(M(we)&&(we=U(we,oe+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+Le)),ne.push(we)),1;Le=0;var kt=ce===""?".":ce+":";if(Te(j))for(var lt=0;lt<j.length;lt++)ce=j[lt],Ie=kt+ot(ce,lt),Le+=J(ce,ne,oe,Ie,we);else if(lt=V(j),typeof lt=="function")for(j=lt.call(j),lt=0;!(ce=j.next()).done;)ce=ce.value,Ie=kt+ot(ce,lt++),Le+=J(ce,ne,oe,Ie,we);else if(Ie==="object"){if(typeof j.then=="function")return J(jt(j),ne,oe,ce,we);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(j,ne,oe){if(j==null)return j;var ce=[],we=0;return J(j,ce,"","",function(Ie){return ne.call(oe,Ie,we++)}),ce}function ye(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var Be=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ke={map:ae,forEach:function(j,ne,oe){ae(j,function(){ne.apply(this,arguments)},oe)},count:function(j){var ne=0;return ae(j,function(){ne++}),ne},toArray:function(j){return ae(j,function(ne){return ne})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ae.Activity=w,Ae.Children=Ke,Ae.Component=Q,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},Ae.cache=function(j){return function(){return j.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(j,ne,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ce=D({},j.props),we=j.key;if(ne!=null)for(Ie in ne.key!==void 0&&(we=""+ne.key),ne)!R.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(ce[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=oe;else if(1<Ie){for(var Le=Array(Ie),kt=0;kt<Ie;kt++)Le[kt]=arguments[kt+2];ce.children=Le}return C(j.type,we,ce)},Ae.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Ae.createElement=function(j,ne,oe){var ce,we={},Ie=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ie=""+ne.key),ne)R.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ne[ce]);var Le=arguments.length-2;if(Le===1)we.children=oe;else if(1<Le){for(var kt=Array(Le),lt=0;lt<Le;lt++)kt[lt]=arguments[lt+2];we.children=kt}if(j&&j.defaultProps)for(ce in Le=j.defaultProps,Le)we[ce]===void 0&&(we[ce]=Le[ce]);return C(j,Ie,we)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:m,render:j}},Ae.isValidElement=M,Ae.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:ye}},Ae.memo=function(j,ne){return{$$typeof:p,type:j,compare:ne===void 0?null:ne}},Ae.startTransition=function(j){var ne=N.T,oe={};N.T=oe;try{var ce=j(),we=N.S;we!==null&&we(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(be,Be)}catch(Ie){Be(Ie)}finally{ne!==null&&oe.types!==null&&(ne.types=oe.types),N.T=ne}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(j){return N.H.use(j)},Ae.useActionState=function(j,ne,oe){return N.H.useActionState(j,ne,oe)},Ae.useCallback=function(j,ne){return N.H.useCallback(j,ne)},Ae.useContext=function(j){return N.H.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j,ne){return N.H.useDeferredValue(j,ne)},Ae.useEffect=function(j,ne){return N.H.useEffect(j,ne)},Ae.useEffectEvent=function(j){return N.H.useEffectEvent(j)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(j,ne,oe){return N.H.useImperativeHandle(j,ne,oe)},Ae.useInsertionEffect=function(j,ne){return N.H.useInsertionEffect(j,ne)},Ae.useLayoutEffect=function(j,ne){return N.H.useLayoutEffect(j,ne)},Ae.useMemo=function(j,ne){return N.H.useMemo(j,ne)},Ae.useOptimistic=function(j,ne){return N.H.useOptimistic(j,ne)},Ae.useReducer=function(j,ne,oe){return N.H.useReducer(j,ne,oe)},Ae.useRef=function(j){return N.H.useRef(j)},Ae.useState=function(j){return N.H.useState(j)},Ae.useSyncExternalStore=function(j,ne,oe){return N.H.useSyncExternalStore(j,ne,oe)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.3",Ae}var uE;function Rp(){return uE||(uE=1,Sm.exports=K1()),Sm.exports}var P=Rp();const $l=uT(P);var Am={exports:{}},Fl={},Rm={exports:{}},Cm={};var cE;function Y1(){return cE||(cE=1,(function(i){function e(J,ae){var ye=J.length;J.push(ae);e:for(;0<ye;){var Be=ye-1>>>1,Ke=J[Be];if(0<o(Ke,ae))J[Be]=ae,J[ye]=Ke,ye=Be;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],ye=J.pop();if(ye!==ae){J[0]=ye;e:for(var Be=0,Ke=J.length,j=Ke>>>1;Be<j;){var ne=2*(Be+1)-1,oe=J[ne],ce=ne+1,we=J[ce];if(0>o(oe,ye))ce<Ke&&0>o(we,oe)?(J[Be]=we,J[ce]=ye,Be=ce):(J[Be]=oe,J[ne]=ye,Be=ne);else if(ce<Ke&&0>o(we,ye))J[Be]=we,J[ce]=ye,Be=ce;else break e}}return ae}function o(J,ae){var ye=J.sortIndex-ae.sortIndex;return ye!==0?ye:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,w=null,A=3,V=!1,K=!1,D=!1,k=!1,Q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=J)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function Te(J){if(D=!1,ge(J),!K)if(n(g)!==null)K=!0,be||(be=!0,z());else{var ae=n(p);ae!==null&&jt(Te,ae.startTime-J)}}var be=!1,N=-1,R=5,C=-1;function U(){return k?!0:!(i.unstable_now()-C<R)}function M(){if(k=!1,be){var J=i.unstable_now();C=J;var ae=!0;try{e:{K=!1,D&&(D=!1,te(N),N=-1),V=!0;var ye=A;try{t:{for(ge(J),w=n(g);w!==null&&!(w.expirationTime>J&&U());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,A=w.priorityLevel;var Ke=Be(w.expirationTime<=J);if(J=i.unstable_now(),typeof Ke=="function"){w.callback=Ke,ge(J),ae=!0;break t}w===n(g)&&s(g),ge(J)}else s(g);w=n(g)}if(w!==null)ae=!0;else{var j=n(p);j!==null&&jt(Te,j.startTime-J),ae=!1}}break e}finally{w=null,A=ye,V=!1}ae=void 0}}finally{ae?z():be=!1}}}var z;if(typeof re=="function")z=function(){re(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=M,z=function(){ot.postMessage(null)}}else z=function(){Q(M,0)};function jt(J,ae){N=Q(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(J){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ye=A;A=ae;try{return J()}finally{A=ye}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=A;A=J;try{return ae()}finally{A=ye}},i.unstable_scheduleCallback=function(J,ae,ye){var Be=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,J){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,J={id:T++,callback:ae,priorityLevel:J,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Be?(J.sortIndex=ye,e(p,J),n(g)===null&&J===n(p)&&(D?(te(N),N=-1):D=!0,jt(Te,ye-Be))):(J.sortIndex=Ke,e(g,J),K||V||(K=!0,be||(be=!0,z()))),J},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(J){var ae=A;return function(){var ye=A;A=ae;try{return J.apply(this,arguments)}finally{A=ye}}}})(Cm)),Cm}var hE;function Q1(){return hE||(hE=1,Rm.exports=Y1()),Rm.exports}var xm={exports:{}},tn={};var fE;function X1(){if(fE)return tn;fE=1;var i=Rp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},tn.flushSync=function(g){var p=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=T,s.d.f()}},tn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},tn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},tn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,V=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:V}):T==="script"&&s.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:V,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},tn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},tn.requestFormReset=function(g){s.d.r(g)},tn.unstable_batchedUpdates=function(g,p){return g(p)},tn.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var dE;function J1(){if(dE)return xm.exports;dE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=X1(),xm.exports}var mE;function W1(){if(mE)return Fl;mE=1;var i=Q1(),e=Rp(),n=J1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case Q:return"Profiler";case k:return"StrictMode";case Te:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case ge:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ot(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return ot(t(r))}catch{}}return null}var jt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function j(t){return{current:t}}function ne(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function oe(t,r){Ke++,Be[Ke]=t.current,t.current=r}var ce=j(null),we=j(null),Ie=j(null),Le=j(null);function kt(t,r){switch(oe(Ie,r),oe(we,t),oe(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Iv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Iv(r),t=Nv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ce),oe(ce,t)}function lt(){ne(ce),ne(we),ne(Ie)}function As(t){t.memoizedState!==null&&oe(Le,t);var r=ce.current,a=Nv(r,t.type);r!==a&&(oe(we,t),oe(ce,a))}function ya(t){we.current===t&&(ne(ce),ne(we)),Le.current===t&&(ne(Le),Ul._currentValue=ye)}var _a,va;function hi(t){if(_a===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);_a=r&&r[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var Uo=!1;function Rs(t,r){if(!t||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var H=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){H=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var I=v.split(`
`),q=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Po(t,r){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==r&&r!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return hi("Activity");default:return""}}function Lo(t){try{var r="",a=null;do r+=Po(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Ut=i.unstable_scheduleCallback,Ar=i.unstable_cancelCallback,Af=i.unstable_shouldYield,Uu=i.unstable_requestPaint,on=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,zo=i.unstable_ImmediatePriority,Bo=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,Rf=i.unstable_LowPriority,Pu=i.unstable_IdlePriority,Lu=i.log,zu=i.unstable_setDisableYieldValue,Kn=null,Ht=null;function Mn(t){if(typeof Lu=="function"&&zu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,t)}catch{}}var pt=Math.clz32?Math.clz32:Fu,Bu=Math.log,Ea=Math.LN2;function Fu(t){return t>>>=0,t===0?32:31-(Bu(t)/Ea|0)|0}var fi=256,xs=262144,wt=4194304;function di(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=di(l):(v&=b,v!==0?f=di(v):a||(a=b&~t,a!==0&&(f=di(a))))):(b=l&~d,b!==0?f=di(b):v!==0?f=di(v):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Yn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Cf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function pi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Is(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xf(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-pt(a),ee=1<<X;b[X]=0,I[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var Y=H[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Ns(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Ns(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function qo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ds(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $u(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Zv(t.type))}function Qn(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var Xn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Xn,Bt="__reactProps$"+Xn,gi="__reactContainer$"+Xn,Ta="__reactEvents$"+Xn,If="__reactListeners$"+Xn,Hu="__reactHandles$"+Xn,Gu="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function wa(t){delete t[bt],delete t[Bt],delete t[Ta],delete t[If],delete t[Hu]}function _i(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gi]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Uv(t);t!==null;){if(a=t[bt])return a;t=Uv(t)}return r}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[bt]||t[gi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function En(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function vi(t){var r=t[Gu];return r||(r=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[yi]=!0}var $o=new Set,Ho={};function Ei(t,r){Ti(t,r),Ti(t+"Capture",r)}function Ti(t,r){for(Ho[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Yo={};function Ku(t){return Tt.call(Yo,t)?!0:Tt.call(Ko,t)?!1:Go.test(t)?Yo[t]=!0:(Ko[t]=!0,!1)}function ba(t,r,a){if(Ku(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Tn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Cr(t)?"checked":"value";t._valueTracker=Qo(t,r,""+t[r])}}function Os(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function cn(t){return t.replace(Ms,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sa(t,r,a,l,f,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ft(r)):t.value!==""+Ft(r)&&(t.value=""+Ft(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Xo(t,v,Ft(r)):a!=null?Xo(t,v,Ft(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ft(b):t.removeAttribute("name")}function Yu(t,r,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+Ft(a):"",r=r!=null?""+Ft(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Xo(t,r,a){r==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Qu(t,r,a){if(r!=null&&(r=""+Ft(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ft(a):""}function Ir(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(jt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ft(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Xu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Wo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Jo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Jo(t,d,r[d])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Nr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Zo=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,bi=null;function Vs(t){var r=Vn(t);if(r&&(t=r.stateNode)){var a=t[Bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Bt]||null;if(!f)throw Error(s(90));Sa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Os(l)}break e;case"textarea":Qu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xr(t,!!a.multiple,r,!1)}}}var Ca=!1;function Or(t,r,a){if(Ca)return t(r,a);Ca=!0;try{var l=t(r);return l}finally{if(Ca=!1,(Dr!==null||bi!==null)&&($c(),Dr&&(r=Dr,t=bi,bi=Dr=null,Vs(r),t)))for(r=0;r<t.length;r++)Vs(t[r])}}function Wn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){js=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{js=!1}var Si=null,el=null,ks=null;function tl(){if(ks)return ks;var t,r=el,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return ks=f.slice(t,1<l?1-l:void 0)}function Us(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function Zn(){return!1}function Gt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:Zn,this.isPropagationStopped=Zn,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Gt(Qi),Mr=w({},Qi,{view:0,detail:0}),nl=Gt(Mr),Vr,xa,Ri,Ia=w({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Vr=t.screenX-Ri.screenX,xa=t.screenY-Ri.screenY):xa=Vr=0,Ri=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),il=Gt(Ia),Ps=w({},Ia,{dataTransfer:0}),Wu=Gt(Ps),Zu=w({},Mr,{relatedTarget:0}),Ls=Gt(Zu),rl=w({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ec=Gt(rl),Na=w({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tc=Gt(Na),nc=w({},Qi,{data:0}),Ci=Gt(nc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=sc[t])?!!r[t]:!1}function jr(){return ac}var ln=w({},Mr,{key:function(t){if(t.key){var r=ic[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oc=Gt(ln),lc=w({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Gt(lc),c=w({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),_=Gt(c),E=w({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(E),B=w({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Gt(B),se=w({},Qi,{newState:0,oldState:0}),Ce=Gt(se),gt=[9,13,27,32],$e=kn&&"CompositionEvent"in window,ut=null;kn&&"documentMode"in document&&(ut=document.documentMode);var Un=kn&&"TextEvent"in window&&!ut,xi=kn&&(!$e||ut&&8<ut&&11>=ut),ei=" ",ti=!1;function zs(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function pS(t,r){switch(t){case"compositionend":return Da(r);case"keypress":return r.which!==32?null:(ti=!0,ei);case"textInput":return t=r.data,t===ei&&ti?null:t;default:return null}}function gS(t,r){if(Oa)return t==="compositionend"||!$e&&zs(t,r)?(t=tl(),ks=el=Si=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xi&&r.locale!=="ko"?null:r.data;default:return null}}var yS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!yS[t.type]:r==="textarea"}function Bg(t,r,a,l){Dr?bi?bi.push(l):bi=[l]:Dr=l,r=Jc(r,"onChange"),0<r.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var sl=null,al=null;function _S(t){bv(t,0)}function uc(t){var r=En(t);if(Os(r))return t}function Fg(t,r){if(t==="change")return r}var qg=!1;if(kn){var Nf;if(kn){var Df="oninput"in document;if(!Df){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),Df=typeof $g.oninput=="function"}Nf=Df}else Nf=!1;qg=Nf&&(!document.documentMode||9<document.documentMode)}function Hg(){sl&&(sl.detachEvent("onpropertychange",Gg),al=sl=null)}function Gg(t){if(t.propertyName==="value"&&uc(al)){var r=[];Bg(r,al,t,jn(t)),Or(_S,r)}}function vS(t,r,a){t==="focusin"?(Hg(),sl=r,al=a,sl.attachEvent("onpropertychange",Gg)):t==="focusout"&&Hg()}function ES(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(al)}function TS(t,r){if(t==="click")return uc(r)}function wS(t,r){if(t==="input"||t==="change")return uc(r)}function bS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var wn=typeof Object.is=="function"?Object.is:bS;function ol(t,r){if(wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(r,f)||!wn(t[f],r[f]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,r){var a=Kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Qg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Qg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=wi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=wi(t.document)}return r}function Of(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var SS=kn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Mf=null,ll=null,Vf=!1;function Jg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||Ma==null||Ma!==wi(l)||(l=Ma,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Jc(Mf,"onSelect"),0<l.length&&(r=new Ai("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function Bs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Va={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},jf={},Wg={};kn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Fs(t){if(jf[t])return jf[t];if(!Va[t])return t;var r=Va[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return jf[t]=r[a];return t}var Zg=Fs("animationend"),ey=Fs("animationiteration"),ty=Fs("animationstart"),AS=Fs("transitionrun"),RS=Fs("transitionstart"),CS=Fs("transitioncancel"),ny=Fs("transitionend"),iy=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function ni(t,r){iy.set(t,r),Ei(r,[t])}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],ja=0,Uf=0;function hc(){for(var t=ja,r=Uf=ja=0;r<t;){var a=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&ry(a,f,d)}}function fc(t,r,a,l){Pn[ja++]=t,Pn[ja++]=r,Pn[ja++]=a,Pn[ja++]=l,Uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,r,a,l){return fc(t,r,a,l),dc(t)}function qs(t,r){return fc(t,null,null,r),dc(t)}function ry(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function dc(t){if(50<Nl)throw Nl=0,Kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ka={};function xS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,l){return new xS(t,r,a,l)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function mc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Lf(t)&&(v=1);else if(typeof t=="string")v=M1(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=bn(31,a,r,f),t.elementType=C,t.lanes=d,t;case D:return $s(a.children,f,d,r);case k:v=8,f|=24;break;case Q:return t=bn(12,a,r,f|2),t.elementType=Q,t.lanes=d,t;case Te:return t=bn(13,a,r,f),t.elementType=Te,t.lanes=d,t;case be:return t=bn(19,a,r,f),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case te:v=9;break e;case ge:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=bn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function $s(t,r,a,l){return t=bn(7,t,l,r),t.lanes=a,t}function zf(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function ay(t){var r=bn(18,null,null,0);return r.stateNode=t,r}function Bf(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var oy=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=oy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Lo(r)},oy.set(t,r),r)}return{value:t,source:r,stack:Lo(r)}}var Ua=[],Pa=0,pc=null,ul=0,zn=[],Bn=0,kr=null,Ii=1,Ni="";function Wi(t,r){Ua[Pa++]=ul,Ua[Pa++]=pc,pc=t,ul=r}function ly(t,r,a){zn[Bn++]=Ii,zn[Bn++]=Ni,zn[Bn++]=kr,kr=t;var l=Ii;t=Ni;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ii=1<<32-pt(r)+f|a<<f|l,Ni=d+t}else Ii=1<<d|a<<f|l,Ni=t}function Ff(t){t.return!==null&&(Wi(t,1),ly(t,1,0))}function qf(t){for(;t===pc;)pc=Ua[--Pa],Ua[Pa]=null,ul=Ua[--Pa],Ua[Pa]=null;for(;t===kr;)kr=zn[--Bn],zn[Bn]=null,Ni=zn[--Bn],zn[Bn]=null,Ii=zn[--Bn],zn[Bn]=null}function uy(t,r){zn[Bn++]=Ii,zn[Bn++]=Ni,zn[Bn++]=kr,Ii=r.id,Ni=r.overflow,kr=t}var Kt=null,it=null,Pe=!1,Ur=null,Fn=!1,$f=Error(s(519));function Pr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Ln(r,t)),$f}function cy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[Bt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Oe(Ol[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Yu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Ir(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Cv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Jn),r=!0):r=!1,r||Pr(t,!0)}function hy(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Kt=Kt.return}}function La(t){if(t!==Kt)return!1;if(!Pe)return hy(t),Pe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lm(t.type,t.memoizedProps)),a=!a),a&&it&&Pr(t),hy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=kv(t)}else r===27?(r=it,Wr(t.type)?(t=dm,dm=null,it=t):it=r):it=Kt?$n(t.stateNode.nextSibling):null;return!0}function Hs(){it=Kt=null,Pe=!1}function Hf(){var t=Ur;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ur=null),t}function cl(t){Ur===null?Ur=[t]:Ur.push(t)}var Gf=j(null),Gs=null,Zi=null;function Lr(t,r,a){oe(Gf,r._currentValue),r._currentValue=a}function er(t){t._currentValue=Gf.current,ne(Gf)}function Kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Yf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Kf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Kf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function za(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;wn(f.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(f===Le.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}f=f.return}t!==null&&Yf(r,t,a,l),r.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Gs=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return fy(Gs,t)}function yc(t,r){return Gs===null&&Ks(t),fy(t,r)}function fy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zi=Zi.next=r;return a}var IS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},NS=i.unstable_scheduleCallback,DS=i.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new IS,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&NS(DS,function(){t.controller.abort()})}var fl=null,Xf=0,Ba=0,Fa=null;function OS(t,r){if(fl===null){var a=fl=[];Xf=0,Ba=Zd(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xf++,r.then(dy,dy),r}function dy(){if(--Xf===0&&fl!==null){Fa!==null&&(Fa.status="fulfilled");var t=fl;fl=null,Ba=0,Fa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function MS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=J.S;J.S=function(t,r){J_=on(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&OS(t,r),my!==null&&my(t,r)};var Ys=j(null);function Jf(){var t=Ys.current;return t!==null?t:tt.pooledCache}function _c(t,r){r===null?oe(Ys,Ys.current):oe(Ys,r.pool)}function py(){var t=Jf();return t===null?null:{parent:Rt._currentValue,pool:t}}var qa=Error(s(460)),Wf=Error(s(474)),vc=Error(s(542)),Ec={then:function(){}};function gy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Jn,Jn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vy(t),t;default:if(typeof r.status=="string")r.then(Jn,Jn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vy(t),t}throw Xs=r,qa}}function Qs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,qa):a}}var Xs=null;function _y(){if(Xs===null)throw Error(s(459));var t=Xs;return Xs=null,t}function vy(t){if(t===qa||t===vc)throw Error(s(483))}var $a=null,dl=0;function Tc(t){var r=dl;return dl+=1,$a===null&&($a=[]),yy($a,t,r)}function ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function wc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ey(t){function r(L,O){if(t){var F=L.deletions;F===null?(L.deletions=[O],L.flags|=16):F.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Ji(L,O),L.index=0,L.sibling=null,L}function d(L,O,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<O?(L.flags|=67108866,O):F):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,F,W){return O===null||O.tag!==6?(O=zf(F,L.mode,W),O.return=L,O):(O=f(O,F),O.return=L,O)}function I(L,O,F,W){var me=F.type;return me===D?X(L,O,F.props.children,W,F.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qs(me)===O.type)?(O=f(O,F.props),ml(O,F),O.return=L,O):(O=mc(F.type,F.key,F.props,null,L.mode,W),ml(O,F),O.return=L,O)}function q(L,O,F,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Bf(F,L.mode,W),O.return=L,O):(O=f(O,F.children||[]),O.return=L,O)}function X(L,O,F,W,me){return O===null||O.tag!==7?(O=$s(F,L.mode,W,me),O.return=L,O):(O=f(O,F),O.return=L,O)}function ee(L,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zf(""+O,L.mode,F),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return F=mc(O.type,O.key,O.props,null,L.mode,F),ml(F,O),F.return=L,F;case K:return O=Bf(O,L.mode,F),O.return=L,O;case R:return O=Qs(O),ee(L,O,F)}if(jt(O)||z(O))return O=$s(O,L.mode,F,null),O.return=L,O;if(typeof O.then=="function")return ee(L,Tc(O),F);if(O.$$typeof===re)return ee(L,yc(L,O),F);wc(L,O)}return null}function H(L,O,F,W){var me=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return me!==null?null:b(L,O,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return F.key===me?I(L,O,F,W):null;case K:return F.key===me?q(L,O,F,W):null;case R:return F=Qs(F),H(L,O,F,W)}if(jt(F)||z(F))return me!==null?null:X(L,O,F,W,null);if(typeof F.then=="function")return H(L,O,Tc(F),W);if(F.$$typeof===re)return H(L,O,yc(L,F),W);wc(L,F)}return null}function Y(L,O,F,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(F)||null,b(O,L,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return L=L.get(W.key===null?F:W.key)||null,I(O,L,W,me);case K:return L=L.get(W.key===null?F:W.key)||null,q(O,L,W,me);case R:return W=Qs(W),Y(L,O,F,W,me)}if(jt(W)||z(W))return L=L.get(F)||null,X(O,L,W,me,null);if(typeof W.then=="function")return Y(L,O,F,Tc(W),me);if(W.$$typeof===re)return Y(L,O,F,yc(O,W),me);wc(O,W)}return null}function fe(L,O,F,W){for(var me=null,Fe=null,de=O,Ne=O=0,Ve=null;de!==null&&Ne<F.length;Ne++){de.index>Ne?(Ve=de,de=null):Ve=de.sibling;var qe=H(L,de,F[Ne],W);if(qe===null){de===null&&(de=Ve);break}t&&de&&qe.alternate===null&&r(L,de),O=d(qe,O,Ne),Fe===null?me=qe:Fe.sibling=qe,Fe=qe,de=Ve}if(Ne===F.length)return a(L,de),Pe&&Wi(L,Ne),me;if(de===null){for(;Ne<F.length;Ne++)de=ee(L,F[Ne],W),de!==null&&(O=d(de,O,Ne),Fe===null?me=de:Fe.sibling=de,Fe=de);return Pe&&Wi(L,Ne),me}for(de=l(de);Ne<F.length;Ne++)Ve=Y(de,L,Ne,F[Ne],W),Ve!==null&&(t&&Ve.alternate!==null&&de.delete(Ve.key===null?Ne:Ve.key),O=d(Ve,O,Ne),Fe===null?me=Ve:Fe.sibling=Ve,Fe=Ve);return t&&de.forEach(function(is){return r(L,is)}),Pe&&Wi(L,Ne),me}function _e(L,O,F,W){if(F==null)throw Error(s(151));for(var me=null,Fe=null,de=O,Ne=O=0,Ve=null,qe=F.next();de!==null&&!qe.done;Ne++,qe=F.next()){de.index>Ne?(Ve=de,de=null):Ve=de.sibling;var is=H(L,de,qe.value,W);if(is===null){de===null&&(de=Ve);break}t&&de&&is.alternate===null&&r(L,de),O=d(is,O,Ne),Fe===null?me=is:Fe.sibling=is,Fe=is,de=Ve}if(qe.done)return a(L,de),Pe&&Wi(L,Ne),me;if(de===null){for(;!qe.done;Ne++,qe=F.next())qe=ee(L,qe.value,W),qe!==null&&(O=d(qe,O,Ne),Fe===null?me=qe:Fe.sibling=qe,Fe=qe);return Pe&&Wi(L,Ne),me}for(de=l(de);!qe.done;Ne++,qe=F.next())qe=Y(de,L,Ne,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ne:qe.key),O=d(qe,O,Ne),Fe===null?me=qe:Fe.sibling=qe,Fe=qe);return t&&de.forEach(function($1){return r(L,$1)}),Pe&&Wi(L,Ne),me}function et(L,O,F,W){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case V:e:{for(var me=F.key;O!==null;){if(O.key===me){if(me=F.type,me===D){if(O.tag===7){a(L,O.sibling),W=f(O,F.props.children),W.return=L,L=W;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qs(me)===O.type){a(L,O.sibling),W=f(O,F.props),ml(W,F),W.return=L,L=W;break e}a(L,O);break}else r(L,O);O=O.sibling}F.type===D?(W=$s(F.props.children,L.mode,W,F.key),W.return=L,L=W):(W=mc(F.type,F.key,F.props,null,L.mode,W),ml(W,F),W.return=L,L=W)}return v(L);case K:e:{for(me=F.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(L,O.sibling),W=f(O,F.children||[]),W.return=L,L=W;break e}else{a(L,O);break}else r(L,O);O=O.sibling}W=Bf(F,L.mode,W),W.return=L,L=W}return v(L);case R:return F=Qs(F),et(L,O,F,W)}if(jt(F))return fe(L,O,F,W);if(z(F)){if(me=z(F),typeof me!="function")throw Error(s(150));return F=me.call(F),_e(L,O,F,W)}if(typeof F.then=="function")return et(L,O,Tc(F),W);if(F.$$typeof===re)return et(L,O,yc(L,F),W);wc(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(L,O.sibling),W=f(O,F),W.return=L,L=W):(a(L,O),W=zf(F,L.mode,W),W.return=L,L=W),v(L)):a(L,O)}return function(L,O,F,W){try{dl=0;var me=et(L,O,F,W);return $a=null,me}catch(de){if(de===qa||de===vc)throw de;var Fe=bn(29,de,null,L.mode);return Fe.lanes=W,Fe.return=L,Fe}}}var Js=Ey(!0),Ty=Ey(!1),zr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=dc(t),ry(t,null,a),r}return fc(t,l,r,a),dc(t)}function pl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function td(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var nd=!1;function gl(){if(nd){var t=Fa;if(t!==null)throw t}}function yl(t,r,a,l){nd=!1;var f=t.updateQueue;zr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==v&&(b===null?X.firstBaseUpdate=q:b.next=q,X.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;v=0,X=q=I=null,b=d;do{var H=b.lane&-536870913,Y=H!==b.lane;if(Y?(Me&H)===H:(l&H)===H){H!==0&&H===Ba&&(nd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,_e=b;H=r;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(et,ee,H);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,H=typeof fe=="function"?fe.call(et,ee,H):fe,H==null)break e;ee=w({},ee,H);break e;case 2:zr=!0}}H=b.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(q=X=Y,I=ee):X=X.next=Y,v|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Kr|=v,t.lanes=v,t.memoizedState=ee}}function wy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function by(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wy(a[t],r)}var Ha=j(null),bc=j(0);function Sy(t,r){t=ur,oe(bc,t),oe(Ha,r),ur=t|r.baseLanes}function id(){oe(bc,ur),oe(Ha,Ha.current)}function rd(){ur=bc.current,ne(Ha),ne(bc)}var Sn=j(null),qn=null;function qr(t){var r=t.alternate;oe(yt,yt.current&1),oe(Sn,t),qn===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(qn=t)}function sd(t){oe(yt,yt.current),oe(Sn,t),qn===null&&(qn=t)}function Ay(t){t.tag===22?(oe(yt,yt.current),oe(Sn,t),qn===null&&(qn=t)):$r()}function $r(){oe(yt,yt.current),oe(Sn,Sn.current)}function An(t){ne(Sn),qn===t&&(qn=null),ne(yt)}var yt=j(0);function Sc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hm(a)||fm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tr=0,xe=null,We=null,Ct=null,Ac=!1,Ga=!1,Ws=!1,Rc=0,_l=0,Ka=null,VS=0;function dt(){throw Error(s(321))}function ad(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!wn(t[a],r[a]))return!1;return!0}function od(t,r,a,l,f,d){return tr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?l_:wd,Ws=!1,d=a(l,f),Ws=!1,Ga&&(d=Cy(r,a,l,f)),Ry(t),d}function Ry(t){J.H=Tl;var r=We!==null&&We.next!==null;if(tr=0,Ct=We=xe=null,Ac=!1,_l=0,Ka=null,r)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&gc(t)&&(xt=!0))}function Cy(t,r,a,l){xe=t;var f=0;do{if(Ga&&(Ka=null),_l=0,Ga=!1,25<=f)throw Error(s(301));if(f+=1,Ct=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=u_,d=r(a,l)}while(Ga);return d}function jS(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?vl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),r}function ld(){var t=Rc!==0;return Rc=0,t}function ud(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function cd(t){if(Ac){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ac=!1}tr=0,Ct=We=xe=null,Ga=!1,_l=Rc=0,Ka=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Ct===null?xe.memoizedState:Ct.next;if(r!==null)Ct=r,We=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var r=_l;return _l+=1,Ka===null&&(Ka=[]),t=yy(Ka,t,r),r=xe,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?l_:wd),t}function xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===re)return Yt(t)}throw Error(s(438,String(t)))}function hd(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Cc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=U;return r.index++,a}function nr(t,r){return typeof r=="function"?r(t):r}function Ic(t){var r=_t();return fd(r,We,t)}function fd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=v=null,I=null,q=r,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Me&ee)===ee:(tr&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ba&&(X=!0);else if((tr&H)===H){q=q.next,H===Ba&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=ee,v=d):I=I.next=ee,xe.lanes|=H,Kr|=H;ee=q.action,Ws&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=H,v=d):I=I.next=H,xe.lanes|=ee,Kr|=ee;q=q.next}while(q!==null&&q!==r);if(I===null?v=d:I.next=b,!wn(d,t.memoizedState)&&(xt=!0,X&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dd(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);wn(d,r.memoizedState)||(xt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function xy(t,r,a){var l=xe,f=_t(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!wn((We||f).memoizedState,a);if(v&&(f.memoizedState=a,xt=!0),f=f.queue,gd(Dy.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Ny.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(tr&127)!==0||Iy(l,r,a)}return a}function Iy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Cc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ny(t,r,a,l){r.value=a,r.getSnapshot=l,Oy(r)&&My(t)}function Dy(t,r,a){return a(function(){Oy(r)&&My(t)})}function Oy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!wn(t,a)}catch{return!0}}function My(t){var r=qs(t,2);r!==null&&gn(r,t,2)}function md(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),Ws){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},r}function Vy(t,r,a,l){return t.baseState=a,fd(t,We,typeof l=="function"?l:nr)}function kS(t,r,a,l,f){if(Oc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,jy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function jy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=J.T,v={};J.T=v;try{var b=a(f,l),I=J.S;I!==null&&I(v,b),ky(t,r,b)}catch(q){pd(t,r,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),J.T=d}}else try{d=a(f,l),ky(t,r,d)}catch(q){pd(t,r,q)}}function ky(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(t,r,l)},function(l){return pd(t,r,l)}):Uy(t,r,a)}function Uy(t,r,a){r.status="fulfilled",r.value=a,Py(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,jy(t,a)))}function pd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Py(r),r=r.next;while(r!==l)}t.action=null}function Py(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ly(t,r){return r}function zy(t,r){if(Pe){var a=tt.formState;if(a!==null){e:{var l=xe;if(Pe){if(it){t:{for(var f=it,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=$n(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:r},a.queue=l,a=s_.bind(null,xe,l),l.dispatch=a,l=md(!1),d=Td.bind(null,xe,!1,l.queue),l=un(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=kS.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function By(t){var r=_t();return Fy(r,We,t)}function Fy(t,r,a){if(r=fd(t,r,Ly)[0],t=Ic(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(v){throw v===qa?vc:v}else l=r;r=_t();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Ya(9,{destroy:void 0},US.bind(null,f,a),null)),[l,d,t]}function US(t,r){t.action=r}function qy(t){var r=_t(),a=We;if(a!==null)return Fy(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ya(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Cc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function $y(){return _t().memoizedState}function Nc(t,r,a,l){var f=un();xe.flags|=t,f.memoizedState=Ya(1|r,{destroy:void 0},a,l===void 0?null:l)}function Dc(t,r,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&ad(l,We.memoizedState.deps)?f.memoizedState=Ya(r,d,a,l):(xe.flags|=t,f.memoizedState=Ya(1|r,d,a,l))}function Hy(t,r){Nc(8390656,8,t,r)}function gd(t,r){Dc(2048,8,t,r)}function PS(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Cc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Gy(t){var r=_t().memoizedState;return PS({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ky(t,r){return Dc(4,2,t,r)}function Yy(t,r){return Dc(4,4,t,r)}function Qy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Xy(t,r,a){a=a!=null?a.concat([t]):null,Dc(4,4,Qy.bind(null,r,t),a)}function yd(){}function Jy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ad(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Wy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ad(r,l[1]))return l[0];if(l=t(),Ws){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function _d(t,r,a){return a===void 0||(tr&1073741824)!==0&&(Me&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Z_(),xe.lanes|=t,Kr|=t,a)}function Zy(t,r,a,l){return wn(a,r)?a:Ha.current!==null?(t=_d(t,a,l),wn(t,r)||(xt=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(Me&261930)===0?(xt=!0,t.memoizedState=a):(t=Z_(),xe.lanes|=t,Kr|=t,r)}function e_(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=J.T,b={};J.T=b,Td(t,!1,r,a);try{var I=f(),q=J.S;if(q!==null&&q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=MS(I,l);El(t,r,X,xn(t))}else El(t,r,l,xn(t))}catch(ee){El(t,r,{then:function(){},status:"rejected",reason:ee},xn())}finally{ae.p=d,v!==null&&b.types!==null&&(v.types=b.types),J.T=v}}function LS(){}function vd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=t_(t).queue;e_(t,f,r,ye,a===null?LS:function(){return n_(t),a(l)})}function t_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function n_(t){var r=t_(t);r.next===null&&(r=t.alternate.memoizedState),El(t,r.next.queue,{},xn())}function Ed(){return Yt(Ul)}function i_(){return _t().memoizedState}function r_(){return _t().memoizedState}function zS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();t=Br(a);var l=Fr(r,t,a);l!==null&&(gn(l,r,a),pl(l,r,a)),r={cache:Qf()},t.payload=r;return}r=r.return}}function BS(t,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(t)?a_(r,a):(a=Pf(t,r,a,l),a!==null&&(gn(a,t,l),o_(a,r,l)))}function s_(t,r,a){var l=xn();El(t,r,a,l)}function El(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(t))a_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,wn(b,v))return fc(t,r,f,0),tt===null&&hc(),!1}catch{}if(a=Pf(t,r,f,l),a!==null)return gn(a,t,l),o_(a,r,l),!0}return!1}function Td(t,r,a,l){if(l={lane:2,revertLane:Zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Oc(t)){if(r)throw Error(s(479))}else r=Pf(t,a,l,2),r!==null&&gn(r,t,2)}function Oc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function a_(t,r){Ga=Ac=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function o_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var Tl={readContext:Yt,use:xc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Tl.useEffectEvent=dt;var l_={readContext:Yt,use:xc,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Hy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,Qy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Nc(4194308,4,t,r)},useInsertionEffect:function(t,r){Nc(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(Ws){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var f=a(r);if(Ws){Mn(!0);try{a(r)}finally{Mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=BS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=md(t);var r=t.queue,a=s_.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(t,r){var a=un();return _d(a,t,r)},useTransition:function(){var t=md(!1);return t=e_.bind(null,xe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,f=un();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Me&127)!==0||Iy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Hy(Dy.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},Ny.bind(null,l,d,a,r),null),a},useId:function(){var t=un(),r=tt.identifierPrefix;if(Pe){var a=Ni,l=Ii;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Rc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=VS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ed,useFormState:zy,useActionState:zy,useOptimistic:function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:hd,useCacheRefresh:function(){return un().memoizedState=zS.bind(null,xe)},useEffectEvent:function(t){var r=un(),a={impl:t};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wd={readContext:Yt,use:xc,useCallback:Jy,useContext:Yt,useEffect:gd,useImperativeHandle:Xy,useInsertionEffect:Ky,useLayoutEffect:Yy,useMemo:Wy,useReducer:Ic,useRef:$y,useState:function(){return Ic(nr)},useDebugValue:yd,useDeferredValue:function(t,r){var a=_t();return Zy(a,We.memoizedState,t,r)},useTransition:function(){var t=Ic(nr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:xy,useId:i_,useHostTransitionStatus:Ed,useFormState:By,useActionState:By,useOptimistic:function(t,r){var a=_t();return Vy(a,We,t,r)},useMemoCache:hd,useCacheRefresh:r_};wd.useEffectEvent=Gy;var u_={readContext:Yt,use:xc,useCallback:Jy,useContext:Yt,useEffect:gd,useImperativeHandle:Xy,useInsertionEffect:Ky,useLayoutEffect:Yy,useMemo:Wy,useReducer:dd,useRef:$y,useState:function(){return dd(nr)},useDebugValue:yd,useDeferredValue:function(t,r){var a=_t();return We===null?_d(a,t,r):Zy(a,We.memoizedState,t,r)},useTransition:function(){var t=dd(nr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:xy,useId:i_,useHostTransitionStatus:Ed,useFormState:qy,useActionState:qy,useOptimistic:function(t,r){var a=_t();return We!==null?Vy(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hd,useCacheRefresh:r_};u_.useEffectEvent=Gy;function bd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:w({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xn(),f=Br(l);f.payload=r,a!=null&&(f.callback=a),r=Fr(t,f,l),r!==null&&(gn(r,t,l),pl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xn(),f=Br(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fr(t,f,l),r!==null&&(gn(r,t,l),pl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xn(),l=Br(a);l.tag=2,r!=null&&(l.callback=r),r=Fr(t,l,a),r!==null&&(gn(r,t,a),pl(r,t,a))}};function c_(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!ol(a,l)||!ol(f,d):!0}function h_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Sd.enqueueReplaceState(r,r.state,null)}function Zs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function f_(t){cc(t)}function d_(t){console.error(t)}function m_(t){cc(t)}function Mc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function p_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(t,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(t,r)},a}function g_(t){return t=Br(t),t.tag=3,t}function y_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){p_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){p_(r,a,l),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function FS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&za(r,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Hc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ec?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Xd(t,l,f)),!1;case 22:return a.flags|=65536,l===Ec?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Xd(t,l,f)),!1}throw Error(s(435,a.tag))}return Xd(t,l,f),Hc(),!1}if(Pe)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==$f&&(t=Error(s(422),{cause:l}),cl(Ln(t,a)))):(l!==$f&&(r=Error(s(423),{cause:l}),cl(Ln(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=Ad(t.stateNode,l,f),td(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Il===null?Il=[d]:Il.push(d),mt!==4&&(mt=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ad(a.stateNode,l,t),td(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g_(f),y_(f,t,a,l),td(a,f),!1}a=a.return}while(a!==null);return!1}var Rd=Error(s(461)),xt=!1;function Qt(t,r,a,l){r.child=t===null?Ty(r,null,a,l):Js(r,t.child,a,l)}function __(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ks(r),l=od(t,r,a,v,d,f),b=ld(),t!==null&&!xt?(ud(t,r,f),ir(t,r,f)):(Pe&&b&&Ff(r),r.flags|=1,Qt(t,r,l,f),r.child)}function v_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Lf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,E_(t,r,d,l,f)):(t=mc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Vd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(v,l)&&t.ref===r.ref)return ir(t,r,f)}return r.flags|=1,t=Ji(d,l),t.ref=r.ref,t.return=r,r.child=t}function E_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(ol(d,l)&&t.ref===r.ref)if(xt=!1,r.pendingProps=l=d,Vd(t,f))(t.flags&131072)!==0&&(xt=!0);else return r.lanes=t.lanes,ir(t,r,f)}return Cd(t,r,a,l,f)}function T_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return w_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&_c(r,d!==null?d.cachePool:null),d!==null?Sy(r,d):id(),Ay(r);else return l=r.lanes=536870912,w_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(_c(r,d.cachePool),Sy(r,d),$r(),r.memoizedState=null):(t!==null&&_c(r,null),id(),$r());return Qt(t,r,f,a),r.child}function wl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w_(t,r,a,l,f){var d=Jf();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&_c(r,null),id(),Ay(r),t!==null&&za(t,r,l,!0),r.childLanes=f,null}function Vc(t,r){return r=kc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function b_(t,r,a){return Js(r,t.child,null,a),t=Vc(r,r.pendingProps),t.flags|=2,An(r),r.memoizedState=null,t}function qS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Vc(r,l),r.lanes=536870912,wl(null,t);if(sd(r),(t=it)?(t=jv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=r,r.child=a,Kt=r,it=null)):t=null,t===null)throw Pr(r);return r.lanes=536870912,null}return Vc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(sd(r),f)if(r.flags&256)r.flags&=-257,r=b_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(xt||za(t,r,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=tt,l!==null&&(v=qo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,qs(t,v),gn(l,t,v),Rd;Hc(),r=b_(t,r,a)}else t=d.treeContext,it=$n(v.nextSibling),Kt=r,Pe=!0,Ur=null,Fn=!1,t!==null&&uy(r,t),r=Vc(r,l),r.flags|=4096;return r}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function jc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Cd(t,r,a,l,f){return Ks(r),a=od(t,r,a,l,void 0,f),l=ld(),t!==null&&!xt?(ud(t,r,f),ir(t,r,f)):(Pe&&l&&Ff(r),r.flags|=1,Qt(t,r,a,f),r.child)}function S_(t,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=Cy(r,l,a,f),Ry(t),l=ld(),t!==null&&!xt?(ud(t,r,d),ir(t,r,d)):(Pe&&l&&Ff(r),r.flags|=1,Qt(t,r,a,d),r.child)}function A_(t,r,a,l,f){if(Ks(r),r.stateNode===null){var d=ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Zf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):ka,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sd.enqueueReplaceState(d,d.state,null),yl(r,l,d,f),gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,I=Zs(a,b);d.props=I;var q=d.context,X=a.contextType;v=ka,typeof X=="object"&&X!==null&&(v=Yt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&h_(r,d,l,v),zr=!1;var H=r.memoizedState;d.state=H,yl(r,l,d,f),gl(),q=r.memoizedState,b||H!==q||zr?(typeof ee=="function"&&(bd(r,a,ee,l),q=r.memoizedState),(I=zr||c_(r,a,I,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ed(t,r),v=r.memoizedProps,X=Zs(a,v),d.props=X,ee=r.pendingProps,H=d.context,q=a.contextType,I=ka,typeof q=="object"&&q!==null&&(I=Yt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||H!==I)&&h_(r,d,l,I),zr=!1,H=r.memoizedState,d.state=H,yl(r,l,d,f),gl();var Y=r.memoizedState;v!==ee||H!==Y||zr||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof b=="function"&&(bd(r,a,b,l),Y=r.memoizedState),(X=zr||c_(r,a,X,l,H,Y,I)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,jc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Js(r,t.child,null,f),r.child=Js(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=ir(t,r,f),t}function R_(t,r,a,l){return Hs(),r.flags|=256,Qt(t,r,a,l),r.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:py()}}function Nd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Cn),t}function C_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Pe){if(f?qr(r):$r(),(t=it)?(t=jv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=r,r.child=a,Kt=r,it=null)):t=null,t===null)throw Pr(r);return fm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?($r(),f=r.mode,b=kc({mode:"hidden",children:b},f),l=$s(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Id(a),l.childLanes=Nd(t,v,a),r.memoizedState=xd,wl(null,l)):(qr(r),Dd(r,b))}var I=t.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(qr(r),r.flags&=-257,r=Od(t,r,a)):r.memoizedState!==null?($r(),r.child=t.child,r.flags|=128,r=null):($r(),b=l.fallback,f=r.mode,l=kc({mode:"visible",children:l.children},f),b=$s(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Js(r,t.child,null,a),l=r.child,l.memoizedState=Id(a),l.childLanes=Nd(t,v,a),r.memoizedState=xd,r=wl(null,l));else if(qr(r),fm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),r=Od(t,r,a)}else if(xt||za(t,r,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=tt,v!==null&&(l=qo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,qs(t,l),gn(v,t,l),Rd;hm(b)||Hc(),r=Od(t,r,a)}else hm(b)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,it=$n(b.nextSibling),Kt=r,Pe=!0,Ur=null,Fn=!1,t!==null&&uy(r,t),r=Dd(r,l.children),r.flags|=4096);return r}return f?($r(),b=l.fallback,f=r.mode,I=t.child,q=I.sibling,l=Ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?b=Ji(q,b):(b=$s(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,wl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Id(a):(f=b.cachePool,f!==null?(I=Rt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=py(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Nd(t,v,a),r.memoizedState=xd,wl(t.child,l)):(qr(r),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Dd(t,r){return r=kc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function kc(t,r){return t=bn(22,t,null,r),t.lanes=0,t}function Od(t,r,a){return Js(r,t.child,null,a),t=Dd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function x_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Kf(t.return,r,a)}function Md(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function I_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=yt.current,b=(v&2)!==0;if(b?(v=v&1|2,r.flags|=128):v&=1,oe(yt,v),Qt(t,r,l,a),l=Pe?ul:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x_(t,a,r);else if(t.tag===19)x_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Md(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Sc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Md(r,!0,a,null,d,l);break;case"together":Md(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Kr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(za(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ji(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Vd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function $S(t,r,a){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),Lr(r,Rt,t.memoizedState.cache),Hs();break;case 27:case 5:As(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:Lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,sd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?C_(t,r,a):(qr(r),t=ir(t,r,a),t!==null?t.sibling:null);qr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(za(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return I_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return r.lanes=0,T_(t,r,a,r.pendingProps);case 24:Lr(r,Rt,t.memoizedState.cache)}return ir(t,r,a)}function N_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xt=!0;else{if(!Vd(t,a)&&(r.flags&128)===0)return xt=!1,$S(t,r,a);xt=(t.flags&131072)!==0}else xt=!1,Pe&&(r.flags&1048576)!==0&&ly(r,ul,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Qs(r.elementType),r.type=t,typeof t=="function")Lf(t)?(l=Zs(t,l),r.tag=1,r=A_(null,r,t,l,a)):(r.tag=0,r=Cd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ge){r.tag=11,r=__(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=v_(null,r,t,l,a);break e}}throw r=ot(t)||t,Error(s(306,r,""))}}return r;case 0:return Cd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Zs(l,r.pendingProps),A_(t,r,l,f,a);case 3:e:{if(kt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,ed(t,r),yl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Lr(r,Rt,l),l!==d.cache&&Yf(r,[Rt],a,!0),gl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=R_(t,r,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),r),cl(f),r=R_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=$n(t.firstChild),Kt=r,Pe=!0,Ur=null,Fn=!0,a=Ty(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hs(),l===f){r=ir(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return jc(t,r),t===null?(a=Bv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,t=r.pendingProps,l=Wc(Ie.current).createElement(a),l[bt]=r,l[Bt]=t,Xt(l,a,t),St(l),r.stateNode=l):r.memoizedState=Bv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return As(r),t===null&&Pe&&(l=r.stateNode=Pv(r.type,r.pendingProps,Ie.current),Kt=r,Fn=!0,f=it,Wr(r.type)?(dm=f,it=$n(l.firstChild)):it=f),Qt(t,r,r.pendingProps.children,a),jc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Pe&&((f=l=it)&&(l=E1(l,r.type,r.pendingProps,Fn),l!==null?(r.stateNode=l,Kt=r,it=$n(l.firstChild),Fn=!1,f=!0):f=!1),f||Pr(r)),As(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,lm(f,d)?l=null:v!==null&&lm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=od(t,r,jS,null,null,a),Ul._currentValue=f),jc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=T1(a,r.pendingProps,Fn),a!==null?(r.stateNode=a,Kt=r,it=null,t=!0):t=!1),t||Pr(r)),null;case 13:return C_(t,r,a);case 4:return kt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Js(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return __(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Lr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Yt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return v_(t,r,r.type,r.pendingProps,a);case 15:return E_(t,r,r.type,r.pendingProps,a);case 19:return I_(t,r,a);case 31:return qS(t,r,a);case 22:return T_(t,r,a,r.pendingProps);case 24:return Ks(r),l=Yt(Rt),t===null?(f=Jf(),f===null&&(f=tt,d=Qf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Zf(r),Lr(r,Rt,f)):((t.lanes&a)!==0&&(ed(t,r),yl(r,null,null,a),gl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Lr(r,Rt,l)):(l=d.cache,Lr(r,Rt,l),l!==f.cache&&Yf(r,[Rt],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(t){t.flags|=4}function jd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(iv())t.flags|=8192;else throw Xs=Ec,Wf}else t.flags&=-16777217}function D_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gv(r))if(iv())t.flags|=8192;else throw Xs=Ec,Wf}function Uc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?qu():536870912,t.lanes|=r,Wa|=r)}function bl(t,r){if(!Pe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function HS(t,r,a){var l=r.pendingProps;switch(qf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),er(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(r)?rr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hf())),rt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(rr(r),d!==null?(rt(r),D_(r,d)):(rt(r),jd(r,f,null,l,a))):d?d!==t.memoizedState?(rr(r),rt(r),D_(r,d)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(r),rt(r),jd(r,f,t,l,a)),null;case 27:if(ya(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ce.current,La(r)?cy(r):(t=Pv(f,l,a),r.stateNode=t,rr(r))}return rt(r),null;case 5:if(ya(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(d=ce.current,La(r))cy(r);else{var v=Wc(Ie.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[bt]=r,d[Bt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(r)}}return rt(r),jd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,La(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cv(t.nodeValue,a)),t||Pr(r,!0)}else t=Wc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=La(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=La(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Uc(r,r.updateQueue),rt(r),null);case 4:return lt(),t===null&&im(r.stateNode.containerInfo),rt(r),null;case 10:return er(r.type),rt(r),null;case 19:if(ne(yt),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)bl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Sc(t),d!==null){for(r.flags|=128,bl(l,!1),t=d.updateQueue,r.updateQueue=t,Uc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)sy(a,t),a=a.sibling;return oe(yt,yt.current&1|2),Pe&&Wi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&on()>Fc&&(r.flags|=128,f=!0,bl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Sc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Uc(r,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(r),null}else 2*on()-l.renderingStartTime>Fc&&a!==536870912&&(r.flags|=128,f=!0,bl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=yt.current,oe(yt,f?a&1|2:a&1),Pe&&Wi(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return An(r),rd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Uc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ne(Ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(Rt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GS(t,r){switch(qf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return er(Rt),lt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ya(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));Hs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(An(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ne(yt),null;case 4:return lt(),null;case 10:return er(r.type),null;case 22:case 23:return An(r),rd(),t!==null&&ne(Ys),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return er(Rt),null;case 25:return null;default:return null}}function O_(t,r){switch(qf(r),r.tag){case 3:er(Rt),lt();break;case 26:case 27:case 5:ya(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:ne(yt);break;case 10:er(r.type);break;case 22:case 23:An(r),rd(),t!==null&&ne(Ys);break;case 24:er(Rt)}}function Sl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){Xe(r,r.return,b)}}function Hr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=r;var I=a,q=b;try{q()}catch(X){Xe(f,I,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(r,r.return,X)}}function M_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{by(r,a)}catch(l){Xe(t,t.return,l)}}}function V_(t,r,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function Al(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function Di(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function j_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function kd(t,r,a){try{var l=t.stateNode;m1(l,t.type,a,r),l[Bt]=r}catch(f){Xe(t,t.return,f)}}function k_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wr(t.type)||t.tag===4}function Ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jn));else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Pd(t,r,a),t=t.sibling;t!==null;)Pd(t,r,a),t=t.sibling}function Pc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pc(t,r,a),t=t.sibling;t!==null;)Pc(t,r,a),t=t.sibling}function U_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xt(r,l,a),r[bt]=t,r[Bt]=a}catch(d){Xe(t,t.return,d)}}var sr=!1,It=!1,Ld=!1,P_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function KS(t,r){if(t=t.containerInfo,am=sh,t=Xg(t),Of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,q=0,X=0,ee=t,H=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(b=v+f),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)H=ee,ee=Y;for(;;){if(ee===t)break t;if(H===a&&++q===f&&(b=v),H===d&&++X===l&&(I=v),(Y=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Y}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:t,selectionRange:a},sh=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Zs(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)cm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function L_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&Sl(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var f=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&M_(a),l&512&&Al(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{by(t,r)}catch(v){Xe(a,a.return,v)}}break;case 27:r===null&&l&4&&U_(a);case 26:case 5:or(t,a),r===null&&l&4&&j_(a),l&512&&Al(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&F_(t,a);break;case 13:or(t,a),l&4&&q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=n1.bind(null,a),w1(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){r=r!==null&&r.memoizedState!==null||It,f=sr;var d=It;sr=l,(It=r)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=f,It=d}break;case 30:break;default:or(t,a)}}function z_(t){var r=t.alternate;r!==null&&(t.alternate=null,z_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&wa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function ar(t,r,a){for(a=a.child;a!==null;)B_(t,r,a),a=a.sibling}function B_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:It||Di(a,r),ar(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Di(a,r);var l=ct,f=fn;Wr(a.type)&&(ct=a.stateNode,fn=!1),ar(t,r,a),Vl(a.stateNode),ct=l,fn=f;break;case 5:It||Di(a,r);case 6:if(l=ct,f=fn,ct=null,ar(t,r,a),ct=l,fn=f,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:ct!==null&&(fn?(t=ct,Mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):Mv(ct,a.stateNode));break;case 4:l=ct,f=fn,ct=a.stateNode.containerInfo,fn=!0,ar(t,r,a),ct=l,fn=f;break;case 0:case 11:case 14:case 15:Hr(2,a,r),It||Hr(4,a,r),ar(t,r,a);break;case 1:It||(Di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V_(a,r,l)),ar(t,r,a);break;case 21:ar(t,r,a);break;case 22:It=(l=It)||a.memoizedState!==null,ar(t,r,a),It=l;break;default:ar(t,r,a)}}function F_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){Xe(r,r.return,a)}}}function q_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){Xe(r,r.return,a)}}function YS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new P_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new P_),r;default:throw Error(s(435,t.tag))}}function Lc(t,r){var a=YS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=i1.bind(null,t,l);l.then(f,f)}})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Wr(b.type)){ct=b.stateNode,fn=!1;break e}break;case 5:ct=b.stateNode,fn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,fn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));B_(d,v,f),ct=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)$_(r,t),r=r.sibling}var ii=null;function $_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),mn(t),l&4&&(Hr(3,t,t.return),Sl(3,t),Hr(5,t,t.return));break;case 1:dn(r,t),mn(t),l&512&&(It||a===null||Di(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(dn(r,t),mn(t),l&512&&(It||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var v=$v("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=$v("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else Hv(f,t.type,t.stateNode);else t.stateNode=qv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Hv(f,t.type,t.stateNode):qv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),mn(t),l&512&&(It||a===null||Di(a,a.return)),a!==null&&l&4&&kd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),mn(t),l&512&&(It||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,kd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(dn(r,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(th=null,f=ii,ii=Zc(r.containerInfo),dn(r,t),ii=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(r.containerInfo)}catch(fe){Xe(t,t.return,fe)}Ld&&(Ld=!1,H_(t));break;case 4:l=ii,ii=Zc(t.stateNode.containerInfo),dn(r,t),mn(t),ii=l;break;case 12:dn(r,t),mn(t);break;case 31:dn(r,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:dn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=sr,X=It;if(sr=q||f,It=X||I,dn(r,t),It=X,sr=q,mn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||sr||It||ea(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){Xe(I,I.return,fe)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(fe){Xe(I,I.return,fe)}}}else if(r.tag===18){if(a===null){I=r;try{var Y=I.stateNode;f?Vv(Y,!0):Vv(I.stateNode,!1)}catch(fe){Xe(I,I.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:dn(r,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:dn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(k_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(t);Pc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var b=Ud(t);Pc(t,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Ud(t);Pd(t,q,I);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function H_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;H_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function or(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)L_(t,r.alternate,r),r=r.sibling}function ea(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),ea(r);break;case 1:Di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&V_(r,r.return,a),ea(r);break;case 27:Vl(r.stateNode);case 26:case 5:Di(r,r.return),ea(r);break;case 22:r.memoizedState===null&&ea(r);break;case 30:ea(r);break;default:ea(r)}t=t.sibling}}function lr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:lr(f,d,a),Sl(4,d);break;case 1:if(lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)wy(I[f],b)}catch(q){Xe(l,l.return,q)}}a&&v&64&&M_(d),Al(d,d.return);break;case 27:U_(d);case 26:case 5:lr(f,d,a),a&&l===null&&v&4&&j_(d),Al(d,d.return);break;case 12:lr(f,d,a);break;case 31:lr(f,d,a),a&&v&4&&F_(f,d);break;case 13:lr(f,d,a),a&&v&4&&q_(f,d);break;case 22:d.memoizedState===null&&lr(f,d,a),Al(d,d.return);break;case 30:break;default:lr(f,d,a)}r=r.sibling}}function zd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function Bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t))}function ri(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G_(t,r,a,l),r=r.sibling}function G_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ri(t,r,a,l),f&2048&&Sl(9,r);break;case 1:ri(t,r,a,l);break;case 3:ri(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t)));break;case 12:if(f&2048){ri(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(r,r.return,I)}}else ri(t,r,a,l);break;case 31:ri(t,r,a,l);break;case 13:ri(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ri(t,r,a,l):Rl(t,r):d._visibility&2?ri(t,r,a,l):(d._visibility|=2,Qa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&zd(v,r);break;case 24:ri(t,r,a,l),f&2048&&Bd(r.alternate,r);break;default:ri(t,r,a,l)}}function Qa(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,b=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,b,I,f),Sl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Qa(d,v,b,I,f):Rl(d,v):(X._visibility|=2,Qa(d,v,b,I,f)),f&&q&2048&&zd(v.alternate,v);break;case 24:Qa(d,v,b,I,f),f&&q&2048&&Bd(v.alternate,v);break;default:Qa(d,v,b,I,f)}r=r.sibling}}function Rl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&zd(l.alternate,l);break;case 24:Rl(a,l),f&2048&&Bd(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Cl=8192;function Xa(t,r,a){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)K_(t,r,a),t=t.sibling}function K_(t,r,a){switch(t.tag){case 26:Xa(t,r,a),t.flags&Cl&&t.memoizedState!==null&&V1(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,r,a);break;case 3:case 4:var l=ii;ii=Zc(t.stateNode.containerInfo),Xa(t,r,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,Xa(t,r,a),Cl=l):Xa(t,r,a));break;default:Xa(t,r,a)}}function Y_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function xl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,X_(l,t)}Y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Q_(t),t=t.sibling}function Q_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Hr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,zc(t)):xl(t);break;default:xl(t)}}function zc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,X_(l,t)}Y_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),zc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zc(r));break;default:zc(r)}t=t.sibling}}function X_(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var f=l.sibling,d=l.return;if(z_(l),l===a){qt=null;break e}if(f!==null){f.return=d,qt=f;break e}qt=d}}}var QS={getCacheForType:function(t){var r=Yt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},XS=typeof WeakMap=="function"?WeakMap:Map,He=0,tt=null,De=null,Me=0,Qe=0,Rn=null,Gr=!1,Ja=!1,Fd=!1,ur=0,mt=0,Kr=0,ta=0,qd=0,Cn=0,Wa=0,Il=null,pn=null,$d=!1,Bc=0,J_=0,Fc=1/0,qc=null,Yr=null,Pt=0,Qr=null,Za=null,cr=0,Hd=0,Gd=null,W_=null,Nl=0,Kd=null;function xn(){return(He&2)!==0&&Me!==0?Me&-Me:J.T!==null?Zd():$u()}function Z_(){if(Cn===0)if((Me&536870912)===0||Pe){var t=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),Cn=t}else Cn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Cn}function gn(t,r,a){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Xr(t,Me,Cn,!1)),Is(t,a),((He&2)===0||t!==tt)&&(t===tt&&((He&2)===0&&(ta|=a),mt===4&&Xr(t,Me,Cn,!1)),Oi(t))}function ev(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Yn(t,r),f=l?ZS(t,r):Qd(t,r,!0),d=l;do{if(f===0){Ja&&!l&&Xr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!JS(a)){f=Qd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;f=Il;var I=b.current.memoizedState.isDehydrated;if(I&&(eo(b,v).flags|=256),v=Qd(b,v,!1),v!==2){if(Fd&&!I){b.errorRecoveryDisabledLanes|=d,ta|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){eo(t,0),Xr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Xr(l,r,Cn,!Gr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Bc+300-on(),10<f)){if(Xr(l,r,Cn,!Gr),mi(l,0,!0)!==0)break e;cr=r,l.timeoutHandle=Dv(tv.bind(null,l,a,pn,qc,$d,r,Cn,ta,Wa,Gr,d,"Throttled",-0,0),f);break e}tv(l,a,pn,qc,$d,r,Cn,ta,Wa,Gr,d,null,-0,0)}}break}while(!0);Oi(t)}function tv(t,r,a,l,f,d,v,b,I,q,X,ee,H,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},K_(r,d,ee);var fe=(d&62914560)===d?Bc-on():(d&4194048)===d?J_-on():0;if(fe=j1(ee,fe),fe!==null){cr=d,t.cancelPendingCommit=fe(uv.bind(null,t,r,d,a,l,f,v,b,I,X,ee,null,H,Y)),Xr(t,d,v,!q);return}}uv(t,r,d,a,l,f,v,b,I)}function JS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(t,r,a,l){r&=~qd,r&=~ta,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-pt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Ns(t,a,r)}function $c(){return(He&6)===0?(Dl(0),!1):!0}function Yd(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Zi=Gs=null,cd(t),$a=null,dl=0,t=De;for(;t!==null;)O_(t.alternate,t),t=t.return;De=null}}function eo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,y1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,Yd(),tt=t,De=a=Ji(t.current,null),Me=r,Qe=0,Rn=null,Gr=!1,Ja=Yn(t,r),Fd=!1,Wa=Cn=qd=ta=Kr=mt=0,pn=Il=null,$d=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-pt(l),d=1<<f;r|=t[f],l&=~d}return ur=r,hc(),a}function nv(t,r){xe=null,J.H=Tl,r===qa||r===vc?(r=_y(),Qe=3):r===Wf?(r=_y(),Qe=4):Qe=r===Rd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,De===null&&(mt=1,Mc(t,Ln(r,t.current)))}function iv(){var t=Sn.current;return t===null?!0:(Me&4194048)===Me?qn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===qn:!1}function rv(){var t=J.H;return J.H=Tl,t===null?Tl:t}function sv(){var t=J.A;return J.A=QS,t}function Hc(){mt=4,Gr||(Me&4194048)!==Me&&Sn.current!==null||(Ja=!0),(Kr&134217727)===0&&(ta&134217727)===0||tt===null||Xr(tt,Me,Cn,!1)}function Qd(t,r,a){var l=He;He|=2;var f=rv(),d=sv();(tt!==t||Me!==r)&&(qc=null,eo(t,r)),r=!1;var v=mt;e:do try{if(Qe!==0&&De!==null){var b=De,I=Rn;switch(Qe){case 8:Yd(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var q=Qe;if(Qe=0,Rn=null,to(t,b,I,q),a&&Ja){v=0;break e}break;default:q=Qe,Qe=0,Rn=null,to(t,b,I,q)}}WS(),v=mt;break}catch(X){nv(t,X)}while(!0);return r&&t.shellSuspendCounter++,Zi=Gs=null,He=l,J.H=f,J.A=d,De===null&&(tt=null,Me=0,hc()),v}function WS(){for(;De!==null;)av(De)}function ZS(t,r){var a=He;He|=2;var l=rv(),f=sv();tt!==t||Me!==r?(qc=null,Fc=on()+500,eo(t,r)):Ja=Yn(t,r);e:do try{if(Qe!==0&&De!==null){r=De;var d=Rn;t:switch(Qe){case 1:Qe=0,Rn=null,to(t,r,d,1);break;case 2:case 9:if(gy(d)){Qe=0,Rn=null,ov(r);break}r=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),Oi(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:gy(d)?(Qe=0,Rn=null,ov(r)):(Qe=0,Rn=null,to(t,r,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var b=De;if(v?Gv(v):b.stateNode.complete){Qe=0,Rn=null;var I=b.sibling;if(I!==null)De=I;else{var q=b.return;q!==null?(De=q,Gc(q)):De=null}break t}}Qe=0,Rn=null,to(t,r,d,5);break;case 6:Qe=0,Rn=null,to(t,r,d,6);break;case 8:Yd(),mt=6;break e;default:throw Error(s(462))}}e1();break}catch(X){nv(t,X)}while(!0);return Zi=Gs=null,J.H=l,J.A=f,He=a,De!==null?0:(tt=null,Me=0,hc(),mt)}function e1(){for(;De!==null&&!Af();)av(De)}function av(t){var r=N_(t.alternate,t,ur);t.memoizedProps=t.pendingProps,r===null?Gc(t):De=r}function ov(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=S_(a,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=S_(a,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:cd(r);default:O_(a,r),r=De=sy(r,ur),r=N_(a,r,ur)}t.memoizedProps=t.pendingProps,r===null?Gc(t):De=r}function to(t,r,a,l){Zi=Gs=null,cd(r),$a=null,dl=0;var f=r.return;try{if(FS(t,f,r,a,Me)){mt=1,Mc(t,Ln(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,Mc(t,Ln(a,t.current)),De=null;return}r.flags&32768?(Pe||l===1?t=!0:Ja||(Me&536870912)!==0?t=!1:(Gr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(r,t)):Gc(r)}function Gc(t){var r=t;do{if((r.flags&32768)!==0){lv(r,Gr);return}t=r.return;var a=HS(r.alternate,r,ur);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);mt===0&&(mt=5)}function lv(t,r){do{var a=GS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function uv(t,r,a,l,f,d,v,b,I){t.cancelPendingCommit=null;do Kc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Uf,xf(t,a,d,v,b,I),t===tt&&(De=tt=null,Me=0),Za=r,Qr=t,cr=a,Hd=d,Gd=f,W_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,r1(Rr,function(){return mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=ae.p,ae.p=2,v=He,He|=4;try{KS(t,r,a)}finally{He=v,ae.p=f,J.T=l}}Pt=1,cv(),hv(),fv()}}function cv(){if(Pt===1){Pt=0;var t=Qr,r=Za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{$_(r,t);var d=om,v=Xg(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Qg(b.ownerDocument.documentElement,b)){if(I!==null&&Of(b)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(X,b.value.length);else{var ee=b.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Y=H.getSelection(),fe=b.textContent.length,_e=Math.min(I.start,fe),et=I.end===void 0?_e:Math.min(I.end,fe);!Y.extend&&_e>et&&(v=et,et=_e,_e=v);var L=Yg(b,_e),O=Yg(b,et);if(L&&O&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var F=ee.createRange();F.setStart(L.node,L.offset),Y.removeAllRanges(),_e>et?(Y.addRange(F),Y.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Y.addRange(F))}}}}for(ee=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}sh=!!am,om=am=null}finally{He=f,ae.p=l,J.T=a}}t.current=r,Pt=2}}function hv(){if(Pt===2){Pt=0;var t=Qr,r=Za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{L_(t,r.alternate,r)}finally{He=f,ae.p=l,J.T=a}}Pt=3}}function fv(){if(Pt===4||Pt===3){Pt=0,Uu();var t=Qr,r=Za,a=cr,l=W_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,Za=Qr=null,dv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Yr=null),Ki(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,f=ae.p,ae.p=2,J.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{J.T=r,ae.p=f}}(cr&3)!==0&&Kc(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Kd?Nl++:(Nl=0,Kd=t):Nl=0,Dl(0)}}function dv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,hl(r)))}function Kc(){return cv(),hv(),fv(),mv()}function mv(){if(Pt!==5)return!1;var t=Qr,r=Hd;Hd=0;var a=Ki(cr),l=J.T,f=ae.p;try{ae.p=32>a?32:a,J.T=null,a=Gd,Gd=null;var d=Qr,v=cr;if(Pt=0,Za=Qr=null,cr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,Q_(d.current),G_(d,d.current,v,a),He=b,Dl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{ae.p=f,J.T=l,dv(t,r)}}function pv(t,r,a){r=Ln(a,r),r=Ad(t.stateNode,r,2),t=Fr(t,r,2),t!==null&&(Is(t,2),Oi(t))}function Xe(t,r,a){if(t.tag===3)pv(t,t,a);else for(;r!==null;){if(r.tag===3){pv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){t=Ln(a,t),a=g_(2),l=Fr(r,a,2),l!==null&&(y_(a,l,r,t),Is(l,2),Oi(l));break}}r=r.return}}function Xd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new XS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Fd=!0,f.add(a),t=t1.bind(null,t,r,a),r.then(t,t))}function t1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>on()-Bc?(He&2)===0&&eo(t,0):qd|=a,Wa===Me&&(Wa=0)),Oi(t)}function gv(t,r){r===0&&(r=qu()),t=qs(t,r),t!==null&&(Is(t,r),Oi(t))}function n1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),gv(t,a)}function i1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),gv(t,a)}function r1(t,r){return Ut(t,r)}var Yc=null,no=null,Jd=!1,Qc=!1,Wd=!1,Jr=0;function Oi(t){t!==no&&t.next===null&&(no===null?Yc=no=t:no=no.next=t),Qc=!0,Jd||(Jd=!0,a1())}function Dl(t,r){if(!Wd&&Qc){Wd=!0;do for(var a=!1,l=Yc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ev(l,d))}else d=Me,d=mi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,Ev(l,d));l=l.next}while(a);Wd=!1}}function s1(){yv()}function yv(){Qc=Jd=!1;var t=0;Jr!==0&&g1()&&(t=Jr);for(var r=on(),a=null,l=Yc;l!==null;){var f=l.next,d=_v(l,r);d===0?(l.next=null,a===null?Yc=f:a.next=f,f===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Qc=!0)),l=f}Pt!==0&&Pt!==5||Dl(t),Jr!==0&&(Jr=0)}function _v(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),b=1<<v,I=f[v];I===-1?((b&a)===0||(b&l)!==0)&&(f[v]=Cf(b,r)):I<=r&&(t.expiredLanes|=b),d&=~b}if(r=tt,a=Me,a=mi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ar(l),Ki(a)){case 2:case 8:a=Bo;break;case 32:a=Rr;break;case 268435456:a=Pu;break;default:a=Rr}return l=vv.bind(null,t),a=Ut(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var l=Me;return l=mi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ev(t,l,r),_v(t,on()),t.callbackNode!=null&&t.callbackNode===a?vv.bind(null,t):null)}function Ev(t,r){if(Kc())return null;ev(t,r,!0)}function a1(){_1(function(){(He&6)!==0?Ut(zo,s1):yv()})}function Zd(){if(Jr===0){var t=Ba;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Jr=t}return Jr}function Tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function wv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function o1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Tv((f[Bt]||null).action),v=l.submitter;v&&(r=(r=v[Bt]||null)?Tv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Ai("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var I=v?wv(f,v):new FormData(f);vd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=v?wv(f,v):new FormData(f),vd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var em=0;em<kf.length;em++){var tm=kf[em],l1=tm.toLowerCase(),u1=tm[0].toUpperCase()+tm.slice(1);ni(l1,"on"+u1)}ni(Zg,"onAnimationEnd"),ni(ey,"onAnimationIteration"),ni(ty,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(AS,"onTransitionRun"),ni(RS,"onTransitionStart"),ni(CS,"onTransitionCancel"),ni(ny,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function bv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,q=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=q;try{d(f)}catch(X){cc(X)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,q=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=q;try{d(f)}catch(X){cc(X)}f.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[Ta];a===void 0&&(a=r[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Sv(r,t,2,!1),a.add(l))}function nm(t,r,a){var l=0;r&&(l|=4),Sv(a,t,l,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[Xc]){t[Xc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(c1.has(a)||nm(a,!1,t),nm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,nm("selectionchange",!1,r))}}function Sv(t,r,a,l){switch(Zv(r)){case 2:var f=P1;break;case 8:f=L1;break;default:f=_m}a=f.bind(null,r,a,t),f=void 0,!js||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function rm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=_i(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Or(function(){var q=d,X=jn(a),ee=[];e:{var H=iy.get(t);if(H!==void 0){var Y=Ai,fe=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":Y=oc;break;case"focusin":fe="focus",Y=Ls;break;case"focusout":fe="blur",Y=Ls;break;case"beforeblur":case"afterblur":Y=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case Zg:case ey:case ty:Y=ec;break;case ny:Y=S;break;case"scroll":case"scrollend":Y=nl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xi;break;case"toggle":case"beforetoggle":Y=Ce}var _e=(r&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var O=q,F;O!==null;){var W=O;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||L===null||(W=Wn(O,L),W!=null&&_e.push(Ml(O,W,F))),et)break;O=O.return}0<_e.length&&(H=new Y(H,fe,null,a,X),ee.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==Zo&&(fe=a.relatedTarget||a.fromElement)&&(_i(fe)||fe[gi]))break e;if((Y||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=q,fe=fe?_i(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Y=null,fe=q),Y!==fe)){if(_e=il,W="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Xi,W="onPointerLeave",L="onPointerEnter",O="pointer"),et=Y==null?H:En(Y),F=fe==null?H:En(fe),H=new _e(W,O+"leave",Y,a,X),H.target=et,H.relatedTarget=F,W=null,_i(X)===q&&(_e=new _e(L,O+"enter",fe,a,X),_e.target=F,_e.relatedTarget=et,W=_e),et=W,Y&&fe)t:{for(_e=h1,L=Y,O=fe,F=0,W=L;W;W=_e(W))F++;W=0;for(var me=O;me;me=_e(me))W++;for(;0<F-W;)L=_e(L),F--;for(;0<W-F;)O=_e(O),W--;for(;F--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;Y!==null&&Av(ee,H,Y,_e,!1),fe!==null&&et!==null&&Av(ee,et,fe,_e,!0)}}e:{if(H=q?En(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Fe=Fg;else if(zg(H))if(qg)Fe=wS;else{Fe=ES;var de=vS}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Aa(q.elementType)&&(Fe=Fg):Fe=TS;if(Fe&&(Fe=Fe(t,q))){Bg(ee,Fe,a,X);break e}de&&de(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Xo(H,"number",H.value)}switch(de=q?En(q):window,t){case"focusin":(zg(de)||de.contentEditable==="true")&&(Ma=de,Mf=q,ll=null);break;case"focusout":ll=Mf=Ma=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Jg(ee,a,X);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":Jg(ee,a,X)}var Ne;if($e)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Oa?zs(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(xi&&a.locale!=="ko"&&(Oa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Oa&&(Ne=tl()):(Si=X,el="value"in Si?Si.value:Si.textContent,Oa=!0)),de=Jc(q,Ve),0<de.length&&(Ve=new Ci(Ve,t,null,a,X),ee.push({event:Ve,listeners:de}),Ne?Ve.data=Ne:(Ne=Da(a),Ne!==null&&(Ve.data=Ne)))),(Ne=Un?pS(t,a):gS(t,a))&&(Ve=Jc(q,"onBeforeInput"),0<Ve.length&&(de=new Ci("onBeforeInput","beforeinput",null,a,X),ee.push({event:de,listeners:Ve}),de.data=Ne)),o1(ee,t,q,a,X)}bv(ee,r)})}function Ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Jc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Wn(t,a),f!=null&&l.unshift(Ml(t,f,d)),f=Wn(t,r),f!=null&&l.push(Ml(t,f,d))),t.tag===3)return l;t=t.return}return[]}function h1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,q=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||q===null||(I=q,f?(q=Wn(a,d),q!=null&&v.unshift(Ml(a,q,I))):f||(q=Wn(a,d),q!=null&&v.push(Ml(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var f1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(f1,`
`).replace(d1,"")}function Cv(t,r){return r=Rv(r),Rv(t)===r}function Ze(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&hn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":Wo(t,l,d);break;case"data":if(r!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ju.get(a)||a,ba(t,a,l))}}function sm(t,r,a,l,f,d){switch(a){case"style":Wo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Xt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,v,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=v=f=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(t,r,l,X,a,null)}}Yu(t,d,b,I,q,v,f,!1);return;case"select":Oe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Ze(t,r,f,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?xr(t,!!l,r,!1):a!=null&&xr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(t,r,v,b,a,null)}Ir(t,l,f,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,r,I,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Oe(Ol[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,q,l,a,null)}return;default:if(Aa(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&sm(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,r,b,l,a,null))}function m1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,I=null,q=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Y)||Ze(t,r,Y,null,l,ee)}}for(var H in l){var Y=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Y!=null||ee!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&Ze(t,r,H,Y,l,ee)}}Sa(t,v,b,I,q,X,d,f);return;case"select":Y=v=b=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==I&&Ze(t,r,f,d,l,I)}r=b,a=v,l=Y,H!=null?xr(t,!!a,H,!1):!!l!=!!a&&(r!=null?xr(t,!!a,r,!0):xr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,r,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,r,v,f,l,d)}Qu(t,H,Y);return;case"option":for(var fe in a)H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:Ze(t,r,fe,null,l,H));for(I in l)H=l[I],Y=a[I],l.hasOwnProperty(I)&&H!==Y&&(H!=null||Y!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Ze(t,r,I,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Ze(t,r,_e,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ze(t,r,q,H,l,Y)}return;default:if(Aa(r)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&sm(t,r,et,void 0,l,H);for(X in l)H=l[X],Y=a[X],!l.hasOwnProperty(X)||H===Y||H===void 0&&Y===void 0||sm(t,r,X,H,l,Y);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ze(t,r,L,null,l,H);for(ee in l)H=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||H===Y||H==null&&Y==null||Ze(t,r,ee,H,l,Y)}function xv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,b=f.duration;if(d&&b&&xv(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],q=I.startTime;if(q>b)break;var X=I.transferSize,ee=I.initiatorType;X&&xv(ee)&&(I=I.responseEnd,v+=X*(I<b?1:(b-q)/(I-q)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var am=null,om=null;function Wc(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function lm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function g1(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var Dv=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(v1)}:Dv;function v1(t){setTimeout(function(){throw t})}function Wr(t){return t==="head"}function Mv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ao(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[yi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Vl(t.ownerDocument.body);a=f}while(a);ao(r)}function Vv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function cm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function E1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function T1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function jv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function hm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function w1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var dm=null;function kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return $n(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Uv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Pv(t,r,a){switch(r=Wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);wa(t)}var Hn=new Map,Lv=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=ae.d;ae.d={f:b1,r:S1,D:A1,C:R1,L:C1,m:x1,X:N1,S:I1,M:D1};function b1(){var t=hr.f(),r=$c();return t||r}function S1(t){var r=Vn(t);r!==null&&r.tag===5&&r.type==="form"?n_(r):hr.r(t)}var io=typeof document>"u"?null:document;function zv(t,r,a){var l=io;if(l&&typeof r=="string"&&r){var f=cn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Lv.has(f)||(Lv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Xt(r,"link",t),St(r),l.head.appendChild(r)))}}function A1(t){hr.D(t),zv("dns-prefetch",t,null)}function R1(t,r){hr.C(t,r),zv("preconnect",t,r)}function C1(t,r,a){hr.L(t,r,a);var l=io;if(l&&t&&r){var f='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(r){case"style":d=ro(t);break;case"script":d=so(t)}Hn.has(d)||(t=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Hn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(jl(d))||r==="script"&&l.querySelector(kl(d))||(r=l.createElement("link"),Xt(r,"link",t),St(r),l.head.appendChild(r)))}}function x1(t,r){hr.m(t,r);var a=io;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!Hn.has(d)&&(t=w({rel:"modulepreload",href:t},r),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Xt(l,"link",t),St(l),a.head.appendChild(l)}}}function I1(t,r,a){hr.S(t,r,a);var l=io;if(l&&t){var f=vi(l).hoistableStyles,d=ro(t);r=r||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(jl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Hn.get(d))&&mm(t,a);var I=v=l.createElement("link");St(I),Xt(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,eh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function N1(t,r){hr.X(t,r);var a=io;if(a&&t){var l=vi(a).hoistableScripts,f=so(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=w({src:t,async:!0},r),(r=Hn.get(f))&&pm(t,r),d=a.createElement("script"),St(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function D1(t,r){hr.M(t,r);var a=io;if(a&&t){var l=vi(a).hoistableScripts,f=so(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=w({src:t,async:!0,type:"module"},r),(r=Hn.get(f))&&pm(t,r),d=a.createElement("script"),St(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Bv(t,r,a,l){var f=(f=Ie.current)?Zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ro(a.href),a=vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=vi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||O1(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(a),a=vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+cn(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function Fv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function O1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),St(r),t.head.appendChild(r))}function so(t){return'[src="'+cn(t)+'"]'}function kl(t){return"script[async]"+t}function qv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return r.instance=l,St(l),l;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Xt(l,"style",f),eh(l,a.precedence,t),r.instance=l;case"stylesheet":f=ro(a.href);var d=t.querySelector(jl(f));if(d)return r.state.loading|=4,r.instance=d,St(d),d;l=Fv(a),(f=Hn.get(f))&&mm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Xt(d,"link",l),r.state.loading|=4,eh(d,a.precedence,t),r.instance=d;case"script":return d=so(a.src),(f=t.querySelector(kl(d)))?(r.instance=f,St(f),f):(l=a,(f=Hn.get(d))&&(l=w({},a),pm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Xt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,eh(l,a.precedence,t));return r.instance}function eh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var th=null;function $v(t,r,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Hv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function M1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function V1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ro(l.href),d=r.querySelector(jl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=nh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=r.ownerDocument||r,l=Fv(l),(f=Hn.get(f))&&mm(l,f),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var gm=0;function j1(t,r){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&gm===0&&(gm=62500*p1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>gm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function rh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,r.forEach(k1,t),ih=null,nh.call(t))}function k1(t,r){if(!(r.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ul={$$typeof:re,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function U1(t,r,a,l,f,d,v,b,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Kv(t,r,a,l,f,d,v,b,I,q,X,ee){return t=new U1(t,r,a,v,I,q,X,ee,b),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),t.current=d,d.stateNode=t,r=Qf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Zf(d),t}function Yv(t){return t?(t=ka,t):ka}function Qv(t,r,a,l,f,d){f=Yv(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fr(t,l,r),a!==null&&(gn(a,t,r),pl(a,t,r))}function Xv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ym(t,r){Xv(t,r),(t=t.alternate)&&Xv(t,r)}function Jv(t){if(t.tag===13||t.tag===31){var r=qs(t,67108864);r!==null&&gn(r,t,67108864),ym(t,67108864)}}function Wv(t){if(t.tag===13||t.tag===31){var r=xn();r=Ds(r);var a=qs(t,r);a!==null&&gn(a,t,r),ym(t,r)}}var sh=!0;function P1(t,r,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=2,_m(t,r,a,l)}finally{ae.p=d,J.T=f}}function L1(t,r,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=8,_m(t,r,a,l)}finally{ae.p=d,J.T=f}}function _m(t,r,a,l){if(sh){var f=vm(l);if(f===null)rm(t,r,l,ah,a),eE(t,l);else if(B1(f,t,r,a,l))l.stopPropagation();else if(eE(t,l),r&4&&-1<z1.indexOf(t)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=di(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-pt(v);b.entanglements[1]|=I,v&=~I}Oi(d),(He&6)===0&&(Fc=on()+500,Dl(0))}}break;case 31:case 13:b=qs(d,2),b!==null&&gn(b,d,2),$c(),ym(d,2)}if(d=vm(l),d===null&&rm(t,r,l,ah,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else rm(t,r,l,null,a)}}function vm(t){return t=jn(t),Em(t)}var ah=null;function Em(t){if(ah=null,t=_i(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ah=t,null}function Zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case zo:return 2;case Bo:return 8;case Rr:case Rf:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Tm=!1,Zr=null,es=null,ts=null,Pl=new Map,Ll=new Map,ns=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(t,r){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function zl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Vn(r),r!==null&&Jv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function B1(t,r,a,l,f){switch(r){case"focusin":return Zr=zl(Zr,t,r,a,l,f),!0;case"dragenter":return es=zl(es,t,r,a,l,f),!0;case"mouseover":return ts=zl(ts,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Pl.set(d,zl(Pl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ll.set(d,zl(Ll.get(d)||null,t,r,a,l,f)),!0}return!1}function tE(t){var r=_i(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Qn(t.priority,function(){Wv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Qn(t.priority,function(){Wv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return r=Vn(a),r!==null&&Jv(r),t.blockedOn=a,!1;r.shift()}return!0}function nE(t,r,a){oh(t)&&a.delete(r)}function F1(){Tm=!1,Zr!==null&&oh(Zr)&&(Zr=null),es!==null&&oh(es)&&(es=null),ts!==null&&oh(ts)&&(ts=null),Pl.forEach(nE),Ll.forEach(nE)}function lh(t,r){t.blockedOn===r&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,F1)))}var uh=null;function iE(t){uh!==t&&(uh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var d=Vn(a);d!==null&&(t.splice(r,3),r-=3,vd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ao(t){function r(I){return lh(I,t)}Zr!==null&&lh(Zr,t),es!==null&&lh(es,t),ts!==null&&lh(ts,t),Pl.forEach(r),Ll.forEach(r);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)tE(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Bt]||null;if(typeof d=="function")v||iE(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Bt]||null)b=v.formAction;else if(Em(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),iE(a)}}}function rE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function wm(t){this._internalRoot=t}ch.prototype.render=wm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();Qv(a,l,t,r,null,null)},ch.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Qv(t.current,2,null,t,null,null),$c(),r[gi]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var r=$u();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ns.length&&r!==0&&r<ns[a].priority;a++);ns.splice(a,0,t),a===0&&tE(t)}};var sE=e.version;if(sE!=="19.2.3")throw Error(s(527,sE,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var q1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Kn=hh.inject(q1),Ht=hh}catch{}}return Fl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=f_,d=d_,v=m_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Kv(t,1,!1,null,null,a,l,null,f,d,v,rE),t[gi]=r.current,im(t),new wm(r)},Fl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=f_,v=d_,b=m_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=Kv(t,1,!0,r,a??null,l,f,I,d,v,b,rE),r.context=Yv(null),a=r.current,l=xn(),l=Ds(l),f=Br(l),f.callback=null,Fr(a,f,l),a=l,r.current.lanes=a,Is(r,a),Oi(r),t[gi]=r.current,im(t),new ch(r)},Fl.version="19.2.3",Fl}var pE;function Z1(){if(pE)return Am.exports;pE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Am.exports=W1(),Am.exports}var eA=Z1();const tA=uT(eA);var gE="popstate";function nA(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Xm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:iu(o)}return rA(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Dn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iA(){return Math.random().toString(36).substring(2,10)}function yE(i,e){return{usr:i.state,key:i.key,idx:e}}function Xm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||s||iA()}}function iu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Co(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function rA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function w(){m="POP";let k=T(),Q=k==null?null:k-p;p=k,g&&g({action:m,location:D.location,delta:Q})}function A(k,Q){m="PUSH";let te=Xm(D.location,k,Q);p=T()+1;let re=yE(te,p),ge=D.createHref(te);try{h.pushState(re,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ge)}u&&g&&g({action:m,location:D.location,delta:1})}function V(k,Q){m="REPLACE";let te=Xm(D.location,k,Q);p=T();let re=yE(te,p),ge=D.createHref(te);h.replaceState(re,"",ge),u&&g&&g({action:m,location:D.location,delta:0})}function K(k){return sA(k)}let D={get action(){return m},get location(){return i(o,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(gE,w),g=k,()=>{o.removeEventListener(gE,w),g=null}},createHref(k){return e(o,k)},createURL:K,encodeLocation(k){let Q=K(k);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:V,go(k){return h.go(k)}};return D}function sA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:iu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cT(i,e,n="/"){return aA(i,e,n,!1)}function aA(i,e,n,s){let o=typeof e=="string"?Co(e):e,u=_r(o.pathname||"/",n);if(u==null)return null;let h=hT(i);oA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=_A(u);m=gA(h[g],p,s)}return m}function hT(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ht(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let w=pr([s,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),hT(h.children,e,A,w,g)),!(h.path==null&&!h.index)&&e.push({path:w,score:mA(w,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of fT(h.path))u(h,m,!0,g)}),e}function fT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=fT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function oA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:pA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lA=/^:[\w-]+$/,uA=3,cA=2,hA=1,fA=10,dA=-2,_E=i=>i==="*";function mA(i,e){let n=i.split("/"),s=n.length;return n.some(_E)&&(s+=dA),e&&(s+=cA),n.filter(o=>!_E(o)).reduce((o,u)=>o+(lA.test(u)?uA:u===""?hA:fA),s)}function pA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function gA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),A=g.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:pr([u,w.pathname]),pathnameBase:wA(pr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=pr([u,w.pathnameBase]))}return h}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=yA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:w},A)=>{if(T==="*"){let K=m[A]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const V=m[A];return w&&!V?p[T]=void 0:p[T]=(V||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function yA(i,e=!1,n=!0){Dn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _A(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _r(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vA=i=>dT.test(i);function EA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Co(i):i,u;if(n)if(vA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=vE(n.substring(1),"/"):u=vE(n,e)}else u=e;return{pathname:u,search:bA(s),hash:SA(o)}}function vE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cp(i){let e=TA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(i,e,n,s=!1){let o;typeof i=="string"?o=Co(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let g=EA(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),wA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,SA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,AA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function RA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function CA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pT(i,e){let n=i;if(typeof n!="string"||!dT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(mT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_r(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gT=["POST","PUT","PATCH","DELETE"];new Set(gT);var xA=["GET",...gT];new Set(xA);var xo=P.createContext(null);xo.displayName="DataRouter";var ef=P.createContext(null);ef.displayName="DataRouterState";var IA=P.createContext(!1),yT=P.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var NA=P.createContext(new Map);NA.displayName="Fetchers";var DA=P.createContext(null);DA.displayName="Await";var On=P.createContext(null);On.displayName="Navigation";var mu=P.createContext(null);mu.displayName="Location";var ci=P.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Ip=P.createContext(null);Ip.displayName="RouteError";var _T="REACT_ROUTER_ERROR",OA="REDIRECT",MA="ROUTE_ERROR_RESPONSE";function VA(i){if(i.startsWith(`${_T}:${OA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jA(i){if(i.startsWith(`${_T}:${MA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new AA(e.status,e.statusText,e.data)}catch{}}function kA(i,{relative:e}={}){ht(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(On),{hash:o,pathname:u,search:h}=pu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Io(){return P.useContext(mu)!=null}function Sr(){return ht(Io(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(mu).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ET(i){P.useContext(On).static||P.useLayoutEffect(i)}function tf(){let{isDataRoute:i}=P.useContext(ci);return i?JA():UA()}function UA(){ht(Io(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(xo),{basename:e,navigator:n}=P.useContext(On),{matches:s}=P.useContext(ci),{pathname:o}=Sr(),u=JSON.stringify(Cp(s)),h=P.useRef(!1);return ET(()=>{h.current=!0}),P.useCallback((g,p={})=>{if(Dn(h.current,vT),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=xp(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:pr([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,i])}var PA=P.createContext(null);function LA(i){let e=P.useContext(ci).outlet;return P.useMemo(()=>e&&P.createElement(PA.Provider,{value:i},e),[e,i])}function pu(i,{relative:e}={}){let{matches:n}=P.useContext(ci),{pathname:s}=Sr(),o=JSON.stringify(Cp(n));return P.useMemo(()=>xp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function zA(i,e){return TT(i,e)}function TT(i,e,n,s,o){ht(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(On),{matches:h}=P.useContext(ci),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let te=w&&w.path||"";bT(p,!w||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=Sr(),V;if(e){let te=typeof e=="string"?Co(e):e;ht(T==="/"||te.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=A;let K=V.pathname||"/",D=K;if(T!=="/"){let te=T.replace(/^\//,"").split("/");D="/"+K.replace(/^\//,"").split("/").slice(te.length).join("/")}let k=cT(i,{pathname:D});Dn(w||k!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Dn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=HA(k&&k.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:pr([T,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?T:pr([T,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&Q?P.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Q):Q}function BA(){let i=XA(),e=RA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var FA=P.createElement(BA,null),wT=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=jA(i.digest);n&&(i=n)}let e=i!==void 0?P.createElement(ci.Provider,{value:this.props.routeContext},P.createElement(Ip.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?P.createElement(qA,{error:i},e):e}};wT.contextType=IA;var Nm=new WeakMap;function qA({children:i,error:e}){let{basename:n}=P.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=VA(e.digest);if(s){let o=Nm.get(e);if(o)throw o;let u=pT(s.location,n);if(mT&&!Nm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Nm.set(e,h),h}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function $A({routeContext:i,match:e,children:n}){let s=P.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ci.Provider,{value:i},n)}function HA(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let T=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);ht(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let w=u[T];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=T),w.route.id){let{loaderData:A,errors:V}=n,K=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!V||V[w.route.id]===void 0);if(w.route.lazy||K){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(T,w)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:CA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((T,w,A)=>{let V,K=!1,D=null,k=null;n&&(V=h&&w.route.id?h[w.route.id]:void 0,D=w.route.errorElement||FA,m&&(g<0&&A===0?(bT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,k=null):g===A&&(K=!0,k=w.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,A+1)),te=()=>{let re;return V?re=D:K?re=k:w.route.Component?re=P.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=T,P.createElement($A,{match:w,routeContext:{outlet:T,matches:Q,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?P.createElement(wT,{location:n.location,revalidation:n.revalidation,component:D,error:V,children:te(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:p}):te()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(i){let e=P.useContext(xo);return ht(e,Np(i)),e}function KA(i){let e=P.useContext(ef);return ht(e,Np(i)),e}function YA(i){let e=P.useContext(ci);return ht(e,Np(i)),e}function Dp(i){let e=YA(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function QA(){return Dp("useRouteId")}function XA(){let i=P.useContext(Ip),e=KA("useRouteError"),n=Dp("useRouteError");return i!==void 0?i:e.errors?.[n]}function JA(){let{router:i}=GA("useNavigate"),e=Dp("useNavigate"),n=P.useRef(!1);return ET(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Dn(n.current,vT),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var EE={};function bT(i,e,n){!e&&!EE[i]&&(EE[i]=!0,Dn(!1,n))}P.memo(WA);function WA({routes:i,future:e,state:n,onError:s}){return TT(i,void 0,n,s,e)}function ST({to:i,replace:e,state:n,relative:s}){ht(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(On);Dn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(ci),{pathname:h}=Sr(),m=tf(),g=xp(i,Cp(u),h,s==="path"),p=JSON.stringify(g);return P.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function ZA(i){return LA(i.context)}function yn(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:T="",hash:w="",state:A=null,key:V="default"}=n,K=P.useMemo(()=>{let D=_r(p,m);return D==null?null:{location:{pathname:D,search:T,hash:w,state:A,key:V},navigationType:s}},[m,p,T,w,A,V,s]);return Dn(K!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${w}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:P.createElement(On.Provider,{value:g},P.createElement(mu.Provider,{children:e,value:K}))}function tR({children:i,location:e}){return zA(Jm(i),e)}function Jm(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Jm(s.props.children,u));return}ht(s.type===yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jm(s.props.children,u)),n.push(h)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function nf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function nR(i){return nf(i)&&i.tagName.toLowerCase()==="button"}function iR(i){return nf(i)&&i.tagName.toLowerCase()==="form"}function rR(i){return nf(i)&&i.tagName.toLowerCase()==="input"}function sR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function aR(i,e){return i.button===0&&(!e||e==="_self")&&!sR(i)}function Wm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let s=i[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function oR(i,e){let n=Wm(i);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var fh=null;function lR(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var uR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!uR.has(i)?(Dn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function cR(i,e){let n,s,o,u,h;if(iR(i)){let m=i.getAttribute("action");s=m?_r(m,e):null,n=i.getAttribute("method")||Eh,o=Dm(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(nR(i)||rR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?_r(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Eh,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||Th,u=new FormData(m,i),!lR()){let{name:p,type:T,value:w}=i;if(T==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,w)}}else{if(nf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,s=null,o=Th,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hR(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_r(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function fR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await fR(u,n);return h.links?h.links():[]}return[]}));return _R(s.flat(1).filter(dR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function TE(i,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function pR(i,e,{includeHydrateFallback:n}={}){return gR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function gR(i){return[...new Set(i)]}function yR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function _R(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(yR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function AT(){let i=P.useContext(xo);return Op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function vR(){let i=P.useContext(ef);return Op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Mp=P.createContext(void 0);Mp.displayName="FrameworkContext";function RT(){let i=P.useContext(Mp);return Op(i,"You must render this element inside a <HydratedRouter> element"),i}function ER(i,e){let n=P.useContext(Mp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:w}=e,A=P.useRef(null);P.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let D=Q=>{Q.forEach(te=>{h(te.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[i]),P.useEffect(()=>{if(s){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[s]);let V=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:ql(m,V),onBlur:ql(g,K),onMouseEnter:ql(p,V),onMouseLeave:ql(T,K),onTouchStart:ql(w,V)}]:[!1,A,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function TR({page:i,...e}){let{router:n}=AT(),s=P.useMemo(()=>cT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(bR,{page:i,matches:s,...e}):null}function wR(i){let{manifest:e,routeModules:n}=RT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return mR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function bR({page:i,matches:e,...n}){let s=Sr(),{future:o,manifest:u,routeModules:h}=RT(),{basename:m}=AT(),{loaderData:g,matches:p}=vR(),T=P.useMemo(()=>TE(i,e,p,u,s,"data"),[i,e,p,u,s]),w=P.useMemo(()=>TE(i,e,p,u,s,"assets"),[i,e,p,u,s]),A=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,k=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!T.some(ge=>ge.route.id===te.route.id)&&te.route.id in g&&h[te.route.id]?.shouldRevalidate||re.hasClientLoader?k=!0:D.add(te.route.id))}),D.size===0)return[];let Q=hR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return k&&D.size>0&&Q.searchParams.set("_routes",e.filter(te=>D.has(te.route.id)).map(te=>te.route.id).join(",")),[Q.pathname+Q.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,T,e,i,h]),V=P.useMemo(()=>pR(w,u),[w,u]),K=wR(w);return P.createElement(P.Fragment,null,A.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),V.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),K.map(({key:D,link:k})=>P.createElement("link",{key:D,nonce:n.nonce,...k})))}function SR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AR&&(window.__reactRouterVersion="7.12.0")}catch{}function RR({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=nA({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),g=P.useCallback(p=>{n===!1?m(p):P.startTransition(()=>m(p))},[n]);return P.useLayoutEffect(()=>u.listen(g),[u,g]),P.createElement(eR,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},K){let{basename:D,unstable_useTransitions:k}=P.useContext(On),Q=typeof p=="string"&&CT.test(p),te=pT(p,D);p=te.to;let re=kA(p,{relative:o}),[ge,Te,be]=ER(s,V),N=IR(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:k});function R(U){e&&e(U),U.defaultPrevented||N(U)}let C=P.createElement("a",{...V,...be,href:te.absoluteURL||re,onClick:te.isExternal||u?e:R,ref:SR(K,Te),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return ge&&!Q?P.createElement(P.Fragment,null,C,P.createElement(TR,{page:re})):C});xT.displayName="Link";var Vp=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},T){let w=pu(h,{relative:p.relative}),A=Sr(),V=P.useContext(ef),{navigator:K,basename:D}=P.useContext(On),k=V!=null&&jR(w)&&m===!0,Q=K.encodeLocation?K.encodeLocation(w).pathname:w.pathname,te=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&D&&(re=_r(re,D)||re);const ge=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Te=te===Q||!o&&te.startsWith(Q)&&te.charAt(ge)==="/",be=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),N={isActive:Te,isPending:be,isTransitioning:k},R=Te?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Te?"active":null,be?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(N):u;return P.createElement(xT,{...p,"aria-current":R,className:C,ref:T,style:U,to:h,viewTransition:m},typeof g=="function"?g(N):g)});Vp.displayName="NavLink";var CR=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Eh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},K)=>{let{unstable_useTransitions:D}=P.useContext(On),k=MR(),Q=VR(m,{relative:p}),te=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&CT.test(m),ge=Te=>{if(g&&g(Te),Te.defaultPrevented)return;Te.preventDefault();let be=Te.nativeEvent.submitter,N=be?.getAttribute("formmethod")||h,R=()=>k(be||Te.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A});D&&n!==!1?P.startTransition(()=>R()):R()};return P.createElement("form",{ref:K,method:te,action:Q,onSubmit:s?g:ge,...V,"data-discover":!re&&i==="render"?"true":void 0})});CR.displayName="Form";function xR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(i){let e=P.useContext(xo);return ht(e,xR(i)),e}function IR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=tf(),T=Sr(),w=pu(i,{relative:u});return P.useCallback(A=>{if(aR(A,e)){A.preventDefault();let V=n!==void 0?n:iu(T)===iu(w),K=()=>p(i,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?P.startTransition(()=>K()):K()}},[T,p,w,n,s,e,i,o,u,h,m,g])}function NR(i){Dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Wm(i)),n=P.useRef(!1),s=Sr(),o=P.useMemo(()=>oR(s.search,n.current?null:e.current),[s.search]),u=tf(),h=P.useCallback((m,g)=>{const p=Wm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+p,g)},[u,o]);return[o,h]}var DR=0,OR=()=>`__${String(++DR)}__`;function MR(){let{router:i}=IT("useSubmit"),{basename:e}=P.useContext(On),n=QA(),s=i.fetch,o=i.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:T,body:w}=cR(u,e);if(h.navigate===!1){let A=h.fetcherKey||OR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:w,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:w,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function VR(i,{relative:e}={}){let{basename:n}=P.useContext(On),s=P.useContext(ci);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(i||".",{relative:e})},h=Sr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),iu(u)}function jR(i,{relative:e}={}){let n=P.useContext(yT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IT("useViewTransitionState"),o=pu(i,{relative:e});if(!n.isTransitioning)return!1;let u=_r(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Oh(o.pathname,h)!=null||Oh(o.pathname,u)!=null}const wE=i=>{let e;const n=new Set,s=(p,T)=>{const w=typeof p=="function"?p(e):p;if(!Object.is(w,e)){const A=e;e=T??(typeof w!="object"||w===null)?w:Object.assign({},e,w),n.forEach(V=>V(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=e=i(s,o,m);return m},kR=(i=>i?wE(i):wE),UR=i=>i;function PR(i,e=UR){const n=$l.useSyncExternalStore(i.subscribe,$l.useCallback(()=>e(i.getState()),[i,e]),$l.useCallback(()=>e(i.getInitialState()),[i,e]));return $l.useDebugValue(n),n}const bE=i=>{const e=kR(i),n=s=>PR(e,s);return Object.assign(n,e),n},LR=(i=>i?bE(i):bE),NT=LR(i=>({user:null,loading:!0,setUser:e=>i({user:e}),setLoading:e=>i({loading:e})})),he={card:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",header:"",title:"w-full",selection:"relative w-full h-12 cursor-pointer mt-[-3rem]",list_content:"my-4 p-2 text-cyan-500 space-y-2 text-sm",icon_list:"flex gap-2 items-center",tags:"inline-block px-1 text-xs font-medium rounded",name:"text-base font-medium text-white cursor-pointer",selected_name:"text-xl font-bold text-cyan-400 w-full cursor-pointer",contact_grid:"flex gap-1 items-center"},gu={profile_initial:"rounded-full h-12 w-12 flex items-center justify-center font-light text-2xl"},zR={error:"text-red-700 text-center py-8",notice:"text-cyan-400 text-center py-8"},BR={page:"max-w-8xl mx-auto",header:"h-[8vh] md:h-[7vh] bg-blue-700/40",title:"p-4 flex items-center gap-2 h-full text-2xl font-bold text-cyan-500",content:"max-h-[82vh] overflow-y-scroll"},FR={layout:"space-y-4 p-4 bg-blue-800/50 border border-cyan-500 rounded-lg",label:"block text-sm font-medium text-cyan-500 mb-1",input:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",action:"flex flex-col sm:flex-row gap-2 pt-2"},qR={solid:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-cyan-700 to-cyan-500 hover:from-cyan-600 hover:to-cyan-400 border-cyan-500 hover:border-cyan-300 text-cyan-200 hover:text-cyan-50",outline:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-blue-700/60 to-blue-800/60 hover:from-blue-600/70 hover:to-blue-500/70 border-cyan-500 hover:border-cyan-300 text-cyan-500 hover:text-cyan-300"},$R={dark:"relative w-full h-screen overflow-hidden bg-gradient-to-b from-blue-900 to-blue-950"},$={background:$R,system:zR,view:BR,form:FR,button:qR};function HR(){const[i,e]=P.useState([]),n=50,s=o=>{const u=["bg-blue-400","bg-blue-500","bg-cyan-400","bg-teal-400","bg-blue-800","bg-white"],h=["opacity-20","opacity-30","opacity-40","opacity-50"];return{id:o,x:1+Math.random()*99,y:110+Math.random()*20,size:10+Math.random()*100,color:u[Math.floor(Math.random()*u.length)],opacity:h[Math.floor(Math.random()*h.length)],speed:.2+Math.random()*.3,wobble:Math.random()*2-1,wobbleSpeed:.01+Math.random()*.02}};return P.useEffect(()=>{const o=[];for(let g=0;g<n;g++){const p=s(g);p.y=Math.random()*120,o.push(p)}e(o);let u,h=0;const m=g=>{const p=g-h;p>16&&(h=g,e(T=>T.map(w=>{const A=w.y-w.speed*p/50;if(A<-10)return s(w.id);const V=w.wobble+w.wobbleSpeed,K=w.x+Math.sin(V)*.05;return{...w,x:K,y:A,wobble:V}}))),u=requestAnimationFrame(m)};return u=requestAnimationFrame(m),()=>{cancelAnimationFrame(u)}},[]),y.jsx("div",{className:`${$.background.dark}`,children:i.map(o=>y.jsx("div",{className:`absolute rounded-full ${o.color} ${o.opacity}`,style:{left:`${o.x}%`,bottom:`${100-o.y}%`,width:`${o.size}px`,height:`${o.size}px`,boxShadow:"0 0 8px rgba(255, 255, 255, 0.2)",transform:"translate(-50%, 50%)"}},o.id))})}const GR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),SE=i=>{const e=KR(i);return e.charAt(0).toUpperCase()+e.slice(1)},DT=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),YR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var QR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XR=P.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>P.createElement("svg",{ref:g,...QR,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:DT("lucide",o),...!u&&!YR(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,T])=>P.createElement(p,T)),...Array.isArray(u)?u:[u]]));const en=(i,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(XR,{ref:u,iconNode:e,className:DT(`lucide-${GR(SE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=SE(i),n};const JR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],WR=en("briefcase",JR);const ZR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eC=en("chevron-down",ZR);const tC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nC=en("chevron-up",tC);const iC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jp=en("info",iC);const rC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kp=en("layout-dashboard",rC);const sC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],aC=en("log-in",sC);const oC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OT=en("log-out",oC);const lC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vo=en("mail",lC);const uC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MT=en("map-pin",uC);const cC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yu=en("pencil",cC);const hC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Eo=en("phone",hC);const fC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Up=en("plus",fC);const dC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pp=en("settings",dC);const mC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pC=en("trash-2",mC);const gC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Lp=en("user-plus",gC);const yC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vi=en("users",yC);const _C=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],us=en("washing-machine",_C),vC=()=>{};var AE={};const VT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},EC=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,V=p&63;g||(V=64,h||(A=64)),s.push(n[T],n[w],n[A],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(VT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):EC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new TC;const A=u<<2|m>>4;if(s.push(A),p!==64){const V=m<<4&240|p>>2;if(s.push(V),w!==64){const K=p<<6&192|w;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(i){const e=VT(i);return jT.encodeByteArray(e,!0)},Mh=function(i){return wC(i).replace(/\./g,"")},kT=function(i){try{return jT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SC=()=>bC().__FIREBASE_DEFAULTS__,AC=()=>{if(typeof process>"u"||typeof AE>"u")return;const i=AE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},RC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&kT(i[1]);return e&&JSON.parse(e)},rf=()=>{try{return vC()||SC()||AC()||RC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},UT=i=>rf()?.emulatorHosts?.[i],PT=i=>{const e=UT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LT=()=>rf()?.config,zT=i=>rf()?.[`_${i}`];class CC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ha(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zp(i){return(await fetch(i,{credentials:"include"})).ok}function BT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const Jl={};function xC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?i.emulator.push(e):i.prod.push(e);return i}function IC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let RE=!1;function Bp(i,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Jl[i]===e||Jl[i]||RE)return;Jl[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=xC().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{RE=!0,h()},A}function T(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=IC(s),V=n("text"),K=document.getElementById(V)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),Q=n("preprendIcon"),te=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),T(k,D);const ge=p();g(te,Q),re.append(te,K,k,ge),document.body.appendChild(re)}u?(K.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function DC(){const i=rf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jC(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function kC(){return!DC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UC(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const LC="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LC,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?zC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,m,s)}}function zC(i,e){return i.replace(BC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BC=/\{\$([^}]+)}/g;function FC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function sa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(CE(u)&&CE(h)){if(!sa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(i){return i!==null&&typeof i=="object"}function vu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function qC(i,e){const n=new $C(i,e);return n.subscribe.bind(n)}class $C{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Om(){}function zt(i){return i&&i._delegate?i._delegate:i}class ms{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class GC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new CC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YC(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(i){return i===na?void 0:i}function YC(i){return i.instantiationMode==="EAGER"}class QC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const XC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},JC=je.INFO,WC={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},ZC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=WC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=ZC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const ex=(i,e)=>e.some(n=>i instanceof n);let xE,IE;function tx(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,Zm=new WeakMap,qT=new WeakMap,Mm=new WeakMap,qp=new WeakMap;function ix(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(cs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,i)}).catch(()=>{}),qp.set(e,i),e}function rx(i){if(Zm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Zm.set(i,e)}let ep={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||qT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function sx(i){ep=i(ep)}function ax(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Vm(this),e,...n);return qT.set(s,e.sort?e.sort():[e]),cs(s)}:nx().includes(i)?function(...e){return i.apply(Vm(this),e),cs(FT.get(this))}:function(...e){return cs(i.apply(Vm(this),e))}}function ox(i){return typeof i=="function"?ax(i):(i instanceof IDBTransaction&&rx(i),ex(i,tx())?new Proxy(i,ep):i)}function cs(i){if(i instanceof IDBRequest)return ix(i);if(Mm.has(i))return Mm.get(i);const e=ox(i);return e!==i&&(Mm.set(i,e),qp.set(e,i)),e}const Vm=i=>qp.get(i);function lx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=cs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(cs(h.result),g.oldVersion,g.newVersion,cs(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],jm=new Map;function NE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ux.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return jm.set(e,u),u}sx(i=>({...i,get:(e,n,s)=>NE(e,n)||i.get(e,n,s),has:(e,n)=>!!NE(e,n)||i.has(e,n)}));class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fx(i){return i.getComponent()?.type==="VERSION"}const tp="@firebase/app",DE="0.14.6";const vr=new Fp("@firebase/app"),dx="@firebase/app-compat",mx="@firebase/analytics-compat",px="@firebase/analytics",gx="@firebase/app-check-compat",yx="@firebase/app-check",_x="@firebase/auth",vx="@firebase/auth-compat",Ex="@firebase/database",Tx="@firebase/data-connect",wx="@firebase/database-compat",bx="@firebase/functions",Sx="@firebase/functions-compat",Ax="@firebase/installations",Rx="@firebase/installations-compat",Cx="@firebase/messaging",xx="@firebase/messaging-compat",Ix="@firebase/performance",Nx="@firebase/performance-compat",Dx="@firebase/remote-config",Ox="@firebase/remote-config-compat",Mx="@firebase/storage",Vx="@firebase/storage-compat",jx="@firebase/firestore",kx="@firebase/ai",Ux="@firebase/firestore-compat",Px="firebase",Lx="12.6.0";const np="[DEFAULT]",zx={[tp]:"fire-core",[dx]:"fire-core-compat",[px]:"fire-analytics",[mx]:"fire-analytics-compat",[yx]:"fire-app-check",[gx]:"fire-app-check-compat",[_x]:"fire-auth",[vx]:"fire-auth-compat",[Ex]:"fire-rtdb",[Tx]:"fire-data-connect",[wx]:"fire-rtdb-compat",[bx]:"fire-fn",[Sx]:"fire-fn-compat",[Ax]:"fire-iid",[Rx]:"fire-iid-compat",[Cx]:"fire-fcm",[xx]:"fire-fcm-compat",[Ix]:"fire-perf",[Nx]:"fire-perf-compat",[Dx]:"fire-rc",[Ox]:"fire-rc-compat",[Mx]:"fire-gcs",[Vx]:"fire-gcs-compat",[jx]:"fire-fst",[Ux]:"fire-fst-compat",[kx]:"fire-vertex","fire-js":"fire-js",[Px]:"fire-js-all"};const Vh=new Map,Bx=new Map,ip=new Map;function OE(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function aa(i){const e=i.name;if(ip.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,i);for(const n of Vh.values())OE(n,i);for(const n of Bx.values())OE(n,i);return!0}function sf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function In(i){return i==null?!1:i.settings!==void 0}const Fx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new _u("app","Firebase",Fx);class qx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}const fa=Lx;function $T(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:np,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(n||(n=LT()),!n)throw hs.create("no-options");const u=Vh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw hs.create("duplicate-app",{appName:o})}const h=new QC(o);for(const g of ip.values())h.addComponent(g);const m=new qx(n,s,h);return Vh.set(o,m),m}function $p(i=np){const e=Vh.get(i);if(!e&&i===np&&LT())return $T();if(!e)throw hs.create("no-app",{appName:i});return e}function ji(i,e,n){let s=zx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}aa(new ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $x="firebase-heartbeat-database",Hx=1,ru="firebase-heartbeat-store";let km=null;function HT(){return km||(km=lx($x,Hx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw hs.create("idb-open",{originalErrorMessage:i.message})})),km}async function Gx(i){try{const n=(await HT()).transaction(ru),s=await n.objectStore(ru).get(GT(i));return await n.done,s}catch(e){if(e instanceof Hi)vr.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function ME(i,e){try{const s=(await HT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,GT(i)),await s.done}catch(n){if(n instanceof Hi)vr.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function GT(i){return`${i.name}!${i.options.appId}`}const Kx=1024,Yx=30;class Qx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Yx){const o=Wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=VE(),{heartbeatsToSend:n,unsentEntries:s}=Xx(this._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function VE(){return new Date().toISOString().substring(0,10)}function Xx(i,e=Kx){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),jE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Jx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UC()?PC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ME(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ME(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jE(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function Wx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function Zx(i){aa(new ms("platform-logger",e=>new hx(e),"PRIVATE")),aa(new ms("heartbeat",e=>new Qx(e),"PRIVATE")),ji(tp,DE,i),ji(tp,DE,"esm2020"),ji("fire-js","")}Zx("");var e2="firebase",t2="12.7.0";ji(e2,t2,"app");function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n2=KT,YT=new _u("auth","Firebase",KT());const jh=new Fp("@firebase/auth");function i2(i,...e){jh.logLevel<=je.WARN&&jh.warn(`Auth (${fa}): ${i}`,...e)}function wh(i,...e){jh.logLevel<=je.ERROR&&jh.error(`Auth (${fa}): ${i}`,...e)}function li(i,...e){throw Hp(i,...e)}function ki(i,...e){return Hp(i,...e)}function QT(i,e,n){const s={...n2(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:i.name})}function gr(i){return QT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return YT.create(i,...e)}function ve(i,e,...n){if(!i)throw Hp(e,...n)}function dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw wh(e),new Error(e)}function Er(i,e){i||dr(e)}function rp(){return typeof self<"u"&&self.location?.href||""}function r2(){return kE()==="http:"||kE()==="https:"}function kE(){return typeof self<"u"&&self.location?.protocol||null}function s2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r2()||MC()||"connection"in navigator)?navigator.onLine:!0}function a2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=NC()||VC()}get(){return s2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gp(i,e){Er(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const o2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const l2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u2=new Eu(3e4,6e4);function Ts(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ws(i,e,n,s,o={}){return JT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=vu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return OC()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ha(i.emulatorConfig.host)&&(p.credentials="include"),XT.fetch()(await WT(i,i.config.apiHost,n,m),p)})}async function JT(i,e,n){i._canInitEmulator=!1;const s={...o2,...e};try{const o=new h2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw dh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw dh(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw dh(i,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw QT(i,T,p);li(i,T)}}catch(o){if(o instanceof Hi)throw o;li(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,n,s,o={}){const u=await ws(i,e,n,s,o);return"mfaPendingCredential"in u&&li(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function WT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Gp(i.config,o):`${i.config.apiScheme}://${o}`;return l2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function c2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),u2.get())})}}function dh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(i,e,s);return o.customData._tokenResponse=n,o}function UE(i){return i!==void 0&&i.enterprise!==void 0}class f2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d2(i,e){return ws(i,"GET","/v2/recaptchaConfig",Ts(i,e))}async function m2(i,e){return ws(i,"POST","/v1/accounts:delete",e)}async function kh(i,e){return ws(i,"POST","/v1/accounts:lookup",e)}function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p2(i,e=!1){const n=zt(i),s=await n.getIdToken(e),o=Kp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Um(o.auth_time)),issuedAtTime:Wl(Um(o.iat)),expirationTime:Wl(Um(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Um(i){return Number(i)*1e3}function Kp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=kT(n);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function PE(i){const e=Kp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&g2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function g2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(i){const e=i.auth,n=await i.getIdToken(),s=await su(i,kh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?ZT(o.providerUserInfo):[],h=v2(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,T)}async function _2(i){const e=zt(i);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function E2(i,e){const n=await JT(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await WT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&ha(i.emulatorConfig.host)&&(g.credentials="include"),XT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T2(i,e){return ws(i,"POST","/v2/accounts:revokeToken",Ts(i,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=PE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await E2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new fo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return dr("not implemented")}}function rs(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return p2(this,e)}reload(){return _2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await su(this,m2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:V,providerData:K,stsTokenManager:D}=n;ve(w&&D,e,"internal-error");const k=fo.fromJSON(this.name,D);ve(typeof w=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof V=="boolean",e,"internal-error"),rs(u,e.name),rs(h,e.name),rs(m,e.name),rs(g,e.name),rs(p,e.name),rs(T,e.name);const Q=new si({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:V,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:p,lastLoginAt:T});return K&&Array.isArray(K)&&(Q.providerData=K.map(te=>({...te}))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const g=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const LE=new Map;function mr(i){Er(i instanceof Function,"Expected a class definition");let e=LE.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,LE.set(i,e),e)}class ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ew.type="NONE";const zE=ew;function bh(i,e,n){return`firebase:${i}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(mr(zE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||mr(zE);const h=bh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let w;if(typeof T=="string"){const A=await kh(e,{idToken:T}).catch(()=>{});if(!A)break;w=await si._fromGetAccountInfoResponse(e,A,T)}else w=si._fromJSON(e,T);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new mo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new mo(u,e,s))}}function BE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(ow(e))return"Webos";if(nw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function tw(i=an()){return/firefox\//i.test(i)}function nw(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(i=an()){return/crios\//i.test(i)}function rw(i=an()){return/iemobile/i.test(i)}function sw(i=an()){return/android/i.test(i)}function aw(i=an()){return/blackberry/i.test(i)}function ow(i=an()){return/webos/i.test(i)}function Yp(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function w2(i=an()){return Yp(i)&&!!window.navigator?.standalone}function b2(){return jC()&&document.documentMode===10}function lw(i=an()){return Yp(i)||sw(i)||ow(i)||aw(i)||/windows phone/i.test(i)||rw(i)}function uw(i,e=[]){let n;switch(i){case"Browser":n=BE(an());break;case"Worker":n=`${BE(an())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${s}`}class S2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function A2(i,e={}){return ws(i,"GET","/v2/passwordPolicy",Ts(i,e))}const R2=6;class C2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class x2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new S2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(gr(this));const n=e?zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A2(this),n=new C2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await T2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&i2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(i){return zt(i)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(i){af=i}function cw(i){return af.loadJS(i)}function N2(){return af.recaptchaEnterpriseScript}function D2(){return af.gapiScript}function O2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class M2{constructor(){this.enterprise=new V2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class V2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j2="recaptcha-enterprise",hw="NO_RECAPTCHA";class k2{constructor(e){this.type=j2,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{d2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new f2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;UE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(hw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&UE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=N2();g.length!==0&&(g+=m),cw(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function qE(i,e,n,s=!1,o=!1){const u=new k2(i);let h;if(o)h=hw;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ap(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await qE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function U2(i,e){const n=sf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function P2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function L2(i,e,n){const s=da(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=fw(e),{host:h,port:m}=z2(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(sa(p,s.config.emulator)&&sa(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ha(h)?(zp(`${u}//${h}${g}`),Bp("Auth",!0)):B2()}function fw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function z2(i){const e=fw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$E(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:$E(h)}}}function $E(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function B2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function F2(i,e){return ws(i,"POST","/v1/accounts:signUp",e)}async function q2(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",Ts(i,e))}async function $2(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",Ts(i,e))}async function H2(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",Ts(i,e))}class au extends Qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,n,"signInWithPassword",q2);case"emailLink":return $2(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,s,"signUpPassword",F2);case"emailLink":return H2(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",Ts(i,e))}const G2="http://localhost";class oa extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:G2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}function K2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(i){const e=Hl(Gl(i)).link,n=e?Hl(Gl(e)).deep_link_id:null,s=Hl(Gl(i)).deep_link_id;return(s?Hl(Gl(s)).link:null)||s||n||e||i}class Xp{constructor(e){const n=Hl(Gl(e)),s=n.apiKey??null,o=n.oobCode??null,u=K2(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Y2(e);try{return new Xp(n)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Xp.parseLink(n);return ve(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wu extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ss extends wu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";class fr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class as extends wu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";class os extends wu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";async function Q2(i,e){return Tu(i,"POST","/v1/accounts:signUp",Ts(i,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),h=HE(s);return new la({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=HE(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function HE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ph extends Hi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function mw(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,e,s):u})}async function X2(i,e,n=!1){const s=await su(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return la._forOperation(i,"link",s)}async function J2(i,e,n=!1){const{auth:s}=i;if(In(s.app))return Promise.reject(gr(s));const o="reauthenticate";try{const u=await su(i,mw(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=Kp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),la._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&li(s,"user-mismatch"),u}}async function pw(i,e,n=!1){if(In(i.app))return Promise.reject(gr(i));const s="signIn",o=await mw(i,s,e),u=await la._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function W2(i,e){return pw(da(i),e)}async function gw(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z2(i,e,n){if(In(i.app))return Promise.reject(gr(i));const s=da(i),h=await ap(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&gw(i),g}),m=await la._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function eI(i,e,n){return In(i.app)?Promise.reject(gr(i)):W2(zt(i),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gw(i),s})}function tI(i,e,n,s){return zt(i).onIdTokenChanged(e,n,s)}function nI(i,e,n){return zt(i).beforeAuthStateChanged(e,n)}function iI(i,e,n,s){return zt(i).onAuthStateChanged(e,n,s)}async function rI(i){return zt(i).delete()}const Lh="__sak";class yw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sI=1e3,aI=10;class _w extends yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);b2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const oI=_w;class vw extends yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vw.type="SESSION";const Ew=vw;function lI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await lI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function Jp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class uI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Jp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ui(){return window}function cI(i){Ui().location.href=i}function Tw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function hI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fI(){return navigator?.serviceWorker?.controller||null}function dI(){return Tw()?self:null}const ww="firebaseLocalStorageDb",mI=1,zh="firebaseLocalStorage",bw="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function pI(){const i=indexedDB.deleteDatabase(ww);return new bu(i).toPromise()}function op(){const i=indexedDB.open(ww,mI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zh,{keyPath:bw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await pI(),e(await op()))})})}async function GE(i,e,n){const s=lf(i,!0).put({[bw]:e,value:n});return new bu(s).toPromise()}async function gI(i,e){const n=lf(i,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function KE(i,e){const n=lf(i,!0).delete(e);return new bu(n).toPromise()}const yI=800,_I=3;class Sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_I)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(dI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hI(),!this.activeServiceWorker)return;this.sender=new uI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await GE(e,Lh,"1"),await KE(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>GE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>gI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sw.type="LOCAL";const vI=Sw;new Eu(3e4,6e4);function EI(i,e){return e?mr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Wp extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TI(i){return pw(i.auth,new Wp(i),i.bypassAuthState)}function wI(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),J2(n,new Wp(i),i.bypassAuthState)}async function bI(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),X2(n,new Wp(i),i.bypassAuthState)}class Aw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TI;case"linkViaPopup":case"linkViaRedirect":return bI;case"reauthViaPopup":case"reauthViaRedirect":return wI;default:li(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SI=new Eu(2e3,1e4);class ho extends Aw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SI.get())};e()}}ho.currentPopupAction=null;const AI="pendingRedirect",Sh=new Map;class RI extends Aw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await CI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(i,e){const n=NI(e),s=II(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xI(i,e){Sh.set(i._key(),e)}function II(i){return mr(i._redirectPersistence)}function NI(i){return bh(AI,i.config.apiKey,i.name)}async function DI(i,e,n=!1){if(In(i.app))return Promise.reject(gr(i));const s=da(i),o=EI(s,e),h=await new RI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const OI=600*1e3;class MI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Rw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OI&&this.cachedEventUids.clear(),this.cachedEventUids.has(YE(e))}saveEventToCache(e){this.cachedEventUids.add(YE(e)),this.lastProcessedEventTime=Date.now()}}function YE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Rw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function VI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rw(i);default:return!1}}async function jI(i,e={}){return ws(i,"GET","/v1/projects",e)}const kI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function PI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await jI(i);for(const n of e)try{if(LI(n))return}catch{}li(i,"unauthorized-domain")}function LI(i){const e=rp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!UI.test(n))return!1;if(kI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const zI=new Eu(3e4,6e4);function QE(){const i=Ui().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function BI(i){return new Promise((e,n)=>{function s(){QE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QE(),n(ki(i,"network-request-failed"))},timeout:zI.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=O2("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(ki(i,"network-request-failed"))},cw(`${D2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function FI(i){return Ah=Ah||BI(i),Ah}const qI=new Eu(5e3,15e3),$I="__/auth/iframe",HI="emulator/auth/iframe",GI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YI(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Gp(e,HI):`https://${i.config.authDomain}/${$I}`,s={apiKey:e.apiKey,appName:i.name,v:fa},o=KI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function QI(i){const e=await FI(i),n=Ui().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:YI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ki(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},qI.get());function g(){Ui().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const XI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JI=500,WI=600,ZI="_blank",eN="http://localhost";class XE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(i,e,n,s=JI,o=WI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...XI,width:s.toString(),height:o.toString(),top:u,left:h},p=an().toLowerCase();n&&(m=iw(p)?ZI:n),tw(p)&&(e=e||eN,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[V,K])=>`${A}${V}=${K},`,"");if(w2(p)&&m!=="_self")return nN(e||"",m),new XE(null);const w=window.open(e||"",m,T);ve(w,i,"popup-blocked");try{w.focus()}catch{}return new XE(w)}function nN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const iN="__/auth/handler",rN="emulator/auth/handler",sN=encodeURIComponent("fac");async function JE(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:fa,eventId:o};if(e instanceof dw){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",FC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))h[T]=w}if(e instanceof wu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await i._getAppCheckToken(),p=g?`#${sN}=${encodeURIComponent(g)}`:"";return`${aN(i)}?${vu(m).slice(1)}${p}`}function aN({config:i}){return i.emulator?Gp(i,rN):`https://${i.authDomain}/${iN}`}const Pm="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=DI,this._overrideRedirectResult=xI}async _openPopup(e,n,s,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await JE(e,n,s,rp(),o);return tN(e,u,Jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await JE(e,n,s,rp(),o);return cI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await QI(e),s=new MI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{const u=o?.[0]?.[Pm];u!==void 0&&n(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lw()||nw()||Yp()}}const lN=oN;var WE="@firebase/auth",ZE="1.12.0";class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(i){aa(new ms("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(i)},p=new x2(s,o,u,g);return P2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),aa(new ms("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new uN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(WE,ZE,cN(i)),ji(WE,ZE,"esm2020")}const fN=300,dN=zT("authIdTokenMaxAge")||fN;let e0=null;const mN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dN)return;const o=n?.token;e0!==o&&(e0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cw(i=$p()){const e=sf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=U2(i,{popupRedirectResolver:lN,persistence:[vI,oI,Ew]}),s=zT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=mN(u.toString());nI(n,h,()=>h(n.currentUser)),tI(n,m=>h(m))}}const o=UT("auth");return o&&L2(n,`http://${o}`),n}function pN(){return document.getElementsByTagName("head")?.[0]??document}I2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",pN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fs,xw;(function(){var i;function e(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(U,M,z){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return R.prototype[M].apply(U,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);const U=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)U[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)U[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],M=N.g[2];let z=N.g[3],x;x=R+(z^C&(M^z))+U[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+U[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+U[2]+606105819&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+U[3]+3250441966&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(z^C&(M^z))+U[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+U[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+U[6]+2821735955&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+U[7]+4249261313&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(z^C&(M^z))+U[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+U[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+U[10]+4294925233&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+U[11]+2304563134&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(z^C&(M^z))+U[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(M^R&(C^M))+U[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=M+(C^z&(R^C))+U[14]+2792965006&4294967295,M=z+(x<<17&4294967295|x>>>15),x=C+(R^M&(z^R))+U[15]+1236535329&4294967295,C=M+(x<<22&4294967295|x>>>10),x=R+(M^z&(C^M))+U[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+U[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+U[11]+643717713&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+U[0]+3921069994&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(M^z&(C^M))+U[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+U[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+U[15]+3634488961&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+U[4]+3889429448&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(M^z&(C^M))+U[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+U[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+U[3]+4107603335&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+U[8]+1163531501&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(M^z&(C^M))+U[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^M&(R^C))+U[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=M+(R^C&(z^R))+U[7]+1735328473&4294967295,M=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(M^z))+U[12]+2368359562&4294967295,C=M+(x<<20&4294967295|x>>>12),x=R+(C^M^z)+U[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+U[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+U[11]+1839030562&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+U[14]+4259657740&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(C^M^z)+U[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+U[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+U[7]+4139469664&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+U[10]+3200236656&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(C^M^z)+U[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+U[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+U[3]+3572445317&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+U[6]+76029189&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(C^M^z)+U[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^M)+U[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=M+(z^R^C)+U[15]+530742520&4294967295,M=z+(x<<16&4294967295|x>>>16),x=C+(M^z^R)+U[2]+3299628645&4294967295,C=M+(x<<23&4294967295|x>>>9),x=R+(M^(C|~z))+U[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+U[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+U[14]+2878612391&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+U[5]+4237533241&4294967295,C=M+(x<<21&4294967295|x>>>11),x=R+(M^(C|~z))+U[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+U[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+U[10]+4293915773&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+U[1]+2240044497&4294967295,C=M+(x<<21&4294967295|x>>>11),x=R+(M^(C|~z))+U[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+U[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+U[6]+2734768916&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+U[13]+1309151649&4294967295,C=M+(x<<21&4294967295|x>>>11),x=R+(M^(C|~z))+U[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~M))+U[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=M+(R^(z|~C))+U[2]+718787259&4294967295,M=z+(x<<15&4294967295|x>>>17),x=C+(z^(M|~R))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,U=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=C;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<R;)if(U[M++]=N.charCodeAt(z++),M==this.blockSize){o(this,U),M=0;break}}else for(;z<R;)if(U[M++]=N[z++],M==this.blockSize){o(this,U),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)N[R++]=this.g[C]>>>U&255;return N};function u(N,R){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function h(N,R){this.h=R;const C=[];let U=!0;for(let M=N.length-1;M>=0;M--){const z=N[M]|0;U&&z==R||(C[M]=z,U=!1)}this.g=C}var m={};function g(N){return-128<=N&&N<128?u(N,function(R){return new h([R|0],R<0?-1:0)}):new h([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return k(p(-N));const R=[];let C=1;for(let U=0;N>=C;U++)R[U]=N/C|0,C*=4294967296;return new h(R,0)}function T(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return k(T(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let U=w;for(let z=0;z<N.length;z+=8){var M=Math.min(8,N.length-z);const x=parseInt(N.substring(z,z+M),R);M<8?(M=p(Math.pow(R,M)),U=U.j(M).add(p(x))):(U=U.j(C),U=U.add(p(x)))}return U}var w=g(0),A=g(1),V=g(16777216);i=h.prototype,i.m=function(){if(D(this))return-k(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);N+=(U>=0?U:4294967296+U)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(D(this))return"-"+k(this).toString(N);const R=p(Math.pow(N,6));var C=this;let U="";for(;;){const M=ge(C,R).g;C=Q(C,M.j(R));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=M,K(C))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function D(N){return N.h==-1}i.l=function(N){return N=Q(this,N),D(N)?-1:K(N)?0:1};function k(N){const R=N.g.length,C=[];for(let U=0;U<R;U++)C[U]=~N.g[U];return new h(C,~N.h).add(A)}i.abs=function(){return D(this)?k(this):this},i.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let U=0;for(let M=0;M<=R;M++){let z=U+(this.i(M)&65535)+(N.i(M)&65535),x=(z>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);U=x>>>16,z&=65535,x&=65535,C[M]=x<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(N,R){return N.add(k(R))}i.j=function(N){if(K(this)||K(N))return w;if(D(this))return D(N)?k(this).j(k(N)):k(k(this).j(N));if(D(N))return k(this.j(k(N)));if(this.l(V)<0&&N.l(V)<0)return p(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var U=0;U<2*R;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<N.g.length;M++){const z=this.i(U)>>>16,x=this.i(U)&65535,ot=N.i(M)>>>16,jt=N.i(M)&65535;C[2*U+2*M]+=x*jt,te(C,2*U+2*M),C[2*U+2*M+1]+=z*jt,te(C,2*U+2*M+1),C[2*U+2*M+1]+=x*ot,te(C,2*U+2*M+1),C[2*U+2*M+2]+=z*ot,te(C,2*U+2*M+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new h(C,0)};function te(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function re(N,R){this.g=N,this.h=R}function ge(N,R){if(K(R))throw Error("division by zero");if(K(N))return new re(w,w);if(D(N))return R=ge(k(N),R),new re(k(R.g),k(R.h));if(D(R))return R=ge(N,k(R)),new re(k(R.g),R.h);if(N.g.length>30){if(D(N)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,U=R;U.l(N)<=0;)C=Te(C),U=Te(U);var M=be(C,1),z=be(U,1);for(U=be(U,2),C=be(C,2);!K(U);){var x=z.add(U);x.l(N)<=0&&(M=M.add(C),z=x),U=be(U,1),C=be(C,1)}return R=Q(N,M.j(R)),new re(M,R)}for(M=w;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=p(C),x=z.j(R);D(x)||x.l(N)>0;)C-=U,z=p(C),x=z.j(R);K(z)&&(z=A),M=M.add(z),N=Q(N,x)}return new re(M,N)}i.B=function(N){return ge(this,N).h},i.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)&N.i(U);return new h(C,this.h&N.h)},i.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)|N.i(U);return new h(C,this.h|N.h)},i.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)^N.i(U);return new h(C,this.h^N.h)};function Te(N){const R=N.g.length+1,C=[];for(let U=0;U<R;U++)C[U]=N.i(U)<<1|N.i(U-1)>>>31;return new h(C,N.h)}function be(N,R){const C=R>>5;R%=32;const U=N.g.length-C,M=[];for(let z=0;z<U;z++)M[z]=R>0?N.i(z+C)>>>R|N.i(z+C+1)<<32-R:N.i(z+C);return new h(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,xw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,fs=h}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Iw,Kl,Nw,Rh,lp,Dw,Ow,Mw;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in E))break e;E=E[B]}c=c[c.length-1],S=E[c],_=_(S),_!=S&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&E.push([S,_[S]]);return E}});var u=u||{},h=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function g(c,_,E){return c.call.apply(c.bind,arguments)}function p(c,_,E){return p=g,p.apply(null,arguments)}function T(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,B,G){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return _.prototype[B].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const _=c.length;if(_>0){const E=Array(_);for(let S=0;S<_;S++)E[S]=c[S];return E}return[]}function K(c,_){for(let S=1;S<arguments.length;S++){const B=arguments[S];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const G=B.length||0;c.length=E+G;for(let se=0;se<G;se++)c[E+se]=B[se]}else c.push(B)}}class D{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(c){h.setTimeout(()=>{throw c},0)}function Q(){var c=N;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class te{constructor(){this.h=this.g=null}add(_,E){const S=re.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new D(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,be=!1,N=new te,R=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(C)}};function C(){for(var c;c=Q();){try{c.h.call(c.g)}catch(E){k(E)}var _=re;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}be=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ot(c,_){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}w(ot,M),ot.prototype.init=function(c,_){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,_,E,S,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=B,this.key=++J,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,_,E){for(const S in c)_.call(E,c[S],S,c)}function Ke(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function j(c){const _={};for(const E in c)_[E]=c[E];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,_){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)c[E]=S[E];for(let G=0;G<ne.length;G++)E=ne[G],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,_,E,S,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ie(c,_,S,B);return se>-1?(_=c[se],E||(_.fa=!1)):(_=new ae(_,this.src,G,!!S,B),_.fa=E,c.push(_)),_};function we(c,_){const E=_.type;if(E in c.g){var S=c.g[E],B=Array.prototype.indexOf.call(S,_,void 0),G;(G=B>=0)&&Array.prototype.splice.call(S,B,1),G&&(ye(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ie(c,_,E,S){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==S)return B}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),kt={};function lt(c,_,E,S,B){if(Array.isArray(_)){for(let G=0;G<_.length;G++)lt(c,_[G],E,S,B);return null}return E=Lo(E),c&&c[jt]?c.J(_,E,m(S)?!!S.capture:!1,B):As(c,_,E,!1,S,B)}function As(c,_,E,S,B,G){if(!_)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let Ce=Rs(c);if(Ce||(c[Le]=Ce=new ce(c)),E=Ce.add(_,E,S,se,G),E.proxy)return E;if(S=ya(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)z||(B=se),B===void 0&&(B=!1),c.addEventListener(_.toString(),S,B);else if(c.attachEvent)c.attachEvent(hi(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function c(E){return _.call(c.src,c.listener,E)}const _=Uo;return c}function _a(c,_,E,S,B){if(Array.isArray(_))for(var G=0;G<_.length;G++)_a(c,_[G],E,S,B);else S=m(S)?!!S.capture:!!S,E=Lo(E),c&&c[jt]?(c=c.i,G=String(_).toString(),G in c.g&&(_=c.g[G],E=Ie(_,E,S,B),E>-1&&(ye(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[G],c.h--)))):c&&(c=Rs(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ie(_,E,S,B)),(E=c>-1?_[c]:null)&&va(E))}function va(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[jt])we(_.i,c);else{var E=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(E,S,c.capture):_.detachEvent?_.detachEvent(hi(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Rs(_))?(we(E,c),E.h==0&&(E.src=null,_[Le]=null)):ye(c)}}}function hi(c){return c in kt?kt[c]:kt[c]="on"+c}function Uo(c,_){if(c.da)c=!0;else{_=new ot(_,this);const E=c.listener,S=c.ha||c.src;c.fa&&va(c),c=E.call(S,_)}return c}function Rs(c){return c=c[Le],c instanceof ce?c:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(_){return c.handleEvent(_)}),c[Po])}function Tt(){U.call(this),this.i=new ce(this),this.M=this,this.G=null}w(Tt,U),Tt.prototype[jt]=!0,Tt.prototype.removeEventListener=function(c,_,E,S){_a(this,c,_,E,S)};function Ut(c,_){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new M(_,c);else if(_ instanceof M)_.target=_.target||c;else{var B=_;_=new M(S,c),oe(_,B)}B=!0;let G,se;if(E)for(se=E.length-1;se>=0;se--)G=_.g=E[se],B=Ar(G,S,!0,_)&&B;if(G=_.g=c,B=Ar(G,S,!0,_)&&B,B=Ar(G,S,!1,_)&&B,E)for(se=0;se<E.length;se++)G=_.g=E[se],B=Ar(G,S,!1,_)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let S=0;S<E.length;S++)ye(E[S]);delete c.g[_],c.h--}}this.G=null},Tt.prototype.J=function(c,_,E,S){return this.i.add(String(c),_,!1,E,S)},Tt.prototype.K=function(c,_,E,S){return this.i.add(String(c),_,!0,E,S)};function Ar(c,_,E,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let G=0;G<_.length;++G){const se=_[G];if(se&&!se.da&&se.capture==E){const Ce=se.listener,gt=se.ha||se.src;se.fa&&we(c.i,se),B=Ce.call(gt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Af(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function Uu(c){c.g=Af(()=>{c.g=null,c.i&&(c.i=!1,Uu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class on extends U{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){U.call(this),this.h=c,this.g={}}w(Cs,U);var zo=[];function Bo(c){Be(c.g,function(_,E){this.g.hasOwnProperty(E)&&va(_)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),Bo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=h.JSON.stringify,Rf=h.JSON.parse,Pu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Lu(){}function zu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){M.call(this,"d")}w(Ht,M);function Mn(){M.call(this,"c")}w(Mn,M);var pt={},Bu=null;function Ea(){return Bu=Bu||new Tt}pt.Ia="serverreachability";function Fu(c){M.call(this,pt.Ia,c)}w(Fu,M);function fi(c){const _=Ea();Ut(_,new Fu(_))}pt.STAT_EVENT="statevent";function xs(c,_){M.call(this,pt.STAT_EVENT,c),this.stat=_}w(xs,M);function wt(c){const _=Ea();Ut(_,new xs(_,c))}pt.Ja="timingevent";function di(c,_){M.call(this,pt.Ja,c),this.size=_}w(di,M);function mi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Cf(c,_,E,S,B,G){c.info(function(){if(c.g)if(G){var se="",Ce=G.split("&");for(let $e=0;$e<Ce.length;$e++){var gt=Ce[$e].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Un=ut.split("_");se=Un.length>=2&&Un[1]=="type"?se+(ut+"="+gt+"&"):se+(ut+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+E+`
`+se})}function qu(c,_,E,S,B,G,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+E+`
`+G+" "+se})}function pi(c,_,E,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+xf(c,E)+(S?" "+S:"")})}function Is(c,_){c.info(function(){return"TIMEOUT: "+_})}Yn.prototype.info=function(){};function xf(c,_){if(!c.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Rr(G)}catch{return _}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Ds(){}w(Ds,Lu),Ds.prototype.g=function(){return new XMLHttpRequest},qo=new Ds;function Ki(c){return encodeURIComponent(String(c))}function $u(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function Qn(c,_,E,S){this.j=c,this.i=_,this.l=E,this.S=S||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var bt={},Bt={};function gi(c,_,E){c.M=1,c.A=Os(At(_)),c.u=E,c.R=!0,Ta(c,null)}function Ta(c,_){c.F=Date.now(),yi(c),c.B=At(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Aa(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Xn,c.g=sc(c.j,E?_:null,!c.u),c.P>0&&(c.O=new on(p(c.Y,c,c.g),c.P)),_=c.V,E=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(zo[0]=B.toString()),B=zo);for(let G=0;G<B.length;G++){const se=lt(E,B[G],S||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),fi(),Cf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Zn(c)==3?_.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Zn(this.g),gt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||$e<=0?fi(3):fi(2)),_i(this);var _=this.g.ca();this.X=_;var E=If(this);if(this.o=_==200,qu(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var G=S;break t}}G=null}if(c=G)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,wt(12),En(this),Vn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Gu(this,E),ut==Bt){Ce==4&&(this.m=4,wt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==bt){this.m=4,wt(15),pi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,ut,null),vi(this,ut);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),rl(se),se.P=!0,wt(11))}}else pi(this.i,this.l,E,null),vi(this,E);Ce==4&&En(this),this.o&&!this.K&&(Ce==4?tc(this.j,this):(this.o=!1,yi(this)))}else Qi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),En(this),Vn(this)}}}catch{}};function If(c){if(!Hu(c))return c.g.la();const _=Gt(c.g);if(_==="")return"";let E="";const S=_.length,B=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),Vn(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,E+=c.h.i.decode(_[G],{stream:!(B&&G==S-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function Hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Gu(c,_){var E=c.C,S=_.indexOf(`
`,E);return S==-1?Bt:(E=Number(_.substring(E,S)),isNaN(E)?bt:(S+=1,S+E>_.length?Bt:(_=_.slice(S,S+E),c.C=S+E,_)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function yi(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),_)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(fi(),wt(17)),En(this),this.m=2,Vn(this)):wa(this,this.T-c)};function Vn(c){c.j.I==0||c.K||tc(c.j,c)}function En(c){_i(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Bo(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function vi(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Ti(E.h,c))){if(!c.L&&Ti(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Na(E),Vr(E);else break e;Ls(E),wt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(p(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ci(E,11)}else if((c.L||E.g==c)&&Na(E),!x(_))for(B=E.Ba.g.parse(_),_=0;_<B.length;_++){let $e=B[_];const ut=$e[0];if(!(ut<=E.K))if(E.K=ut,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const Un=$e[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const xi=$e[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const ei=$e[5];ei!=null&&typeof ei=="number"&&ei>0&&(S=1.5*ei,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ti=c.g;if(ti){const zs=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var G=S.h;G.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Go(G,G.h),G.h=null))}if(S.G){const Da=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(S.wa=Da,Ye(S.J,S.G,Da))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var se=c;if(S.na=rc(S,S.L?S.ba:null,S.W),se.L){Ko(S.h,se);var Ce=se,gt=S.O;gt&&(Ce.H=gt),Ce.D&&(_i(Ce),yi(Ce)),S.g=se}else Zu(S);E.i.length>0&&Ri(E)}else $e[0]!="stop"&&$e[0]!="close"||Ci(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ci(E,7):nl(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}fi(4)}catch{}}var St=class{constructor(c,_){this.g=c,this.map=_}};function $o(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Go(c,_){c.g?c.g.add(_):c.h=_}function Ko(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}$o.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return V(c.i)}var Ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let B,G=null;S>=0?(B=c[E].substring(0,S),G=c[E].substring(S+1)):B=c[E],_(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Tn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,Qo(this,Ju(c.i)),this.m=c.m):c&&(_=String(c).match(Ku))?(this.l=!1,Ft(this,_[1]||"",!0),this.o=wi(_[2]||""),this.g=wi(_[3]||"",!0),Cr(this,_[4]),this.h=wi(_[5]||"",!0),Qo(this,_[6]||"",!0),this.m=wi(_[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}Tn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Ms(_,Sa,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ms(_,Sa,!0),"@"),c.push(Ki(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ms(E,E.charAt(0)=="/"?Xo:Yu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ms(E,Qu)),c.join("")},Tn.prototype.resolve=function(c){const _=At(this);let E=!!c.j;E?Ft(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var S=c.h;if(E)Cr(_,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=_.h.lastIndexOf("/");B!=-1&&(S=_.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let se=0;se<B.length;){const Ce=B[se++];Ce=="."?S&&se==B.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&se==B.length&&G.push("")):(G.push(Ce),S=!0)}S=G.join("/")}else S=B}return E?_.h=S:E=c.i.toString()!=="",E?Qo(_,Ju(c.i)):E=!!c.m,E&&(_.m=c.m),_};function At(c){return new Tn(c)}function Ft(c,_,E){c.j=E?wi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Qo(c,_,E){_ instanceof Ir?(c.i=_,Ra(c.i,c.l)):(E||(_=Ms(_,xr)),c.i=new Ir(_,c.l))}function Ye(c,_,E){c.i.set(_,E)}function Os(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,cn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,Yu=/[#\?:]/g,Xo=/[#\?]/g,xr=/[#\?@]/g,Qu=/#/g;function Ir(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Ir.prototype,i.add=function(c,_){hn(this),this.i=null,c=Nr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Xu(c,_){hn(c),_=Nr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Jo(c,_){return hn(c),_=Nr(c,_),c.g.has(_)}i.forEach=function(c,_){hn(this),this.g.forEach(function(E,S){E.forEach(function(B){c.call(_,B,S,this)},this)},this)};function Wo(c,_){hn(c);let E=[];if(typeof _=="string")Jo(c,_)&&(E=E.concat(c.g.get(Nr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}i.set=function(c,_){return hn(this),this.i=null,c=Nr(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=Wo(this,c),c.length>0?String(c[0]):_):_};function Aa(c,_,E){Xu(c,_),E.length>0&&(c.i=null,c.g.set(Nr(c,_),V(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var E=_[S];const B=Ki(E);E=Wo(this,E);for(let G=0;G<E.length;G++){let se=B;E[G]!==""&&(se+="="+Ki(E[G])),c.push(se)}}return this.i=c.join("&")};function Ju(c){const _=new Ir;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Nr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ra(c,_){_&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(E,S){const B=S.toLowerCase();S!=B&&(Xu(this,S),Aa(this,B,E))},c)),c.j=_}function Jn(c,_){const E=new Yn;if(h.Image){const S=new Image;S.onload=T(jn,E,"TestLoadImage: loaded",!0,_,S),S.onerror=T(jn,E,"TestLoadImage: error",!1,_,S),S.onabort=T(jn,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=T(jn,E,"TestLoadImage: timeout",!1,_,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Zo(c,_){const E=new Yn,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?jn(E,"TestPingServer: ok",!0,_):jn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),jn(E,"TestPingServer: error",!1,_)})}function jn(c,_,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Dr(){this.g=new Pu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(bi,Lu),bi.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,_){Tt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Vs,Tt),i=Vs.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Wn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Or(this):Wn(this),this.readyState==3&&Ca(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Or(this))},i.Na=function(c){this.g&&(this.response=c,Or(this))},i.ga=function(){this.g&&Or(this)};function Or(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}i.setRequestHeader=function(c,_){this.A.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let _="";return Be(c,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function js(c,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=kn(E),typeof c=="string"?E!=null&&Ki(E):Ye(c,_,E))}function Je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Tt);var Si=/^https?$/i,el=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){ks(this,G);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(el,_,void 0)>=0)||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of E)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ks(this,G)}};function ks(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,tl(c),Yi(c)}function tl(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ut(this,"complete"),Ut(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},i.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ut(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=G===0){let se=String(c.D).match(Ku)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Si.test(se?se.toLowerCase():"")}E=S}if(E)Ut(c,"complete"),Ut(c,"success");else{c.o=6;try{var B=Zn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",tl(c)}}finally{Yi(c)}}}}function Yi(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||Ut(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Rf(_)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const _={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var E=$u(c[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[B]||[];_[B]=G,G.push(E)}Ke(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Mr(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(c&&c.concurrentRequestLimit),this.Ba=new Dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Mr.prototype,i.ka=8,i.I=1,i.connect=function(c,_,E,S){wt(0),this.W=c,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=rc(this,null,this.W),Ri(this)};function nl(c){if(xa(c),c.I==3){var _=c.V++,E=At(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",_),Ye(E,"TYPE","terminate"),Ps(c,E),_=new Qn(c,c.j,_),_.M=2,_.A=Os(At(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.A,E=!0),E||(_.g=sc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),yi(_)}ic(c)}function Vr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function xa(c){Vr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Ho(c.h)&&!c.m){c.m=!0;var _=c.Ea;Te||R(),be||(Te(),be=!0),N.add(_,c),c.D=0}}function Ia(c,_){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,_),nc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=j(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Wu(this,B,_),E=At(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Ps(this,E),G&&(this.R?_="headers="+Ki(kn(G))+"&"+_:this.u&&js(E,this.u,G)),Go(this.h,B),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",_),Ye(E,"SID","null"),B.U=!0,gi(B,E,null)):gi(B,E,_),this.I=2}}else this.I==3&&(c?il(this,c):this.i.length==0||Ho(this.h)||il(this))};function il(c,_){var E;_?E=_.l:E=c.V++;const S=At(c.J);Ye(S,"SID",c.M),Ye(S,"RID",E),Ye(S,"AID",c.K),Ps(c,S),c.u&&c.o&&js(S,c.u,c.o),E=new Qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Wu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),gi(E,S,_)}function Ps(c,_){c.H&&Be(c.H,function(E,S){Ye(_,S,E)}),c.l&&Be({},function(E,S){Ye(_,S,E)})}function Wu(c,_,E){E=Math.min(c.i.length,E);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ce=-1;for(;;){const gt=["count="+E];Ce==-1?E>0?(Ce=B[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let $e=!0;for(let ut=0;ut<E;ut++){var G=B[ut].g;const Un=B[ut].map;if(G-=Ce,G<0)Ce=Math.max(0,B[ut].g-100),$e=!1;else try{G="req"+G+"_"||"";try{var se=Un instanceof Map?Un:Object.entries(Un);for(const[xi,ei]of se){let ti=ei;m(ei)&&(ti=Rr(ei)),gt.push(G+xi+"="+encodeURIComponent(ti))}}catch(xi){throw gt.push(G+"type="+encodeURIComponent("_badmap")),xi}}catch{S&&S(Un)}}if($e){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),_.G=c,se}function Zu(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Te||R(),be||(Te(),be=!0),N.add(_,c),c.A=0}}function Ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),nc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Vr(this),ec(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ec(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=At(c.na);Ye(_,"RID","rpc"),Ye(_,"SID",c.M),Ye(_,"AID",c.K),Ye(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(_,"TO",c.ia),Ye(_,"TYPE","xmlhttp"),Ps(c,_),c.u&&c.o&&js(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Os(At(_)),E.u=null,E.R=!0,Ta(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),Ls(this),wt(19))};function Na(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function tc(c,_){var E=null;if(c.g==_){Na(c),rl(c),c.g=null;var S=2}else if(Ti(c.h,_))E=_.G,Ko(c.h,_),S=1;else return;if(c.I!=0){if(_.o)if(S==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var B=c.D;S=Ea(),Ut(S,new di(S,E)),Ri(c)}else Zu(c);else if(B=_.m,B==3||B==0&&_.X>0||!(S==1&&Ia(c,_)||S==2&&Ls(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),B){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function nc(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function Ci(c,_){if(c.j.info("Error code "+_),_==2){var E=p(c.bb,c),S=c.Ua;const B=!S;S=new Tn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ft(S,"https"),Os(S),B?Jn(S.toString(),E):Zo(S.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(_),ic(c),xa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function ic(c){if(c.I=0,c.ja=[],c.l){const _=Yo(c.h);(_.length!=0||c.i.length!=0)&&(K(c.ja,_),K(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function rc(c,_,E){var S=E instanceof Tn?At(E):new Tn(E);if(S.g!="")_&&(S.g=_+"."+S.g),Cr(S,S.u);else{var B=h.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const G=new Tn(null);S&&Ft(G,S),_&&(G.g=_),B&&Cr(G,B),E&&(G.h=E),S=G}return E=c.G,_=c.wa,E&&_&&Ye(S,E,_),Ye(S,"VER",c.ka),Ps(c,S),S}function sc(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new bi({ab:E})):new Je(c.ma),_.Fa(c.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}i=ac.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function jr(){}jr.prototype.g=function(c,_){return new ln(c,_)};function ln(c,_){Tt.call(this),this.g=new Mr(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!x(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Xi(this)}w(ln,Tt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){nl(this.g)},ln.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Rr(c),c=E);_.i.push(new St(_.Ya++,c)),_.I==3&&Ri(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,ln.Z.N.call(this)};function oc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}w(oc,Ht);function lc(){Mn.call(this),this.status=1}w(lc,Mn);function Xi(c){this.g=c}w(Xi,ac),Xi.prototype.ra=function(){Ut(this.g,"a")},Xi.prototype.qa=function(c){Ut(this.g,new oc(c))},Xi.prototype.pa=function(c){Ut(this.g,new lc)},Xi.prototype.oa=function(){Ut(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Mw=function(){return new jr},Ow=function(){return Ea()},Dw=pt,lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Rh=Ns,Fo.COMPLETE="complete",Nw=Fo,zu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Kl=zu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Iw=Je}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",i0="4.9.3";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Do="12.7.0";const ua=new Fp("@firebase/firestore");function oo(){return ua.logLevel}function ue(i,...e){if(ua.logLevel<=je.DEBUG){const n=e.map(Zp);ua.debug(`Firestore (${Do}): ${i}`,...n)}}function Tr(i,...e){if(ua.logLevel<=je.ERROR){const n=e.map(Zp);ua.error(`Firestore (${Do}): ${i}`,...n)}}function To(i,...e){if(ua.logLevel<=je.WARN){const n=e.map(Zp);ua.warn(`Firestore (${Do}): ${i}`,...n)}}function Zp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vw(i,s,n)}function Vw(i,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Vw(e,o,s)}function Re(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class jw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _N{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new jw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class vN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new vN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=wN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function up(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?ke(o,u):Lm(o)?1:-1}return ke(i.length,e.length)}const bN=55296,SN=57343;function Lm(i){const e=i.charCodeAt(0);return e>=bN&&e<=SN}function wo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const s0="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class nt extends Mi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Mi{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return AN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Wt([s0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function kw(i,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function RN(i,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function a0(i){if(!pe.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function o0(i){if(pe.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function uf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Fi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(i);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function Su(i,e){if(!Uw(i))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const l0=-62135596800,u0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u0);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ot("string",st._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ou=-1;function CN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ps(o,pe.empty(),e)}function xN(i){return new ps(i.readTime,i.key,ou)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Se.min(),pe.empty(),ou)}static max(){return new ps(Se.max(),pe.empty(),ou)}}function IN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==NN)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function ON(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cf.ce=-1;const tg=-1;function hf(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function MN(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Pw="";function VN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=c0(e)),e=jN(i.get(n),e);return c0(e)}function jN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Pw:n+="";break;default:n+=u}}return n}function c0(i){return i+Pw+""}function h0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Lw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Lt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zw("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=kN.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ys(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}const Bw="server_timestamp",Fw="__type__",qw="__previous_value__",$w="__local_write_time__";function ng(i){return(i?.mapValue?.fields||{})[Fw]?.stringValue===Bw}function ff(i){const e=i.mapValue.fields[qw];return ng(e)?ff(e):e}function lu(i){const e=gs(i.mapValue.fields[$w].timestampValue);return new st(e.seconds,e.nanos)}class UN{constructor(e,n,s,o,u,h,m,g,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T}}const Fh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}const Hw="__type__",PN="__max__",gh={mapValue:{}},Gw="__vector__",qh="value";function _s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ng(i)?4:zN(i)?9007199254740991:LN(i)?10:11:Ee(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=_s(i);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gs(o.timestampValue),m=gs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Bh(h)===Bh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(h0(h)!==h0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!qi(h[g],m[g])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function cu(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function bo(i,e){if(i===e)return 0;const n=_s(i),s=_s(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),g=vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return d0(i.timestampValue,e.timestampValue);case 4:return d0(lu(i),lu(e));case 5:return up(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=ys(u),g=ys(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=ke(m[p],g[p]);if(T!==0)return T}return ke(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(vt(u.latitude),vt(h.latitude));return m!==0?m:ke(vt(u.longitude),vt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return m0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[qh]?.arrayValue,T=g[qh]?.arrayValue,w=ke(p?.values?.length||0,T?.values?.length||0);return w!==0?w:m0(p,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===gh.mapValue&&h===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const A=up(g[w],T[w]);if(A!==0)return A;const V=bo(m[g[w]],p[T[w]]);if(V!==0)return V}return ke(g.length,T.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function d0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=gs(i),s=gs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function m0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function So(i){return cp(i)}function cp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ys(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=cp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${cp(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Ch(i){switch(_s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return ys(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,h)=>{o+=u.length+Ch(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function p0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function hp(i){return!!i&&"integerValue"in i}function ig(i){return!!i&&"arrayValue"in i}function g0(i){return!!i&&"nullValue"in i}function y0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function LN(i){return(i?.mapValue?.fields||{})[Hw]?.stringValue===Gw}function Zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return e}return{...i}}function zN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===PN}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vn(Zl(this.value))}}function Kw(i){const e=[];return bs(i.fields,((n,s)=>{const o=new Wt([n]);if(xh(s)){const u=Kw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Nn(e)}class sn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(e,n){this.position=e,this.inclusive=n}}function _0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=bo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function v0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function BN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Yw{}class Dt extends Yw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new qN(e,n,s):n==="array-contains"?new GN(e,s):n==="in"?new KN(e,s):n==="not-in"?new YN(e,s):n==="array-contains-any"?new QN(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $N(e,s):new HN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Yw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return Qw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qw(i){return i.op==="and"}function Xw(i){return FN(i)&&Qw(i)}function FN(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function fp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+So(i.value);if(Xw(i))return i.filters.map((e=>fp(e))).join(",");{const e=i.filters.map((n=>fp(n))).join(",");return`${i.op}(${e})`}}function Jw(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,e):i instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Jw(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function Ww(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(i):i instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ww).join(" ,")+"}"})(i):"Filter"}class qN extends Dt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $N extends Dt{constructor(e,n){super(e,"in",n),this.keys=Zw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class HN extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Zw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Zw(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class GN extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&cu(n.arrayValue,this.value)}}class KN extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class YN extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class QN extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}class XN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function E0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new XN(i,e,n,s,o,u,h)}function rg(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>fp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=n}return e.Te}function sg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!BN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Jw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!v0(i.startAt,e.startAt)&&v0(i.endAt,e.endAt)}function dp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Vo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JN(i,e,n,s,o,u,h,m){return new Vo(i,e,n,s,o,u,h,m)}function ag(i){return new Vo(i)}function T0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eb(i){return i.collectionGroup!==null}function eu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Wt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new hu(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new hu(Wt.keyField(),s))}return e.Ie}function Pi(i){const e=Re(i);return e.Ee||(e.Ee=WN(e,eu(i))),e.Ee}function WN(i,e){if(i.limitType==="F")return E0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)}));const n=i.endAt?new $h(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new $h(i.startAt.position,i.startAt.inclusive):null;return E0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function mp(i,e){const n=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function pp(i,e,n){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function df(i,e){return sg(Pi(i),Pi(e))&&i.limitType===e.limitType}function tb(i){return`${rg(Pi(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Ww(o))).join(", ")}]`),hf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Pi(i))}; limitType=${i.limitType})`}function mf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=_0(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,eu(s),o)||s.endAt&&!(function(h,m,g){const p=_0(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,eu(s),o))})(i,e)}function ZN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nb(i){return(e,n)=>{let s=!1;for(const o of eu(i)){const u=eD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eD(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?bo(g,p):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Lw(this.inner)}size(){return this.innerSize}}const tD=new ft(pe.comparator);function wr(){return tD}const ib=new ft(pe.comparator);function Yl(...i){let e=ib;for(const n of i)e=e.insert(n.key,n);return e}function rb(i){let e=ib;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return tu()}function sb(){return tu()}function tu(){return new ma((i=>i.toString()),((i,e)=>i.isEqual(e)))}const nD=new ft(pe.comparator),iD=new Lt(pe.comparator);function Ue(...i){let e=iD;for(const n of i)e=e.add(n);return e}const rD=new Lt(ke);function sD(){return rD}function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function ab(i){return{integerValue:""+i}}function aD(i,e){return MN(e)?ab(e):og(i,e)}class pf{constructor(){this._=void 0}}function oD(i,e,n){return i instanceof Hh?(function(o,u){const h={fields:{[Fw]:{stringValue:Bw},[$w]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ng(u)&&(u=ff(u)),u&&(h.fields[qw]=u),{mapValue:h}})(n,e):i instanceof fu?lb(i,e):i instanceof du?ub(i,e):(function(o,u){const h=ob(o,u),m=w0(h)+w0(o.Ae);return hp(h)&&hp(o.Ae)?ab(m):og(o.serializer,m)})(i,e)}function lD(i,e,n){return i instanceof fu?lb(i,e):i instanceof du?ub(i,e):n}function ob(i,e){return i instanceof Gh?(function(s){return hp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Hh extends pf{}class fu extends pf{constructor(e){super(),this.elements=e}}function lb(i,e){const n=cb(e);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends pf{constructor(e){super(),this.elements=e}}function ub(i,e){let n=cb(e);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Gh extends pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function w0(i){return vt(i.integerValue||i.doubleValue)}function cb(i){return ig(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function uD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?wo(s.elements,o.elements,qi):s instanceof Gh&&o instanceof Gh?qi(s.Ae,o.Ae):s instanceof Hh&&o instanceof Hh})(i.transform,e.transform)}class cD{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class gf{}function hb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lg(i.key,oi.none()):new Au(i.key,i.data,oi.none());{const n=i.data,s=vn.empty();let o=new Lt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ss(i.key,s,new Nn(o.toArray()),oi.none())}}function hD(i,e,n){i instanceof Au?(function(o,u,h){const m=o.value.clone(),g=S0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ss?(function(o,u,h){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=S0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(fb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function nu(i,e,n,s){return i instanceof Au?(function(u,h,m,g){if(!Ih(u.precondition,h))return m;const p=u.value.clone(),T=A0(u.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ss?(function(u,h,m,g){if(!Ih(u.precondition,h))return m;const p=A0(u.fieldTransforms,g,h),T=h.data;return T.setAll(fb(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,s):(function(u,h,m){return Ih(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function fD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ob(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function b0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,h)=>uD(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Au extends gf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends gf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function S0(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,lD(h,m,n[o]))}return s}function A0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,oD(u,h,e))}return s}class lg extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dD extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=hb(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,s)=>b0(n,s)))&&wo(this.baseMutations,e.baseMutations,((n,s)=>b0(n,s)))}}class ug{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return nD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ug(e,n,s,o)}}class pD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,ze;function yD(i){switch(i){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function db(i){if(i===void 0)return Tr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:i})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function _D(){return new TextEncoder}const vD=new fs([4294967295,4294967295],0);function R0(i){const e=_D().encode(i),n=new xw;return n.update(e),new Uint8Array(n.digest())}function C0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fs([n,s],0),new fs([o,u],0)]}class cg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fs.fromNumber(s)));return o.compare(vD)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new cg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=R0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yf(Se.min(),o,new ft(ke),wr(),Ue())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,Ue(),Ue(),Ue())}}class Nh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class mb{constructor(e,n){this.targetId=e,this.Ce=n}}class pb{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=I0(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Ru(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=I0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ED{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=yh(),this.He=yh(),this.Ye=new ft(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(dp(u))if(s===0){const h=new pe(u.path);this.et(n,h,sn.newNoDocument(h,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ys(s).toUint8Array()}catch(g){if(g instanceof zw)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cg(h,o,u)}catch(g){return To(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&dp(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,sn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new yf(e,n,this.Ye,this.je,s);return this.je=wr(),this.Je=yh(),this.He=yh(),this.Ye=new ft(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new x0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yh(){return new ft(pe.comparator)}function I0(){return new ft(pe.comparator)}const TD={asc:"ASCENDING",desc:"DESCENDING"},wD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class SD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(i,e){return i.useProto3Json||hf(e)?e:{value:e}}function Kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function AD(i,e){return Kh(i,e.toTimestamp())}function Li(i){return Ge(!!i,49232),Se.fromTimestamp((function(n){const s=gs(n);return new st(s.seconds,s.nanos)})(i))}function hg(i,e){return yp(i,e).canonicalString()}function yp(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function yb(i){const e=nt.fromString(i);return Ge(wb(e),10190,{key:e.toString()}),e}function _p(i,e){return hg(i.databaseId,e.path)}function zm(i,e){const n=yb(e);if(n.get(1)!==i.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(vb(n))}function _b(i,e){return hg(i.databaseId,e)}function RD(i){const e=yb(i);return e.length===4?nt.emptyPath():vb(e)}function vp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vb(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function N0(i,e,n){return{name:_p(i,e),fields:n.value.mapValue.fields}}function CD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Zt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Zt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?Z.UNKNOWN:db(p.code);return new le(T,p.message||"")})(h);n=new pb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(i,s.document.name),u=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):Se.min(),m=new vn({mapValue:{fields:s.document.fields}}),g=sn.newFoundDocument(o,u,h,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new Nh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(i,s.document),u=s.readTime?Li(s.readTime):Se.min(),h=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(i,s.document),u=s.removedTargetIds||[];n=new Nh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new gD(o,u),m=s.targetId;n=new mb(m,h)}}return n}function xD(i,e){let n;if(e instanceof Au)n={update:N0(i,e.key,e.value)};else if(e instanceof lg)n={delete:_p(i,e.key)};else if(e instanceof Ss)n={update:N0(i,e.key,e.data),updateMask:UD(e.fieldMask)};else{if(!(e instanceof dD))return Ee(16599,{Vt:e.type});n={verify:_p(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Hh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:AD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function ID(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Li(o.updateTime):Li(u);return h.isEqual(Se.min())&&(h=Li(u)),new cD(h,o.transformResults||[])})(n,e)))):[]}function ND(i,e){return{documents:[_b(i,e.path)]}}function DD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_b(i,o);const u=(function(p){if(p.length!==0)return Tb(ui.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(A){return{field:uo(A.field),direction:VD(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=gp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function OD(i){let e=RD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const A=Eb(w);return A instanceof ui&&Xw(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(w){return w.map((A=>(function(K){return new hu(co(K.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,hf(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(w){const A=!!w.before,V=w.values||[];return new $h(V,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const A=!w.before,V=w.values||[];return new $h(V,A)})(n.endAt)),JN(e,o,h,u,m,"F",g,p)}function MD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Eb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((s=>Eb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function VD(i){return TD[i]}function jD(i){return wD[i]}function kD(i){return bD[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Wt.fromServerFormat(i.fieldPath)}function Tb(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:jD(n.op),value:n.value}}})(i):i instanceof ui?(function(n){const s=n.getFilters().map((o=>Tb(o)));return s.length===1?s[0]:{compositeFilter:{op:kD(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function UD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ls{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PD{constructor(e){this.yt=e}}function LD(i){const e=OD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?pp(e,e.limit,"L"):e}class zD{constructor(){this.Cn=new BD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ps.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class BD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(nt.comparator)).toArray()}}const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(bb,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const O0="LruGarbageCollector",FD=1048576;function M0([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class qD{constructor(e){this.Ir=e,this.buffer=new Lt(M0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();M0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(O0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?ue(O0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)}))}}class HD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(cf.ce);const s=new qD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(D0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(p=Date.now(),oo()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function GD(i,e){return new HD(i,e)}class KD{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class QD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&nu(s.mutation,o,Nn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Yl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=wr();const h=tu(),m=(function(){return tu()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Ss)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),nu(T.mutation,p,T.mutation.getFieldMask(),st.now())):h.set(p.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new YD(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ft(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||Nn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const w=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,w=sb();T.forEach((A=>{if(!u.has(A)){const V=hb(n.get(A),s.get(A));V!==null&&w.set(A,V),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(ia());let m=ou,g=u;return h.next((p=>ie.forEach(p,((T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{g=g.insert(T,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Ue()))).next((T=>({batchId:m,changes:rb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const p=(function(w,A){return new Vo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((w,A)=>{h=h.insert(w,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,sn.newInvalidDocument(T)))}));let m=Yl();return h.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&nu(T.mutation,p,Nn.empty(),st.now()),mf(n,p)&&(m=m.insert(g,p))})),m}))}}class XD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:Li(o.readTime)}})(n)),ie.resolve()}}class JD{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=ia(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=ia(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new pD(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class WD{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class fg{constructor(){this.Qr=new Lt($t.$r),this.Ur=new Lt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new nt([])),s=new $t(n,e),o=new $t(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new $t(n,e),o=new $t(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class ZD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt($t.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ke);return n.forEach((o=>{const u=new $t(o,0),h=new $t(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new $t(new pe(u),0);let m=new Lt(ke);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new $t(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eO{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=wr();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||IN(xN(T),s)<=0||(o.has(T.key)||mf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new tO(this)}getSize(e){return ie.resolve(this.size)}}class tO extends KD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class nO{constructor(e){this.persistence=e,this.si=new ma((n=>rg(n)),sg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class Sb{constructor(e,n){this.ui={},this.overlays={},this.ci=new cf(0),this.li=!1,this.li=!0,this.hi=new WD,this.referenceDelegate=e(this),this.Pi=new nO(this),this.indexManager=new zD,this.remoteDocumentCache=(function(o){return new eO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new PD(n),this.Ii=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ZD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new iO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class iO extends DN{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new ma((s=>VN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=GD(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,s,o)}}class rO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kC()?8:ON(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new rO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(oo()<=je.DEBUG&&ue("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):ie.resolve())}ys(e,n){if(T0(n))return ie.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=pp(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,pp(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return T0(n)||o.isEqual(Se.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(oo()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,CN(o,ou)).next((m=>m)))}))}Ds(e,n){let s=new Lt(nb(e));return n.forEach(((o,u)=>{mf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const pg="LocalStore",aO=3e8;class oO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(ke),this.xs=new ma((u=>rg(u)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lO(i,e,n,s){return new oO(i,e,n,s)}async function Ab(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Ue();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function uO(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const w=p.batch,A=w.keys();let V=ie.resolve();return A.forEach((K=>{V=V.next((()=>T.getEntry(g,K))).next((D=>{const k=p.docVersions.get(K);Ge(k!==null,48541),D.version.compareTo(k)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),T.addEntry(D)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ue();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Rb(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cO(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(w,V),(function(D,k,Q){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=aO?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,V,T)&&m.push(n.Pi.updateTargetData(u,V))}));let g=wr(),p=Ue();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(hO(u,h,e.documentUpdates).next((T=>{g=T.ks,p=T.qs}))),!s.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function hO(i,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=wr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(pg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function fO(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dO(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ls(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ep(i,e,n){const s=Re(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;ue(pg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function V0(i,e,n){const s=Re(i);let o=Se.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const w=Re(g),A=w.xs.get(T);return A!==void 0?ie.resolve(w.Ms.get(A)):w.Pi.getTargetData(p,T)})(s,h,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Ue()))).next((m=>(mO(s,ZN(e),m),{documents:m,Qs:u})))))}function mO(i,e,n){let s=i.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class j0{constructor(){this.activeTargetIds=sD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pO{constructor(){this.Mo=new j0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new j0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gO{Oo(e){}shutdown(){}}const k0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(k0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function Tp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const Bm="RestConnection",yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _O{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Tp(),m=this.zo(e,n.toUriEncodedString());ue(Bm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),T=ha(p);return this.Jo(e,m,g,s,T).then((w=>(ue(Bm,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw To(Bm,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=yO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class vO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nn="WebChannelConnection";class EO extends _O{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Tp();return new Promise(((m,g)=>{const p=new Iw;p.setWithCredentials(!0),p.listenOnce(Nw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rh.NO_ERROR:const w=p.getResponseJson();ue(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case Rh.TIMEOUT:ue(nn,`RPC '${e}' ${h} timed out`),g(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const A=p.getStatus();if(ue(nn,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const K=V?.error;if(K&&K.status&&K.message){const D=(function(Q){const te=Q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(te)>=0?te:Z.UNKNOWN})(K.status);g(new le(D,K.message))}else g(new le(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(nn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ue(nn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Mw(),m=Ow(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ue(nn,`Creating RPC '${e}' stream ${o}: ${T}`,g);const w=h.createWebChannel(T,g);this.I_(w);let A=!1,V=!1;const K=new vO({Yo:k=>{V?ue(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(ue(nn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(nn,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),D=(k,Q,te)=>{k.listen(Q,(re=>{try{te(re)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return D(w,Kl.EventType.OPEN,(()=>{V||(ue(nn,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),D(w,Kl.EventType.CLOSE,(()=>{V||(V=!0,ue(nn,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(w))})),D(w,Kl.EventType.ERROR,(k=>{V||(V=!0,To(nn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),K.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),D(w,Kl.EventType.MESSAGE,(k=>{if(!V){const Q=k.data[0];Ge(!!Q,16349);const te=Q,re=te?.error||te[0]?.error;if(re){ue(nn,`RPC '${e}' stream ${o} received error:`,re);const ge=re.status;let Te=(function(R){const C=Nt[R];if(C!==void 0)return db(C)})(ge),be=re.message;Te===void 0&&(Te=Z.INTERNAL,be="Unknown error status: "+ge+" with message "+re.message),V=!0,K.a_(new le(Te,be)),w.close()}else ue(nn,`RPC '${e}' stream ${o} received:`,Q),K.u_(Q)}})),D(m,Dw.STAT_EVENT,(k=>{k.stat===lp.PROXY?ue(nn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===lp.NOPROXY&&ue(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Fm(){return typeof document<"u"?document:null}function _f(i){return new SD(i,!0)}class Cb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const P0="PersistentStream";class xb{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TO extends xb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Li(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=vp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=dp(g)?{documents:ND(u,g)}:{query:DD(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=gb(u,h.resumeToken);const p=gp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Kh(u,h.snapshotVersion.toTimestamp());const p=gp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=MD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=vp(this.serializer),n.removeTarget=e,this.q_(n)}}class wO extends xb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ID(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=vp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xD(this.serializer,s)))};this.q_(n)}}class bO{}class SO extends bO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,yp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,yp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class RO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{pa(this)&&(ue(ca,"Restarting streams for network reachability change."),await(async function(g){const p=Re(g);p.Ea.add(4),await Cu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await vf(p)})(this))}))})),this.Ra=new AO(s,o)}}async function vf(i){if(pa(i))for(const e of i.da)await e(!0)}async function Cu(i){for(const e of i.da)await e(!1)}function Ib(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vg(n)?_g(n):jo(n).O_()&&yg(n,e))}function gg(i,e){const n=Re(i),s=jo(n);n.Ia.delete(e),s.O_()&&Nb(n,e),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Ra.set("Unknown"))}function yg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(i).Y_(e)}function Nb(i,e){i.Va.Ue(e),jo(i).Z_(e)}function _g(i){i.Va=new ED({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function vg(i){return pa(i)&&!jo(i).x_()&&i.Ia.size>0}function pa(i){return Re(i).Ea.size===0}function Db(i){i.Va=void 0}async function CO(i){i.Ra.set("Online")}async function xO(i){i.Ia.forEach(((e,n)=>{yg(i,e)}))}async function IO(i,e){Db(i),vg(i)?(i.Ra.ha(e),_g(i)):i.Ra.set("Unknown")}async function NO(i,e,n){if(i.Ra.set("Online"),e instanceof pb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(i,s)}else if(e instanceof Nh?i.Va.Ze(e):e instanceof mb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const s=await Rb(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Zt.EMPTY_BYTE_STRING,T.snapshotVersion)),Nb(u,g);const w=new ls(T.target,g,p,T.sequenceNumber);yg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(ca,"Failed to raise snapshot:",s),await Qh(i,s)}}async function Qh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>Rb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ca,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await vf(i)}))}function Ob(i,e){return e().catch((n=>Qh(i,n,e)))}async function Ef(i){const e=Re(i),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;DO(e);)try{const o=await fO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,OO(e,o)}catch(o){await Qh(e,o)}Mb(e)&&Vb(e)}function DO(i){return pa(i)&&i.Ta.length<10}function OO(i,e){i.Ta.push(e);const n=vs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Mb(i){return pa(i)&&!vs(i).x_()&&i.Ta.length>0}function Vb(i){vs(i).start()}async function MO(i){vs(i).ra()}async function VO(i){const e=vs(i);for(const n of i.Ta)e.ea(n.mutations)}async function jO(i,e,n){const s=i.Ta.shift(),o=ug.from(s,e,n);await Ob(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ef(i)}async function kO(i,e){e&&vs(i).X_&&await(async function(s,o){if((function(h){return yD(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();vs(s).B_(),await Ob(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ef(s)}})(i,e),Mb(i)&&Vb(i)}async function L0(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ue(ca,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await Cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vf(n)}async function UO(i,e){const n=Re(i);e?(n.Ea.delete(2),await vf(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function jo(i){return i.ma||(i.ma=(function(n,s,o){const u=Re(n);return u.sa(),new TO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:CO.bind(null,i),t_:xO.bind(null,i),r_:IO.bind(null,i),H_:NO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),vg(i)?_g(i):i.Ra.set("Unknown")):(await i.ma.stop(),Db(i))}))),i.ma}function vs(i){return i.fa||(i.fa=(function(n,s,o){const u=Re(n);return u.sa(),new wO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:MO.bind(null,i),r_:kO.bind(null,i),ta:VO.bind(null,i),na:jO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ef(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Eg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Mo(i))return new le(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class z0{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,go.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class PO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LO{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=B0(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function B0(){return new ma((i=>tb(i)),df)}async function jb(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new PO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Tg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function kb(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zO(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&wg(n)}function BO(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function wg(i){i.Ca.forEach((e=>{e.next()}))}var wp,F0;(F0=wp||(wp={})).Ma="default",F0.Cache="cache";class Ub{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}class Pb{constructor(e){this.key=e}}class Lb{constructor(e){this.key=e}}class FO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=nb(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new z0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const A=o.get(T),V=mf(this.query,w)?w:null,K=!!A&&this.mutatedKeys.has(A.key),D=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;A&&V?A.data.isEqual(V.data)?K!==D&&(s.track({type:3,doc:V}),k=!0):this.su(A,V)||(s.track({type:2,doc:V}),k=!0,(g&&this.eu(V,g)>0||p&&this.eu(V,p)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),k=!0):A&&!V&&(s.track({type:1,doc:A}),k=!0,(g||p)&&(m=!0)),k&&(V?(h=h.add(V),u=D?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,w)=>(function(V,K){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return D(V)-D(K)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Lb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Pb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class qO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $O{constructor(e){this.key=e,this.hu=!1}}class HO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>tb(m)),df),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GO(i,e,n=!0){const s=Hb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zb(s,e,n,!0),o}async function KO(i,e){const n=Hb(i);await zb(n,e,!0,!1)}async function zb(i,e,n,s){const o=await dO(i.localStore,Pi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ib(i.remoteStore,o),m}async function YO(i,e,n,s,o){i.pu=(w,A,V)=>(async function(D,k,Q,te){let re=k.view.ru(Q);re.Cs&&(re=await V0(D.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,re))));const ge=te&&te.targetChanges.get(k.targetId),Te=te&&te.targetMismatches.get(k.targetId)!=null,be=k.view.applyChanges(re,D.isPrimaryClient,ge,Te);return $0(D,k.targetId,be.au),be.snapshot})(i,w,A,V);const u=await V0(i.localStore,e,!0),h=new FO(e,u.Qs),m=h.ru(u.documents),g=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);$0(i,n,p.au);const T=new qO(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function QO(i,e,n){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!df(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&gg(s.remoteStore,o.targetId),bp(s,o.targetId)})).catch(Oo)):(bp(s,o.targetId),await Ep(s.localStore,o.targetId,!0))}async function XO(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gg(n.remoteStore,s.targetId))}async function JO(i,e,n){const s=r4(i);try{const o=await(function(h,m){const g=Re(h),p=st.now(),T=m.reduce(((V,K)=>V.add(K.key)),Ue());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let K=wr(),D=Ue();return g.Ns.getEntries(V,T).next((k=>{K=k,K.forEach(((Q,te)=>{te.isValidDocument()||(D=D.add(Q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,K))).next((k=>{w=k;const Q=[];for(const te of m){const re=fD(te,w.get(te.key).overlayedDocument);re!=null&&Q.push(new Ss(te.key,re,Kw(re.value.mapValue),oi.exists(!0)))}return g.mutationQueue.addMutationBatch(V,p,Q,m)})).next((k=>{A=k;const Q=k.applyToLocalDocumentSet(w,D);return g.documentOverlayCache.saveOverlays(V,k.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:rb(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ft(ke)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await xu(s,o.changes),await Ef(s.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");n.reject(u)}}async function Bb(i,e){const n=Re(i);try{const s=await cO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await xu(n,s,e)}catch(s){await Oo(s)}}function q0(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Re(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,w)=>{for(const A of w.Sa)A.va(m)&&(p=!0)})),p&&wg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WO(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,sn.newNoDocument(u,Se.min()));const m=Ue().add(u),g=new yf(Se.min(),new Map,new ft(ke),h,m);await Bb(s,g),s.du=s.du.remove(u),s.Au.delete(e),Sg(s)}else await Ep(s.localStore,e,!1).then((()=>bp(s,e,n))).catch(Oo)}async function ZO(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await uO(n.localStore,e);qb(n,s,null),Fb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Oo(o)}}async function e4(i,e,n){const s=Re(i);try{const o=await(function(h,m){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((w=>(Ge(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(p,w)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);qb(s,e,n),Fb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,o)}catch(o){await Oo(o)}}function Fb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function qb(i,e,n){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function bp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||$b(i,s)}))}function $b(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(gg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Sg(i))}function $0(i,e,n){for(const s of n)s instanceof Pb?(i.Ru.addReference(s.key,e),t4(i,s)):s instanceof Lb?(ue(bg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||$b(i,s.key)):Ee(19791,{wu:s})}function t4(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(bg,"New document in limbo: "+n),i.Eu.add(s),Sg(i))}function Sg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new $O(n)),i.du=i.du.insert(n,s),Ib(i.remoteStore,new ls(Pi(ag(n.path)),s,"TargetPurposeLimboResolution",cf.ce))}}async function xu(i,e,n){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=mg.As(g.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const T=Re(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(p,(A=>ie.forEach(A.Es,(V=>T.persistence.referenceDelegate.addReference(w,A.targetId,V))).next((()=>ie.forEach(A.ds,(V=>T.persistence.referenceDelegate.removeReference(w,A.targetId,V)))))))))}catch(w){if(!Mo(w))throw w;ue(pg,"Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const V=T.Ms.get(A),K=V.snapshotVersion,D=V.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(A,D)}}})(s.localStore,u))}async function n4(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ue(bg,"User change. New user:",e.toKey());const s=await Ab(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Ls)}}function i4(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Hb(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.Pu.H_=zO.bind(null,e.eventManager),e.Pu.yu=BO.bind(null,e.eventManager),e}function r4(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e4.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lO(this.persistence,new sO,e.initialUser,this.serializer)}Cu(e){return new Sb(dg.mi,this.serializer)}Du(e){return new pO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class s4 extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $D(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Sb((s=>Yh.mi(s,n)),this.serializer)}}class Sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n4.bind(null,this.syncEngine),await UO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LO})()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),s=(function(u){return new EO(u)})(e.databaseInfo);return(function(u,h,m,g){return new SO(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new RO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>q0(this.syncEngine,n,0)),(function(){return U0.v()?new U0:new gO})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,T){const w=new HO(o,u,h,m,g,p);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ue(ca,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sp.provider={build:()=>new Sp};class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Es="FirestoreClient";class a4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Es,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function H0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await o4(i);ue(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>L0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>L0(e.remoteStore,o))),i._onlineComponents=e}async function o4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Es,"Using user provided OfflineComponentProvider");try{await qm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await qm(i,new Xh)}}else ue(Es,"Using default OfflineComponentProvider"),await qm(i,new s4(void 0));return i._offlineComponents}async function Kb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Es,"Using user provided OnlineComponentProvider"),await H0(i,i._uninitializedComponentsProvider._online)):(ue(Es,"Using default OnlineComponentProvider"),await H0(i,new Sp))),i._onlineComponents}function l4(i){return Kb(i).then((e=>e.syncEngine))}async function Yb(i){const e=await Kb(i),n=e.eventManager;return n.onListen=GO.bind(null,e.syncEngine),n.onUnlisten=QO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XO.bind(null,e.syncEngine),n}function u4(i,e,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new Gb({next:A=>{T.Nu(),h.enqueueAndForget((()=>kb(u,w)));const V=A.docs.has(m);!V&&A.fromCache?p.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&g&&g.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Ub(ag(m.path),T,{includeMetadataChanges:!0,qa:!0});return jb(u,w)})(await Yb(i),i.asyncQueue,e,n,s))),s.promise}function c4(i,e,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new Gb({next:A=>{T.Nu(),h.enqueueAndForget((()=>kb(u,w))),A.fromCache&&g.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Ub(m,T,{includeMetadataChanges:!0,qa:!0});return jb(u,w)})(await Yb(i),i.asyncQueue,e,n,s))),s.promise}function Qb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const G0=new Map;const Xb="firestore.googleapis.com",K0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=K0}else this.host=e.host,this.ssl=e.ssl??K0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FD)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gN;switch(s.type){case"firstParty":return new EN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=G0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),G0.delete(n),s.terminate())})(this),Promise.resolve()}}function h4(i,e,n,s={}){i=Fi(i,Tf);const o=ha(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(zp(`https://${m}`),Bp("Firestore",!0)),u.host!==Xb&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=rn.MOCK_USER;else{p=BT(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(w)}i._authCredentials=new yN(new jw(p,T))}}class ga{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Su(n,Et._jsonSchema))return new Et(e,s||null,new pe(nt.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Ot("string",Et._jsonSchemaVersion),referencePath:Ot("string")};class ds extends ga{constructor(e,n,s){super(e,n,ag(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new pe(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function br(i,e,...n){if(i=zt(i),kw("collection","path",e),i instanceof Tf){const s=nt.fromString(e,...n);return o0(s),new ds(i,null,s)}{if(!(i instanceof Et||i instanceof ds))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return o0(s),new ds(i.firestore,null,s)}}function Mt(i,e,...n){if(i=zt(i),arguments.length===1&&(e=eg.newId()),kw("doc","path",e),i instanceof Tf){const s=nt.fromString(e,...n);return a0(s),new Et(i,null,new pe(s))}{if(!(i instanceof Et||i instanceof ds))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return a0(s),new Et(i.firestore,i instanceof ds?i.converter:null,new pe(s))}}const Q0="AsyncQueue";class X0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cb(this,"async_queue_retry"),this._c=()=>{const s=Fm();s&&ue(Q0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;ue(Q0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",J0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Eg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ko extends Tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new X0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X0(e),this._firestoreClient=void 0,await e}}}function f4(i,e){const n=typeof i=="object"?i:$p(),s=typeof i=="string"?i:Fh,o=sf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PT("firestore");u&&h4(o,...u)}return o}function Ag(i){if(i._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||d4(i),i._firestoreClient}function d4(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new UN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Qb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new a4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Zt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Su(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ot("string",zi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),vectorValues:Ot("object")};const m4=/^__.*__$/;class p4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Cg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wb(this.Ac)&&m4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_f(e)}Cc(e,n,s,o=!1){return new Cg({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(i){const e=i._freezeSettings(),n=_f(i._databaseId);return new g4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function y4(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ig("Data must be an object, but it was:",h,s);const m=Zb(s,h);let g,p;if(u.merge)g=new Nn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const A=Ap(e,w,n);if(!h.contains(A))throw new le(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);tS(T,A)||T.push(A)}g=new Nn(T),p=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,p=h.fieldTransforms;return new p4(new vn(m),g,p)}class bf extends Rg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function _4(i,e,n,s){const o=i.Cc(1,e,n);Ig("Data must be an object, but it was:",o,s);const u=[],h=vn.empty();bs(s,((g,p)=>{const T=Ng(e,g,n);p=zt(p);const w=o.yc(T);if(p instanceof bf)u.push(T);else{const A=Iu(p,w);A!=null&&(u.push(T),h.set(T,A))}}));const m=new Nn(u);return new Jb(h,m,o.fieldTransforms)}function v4(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[Ap(e,s,n)],g=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Ap(e,u[A])),g.push(u[A+1]);const p=[],T=vn.empty();for(let A=m.length-1;A>=0;--A)if(!tS(p,m[A])){const V=m[A];let K=g[A];K=zt(K);const D=h.yc(V);if(K instanceof bf)p.push(V);else{const k=Iu(K,D);k!=null&&(p.push(V),T.set(V,k))}}const w=new Nn(p);return new Jb(T,w,h.fieldTransforms)}function E4(i,e,n,s=!1){return Iu(n,i.Cc(s?4:3,e))}function Iu(i,e){if(eS(i=zt(i)))return Ig("Unsupported field value:",e,i),Zb(i,e);if(i instanceof Rg)return(function(s,o){if(!Wb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Iu(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:gb(o.serializer,s._byteString)};if(s instanceof Et){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(h,m){return{mapValue:{fields:{[Hw]:{stringValue:Gw},[qh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return og(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${uf(s)}`)})(i,e)}function Zb(i,e){const n={};return Lw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,((s,o)=>{const u=Iu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function eS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof zi||i instanceof Gn||i instanceof Et||i instanceof Rg||i instanceof Bi)}function Ig(i,e,n){if(!eS(n)||!Uw(n)){const s=uf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Ap(i,e,n){if((e=zt(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Ng(i,e);throw Jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const T4=new RegExp("[~\\*/\\[\\]]");function Ng(i,e,n){if(e.search(T4)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(Z.INVALID_ARGUMENT,m+i+g)}function tS(i,e){return i.some((n=>n.isEqual(e)))}class nS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w4 extends nS{data(){return super.data()}}function Dg(i,e){return typeof e=="string"?Ng(i,e):e instanceof wf?e._internalPath:e._delegate._internalPath}function b4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class iS extends Og{}function Nu(i,e,...n){let s=[];e instanceof Og&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Vg)).length,m=u.filter((g=>g instanceof Mg)).length;if(h>1||h>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Mg extends iS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Mg(e,n,s)}_apply(e){const n=this._parse(e);return rS(e._query,n),new ga(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=xg(e.firestore);return(function(u,h,m,g,p,T,w){let A;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Z0(w,T);const K=[];for(const D of w)K.push(W0(g,u,D));A={arrayValue:{values:K}}}else A=W0(g,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Z0(w,T),A=E4(m,h,w,T==="in"||T==="not-in");return Dt.create(p,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Vg extends Og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)rS(h,g),h=mp(h,g)})(e._query,n),new ga(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends iS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,h)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Du(i,e="asc"){const n=e,s=Dg("orderBy",i);return jg._create(s,n)}function W0(i,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return p0(i,new pe(s))}if(n instanceof Et)return p0(i,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function Z0(i,e){if(!Array.isArray(i)||i.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class S4{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new zi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ff(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(wb(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function A4(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends nS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ot("string",ra._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Dh extends ra{data(e={}){return super.data(e)}}class yo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Dh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:R4(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function Vt(i){i=Fi(i,Et);const e=Fi(i.firestore,ko);return u4(Ag(e),i._key).then((n=>C4(e,i,n)))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Ot("string",yo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class sS extends S4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Ou(i){i=Fi(i,ga);const e=Fi(i.firestore,ko),n=Ag(e),s=new sS(e);return b4(i._query),c4(n,i._query).then((o=>new yo(e,s,i,o)))}function Mu(i,e,n){i=Fi(i,Et);const s=Fi(i.firestore,ko),o=A4(i.converter,e);return kg(s,[y4(xg(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,oi.none())])}function Vu(i,e,n,...s){i=Fi(i,Et);const o=Fi(i.firestore,ko),u=xg(o);let h;return h=typeof(e=zt(e))=="string"||e instanceof wf?v4(u,"updateDoc",i._key,e,n,s):_4(u,"updateDoc",i._key,e),kg(o,[h.toMutation(i._key,oi.exists(!0))])}function ju(i){return kg(Fi(i.firestore,ko),[new lg(i._key,oi.none())])}function kg(i,e){return(function(s,o){const u=new yr;return s.asyncQueue.enqueueAndForget((async()=>JO(await l4(s),o,u))),u.promise})(Ag(i),e)}function C4(i,e,n){const s=n.docs.get(e._key),o=new sS(i);return new ra(i,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Do=o})(fa),aa(new ms("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ko(new _N(s.getProvider("auth-internal")),new TN(h,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(p.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ji(n0,i0,e),ji(n0,i0,"esm2020")})();const aS="firebasestorage.googleapis.com",x4="storageBucket",I4=120*1e3,N4=600*1e3;class Gi extends Hi{constructor(e,n,s=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function $m(i){return"storage/"+i}function D4(){const i="An unknown error occurred, please check the error payload for server response.";return new Gi($i.UNKNOWN,i)}function O4(){return new Gi($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M4(){return new Gi($i.CANCELED,"User canceled the upload/download.")}function V4(i){return new Gi($i.INVALID_URL,"Invalid URL '"+i+"'.")}function j4(i){return new Gi($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function eT(i){return new Gi($i.INVALID_ARGUMENT,i)}function oS(){return new Gi($i.APP_DELETED,"The Firebase app was deleted.")}function k4(i){return new Gi($i.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(s.path==="")return s;throw j4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ge){ge.path.charAt(ge.path.length-1)==="/"&&(ge.path_=ge.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(ge){ge.path_=decodeURIComponent(ge.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",V=new RegExp(`^https?://${w}/${T}/b/${o}/o${A}`,"i"),K={bucket:1,path:3},D=n===aS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",Q=new RegExp(`^https?://${D}/${o}/${k}`,"i"),re=[{regex:m,indices:g,postModify:u},{regex:V,indices:K,postModify:p},{regex:Q,indices:{bucket:1,path:2},postModify:p}];for(let ge=0;ge<re.length;ge++){const Te=re[ge],be=Te.regex.exec(e);if(be){const N=be[Te.indices.bucket];let R=be[Te.indices.path];R||(R=""),s=new ai(N,R),Te.postModify(s);break}}if(s==null)throw V4(e);return s}}class U4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function P4(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function T(...k){p||(p=!0,e.apply(null,k))}function w(k){o=setTimeout(()=>{o=null,i(V,g())},k)}function A(){u&&clearTimeout(u)}function V(k,...Q){if(p){A();return}if(k){A(),T.call(null,k,...Q);return}if(g()||h){A(),T.call(null,k,...Q);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,w(re)}let K=!1;function D(k){K||(K=!0,A(),!p&&(o!==null?(k||(m=2),clearTimeout(o),w(0)):k||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,D(!0)},n),D}function L4(i){i(!1)}function z4(i){return i!==void 0}function tT(i,e,n,s){if(s<e)throw eT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw eT(`Invalid value for '${i}'. Expected ${n} or less.`)}function B4(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Wh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Wh||(Wh={}));function F4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class q4{constructor(e,n,s,o,u,h,m,g,p,T,w,A=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=T,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,D)=>{this.resolve_=K,this.reject_=D,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Wh.NO_ERROR,g=u.getStatus();if(!m||F4(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Wh.ABORT;s(!1,new vh(!1,null,T));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new vh(p,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());z4(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=D4();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?oS():M4();h(g)}else{const g=O4();h(g)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=P4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&L4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function $4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function H4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function K4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Y4(i,e,n,s,o,u,h=!0,m=!1){const g=B4(i.urlParams),p=i.url+g,T=Object.assign({},i.headers);return G4(T,e),$4(T,n),H4(T,u),K4(T,s),new q4(p,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function Q4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function X4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Zh{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zh(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X4(this._location.path)}get storage(){return this._service}get parent(){const e=Q4(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new Zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k4(e)}}function nT(i,e){const n=e?.[x4];return n==null?null:ai.makeFromBucketSpec(n,i)}function J4(i,e,n,s={}){i.host=`${e}:${n}`;const o=ha(e);o&&(zp(`https://${i.host}/b`),Bp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:BT(u,i.app.options.projectId))}class W4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=aS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I4,this._maxUploadRetryTime=N4,this._requests=new Set,o!=null?this._bucket=ai.makeFromBucketSpec(o,this._host):this._bucket=nT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=nT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new U4(oS());{const h=Y4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const iT="@firebase/storage",rT="0.14.0";const lS="storage";function Z4(i=$p(),e){i=zt(i);const s=sf(i,lS).getImmediate({identifier:e}),o=PT("storage");return o&&eM(s,...o),s}function eM(i,e,n,s={}){J4(i,e,n,s)}function tM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new W4(n,s,o,e,fa)}function nM(){aa(new ms(lS,tM,"PUBLIC").setMultipleInstances(!0)),ji(iT,rT,""),ji(iT,rT,"esm2020")}nM();const iM={apiKey:"AIzaSyDk9twIdV6EXdWiuko0fYRtEv2yMaD-wPo",authDomain:"bubbles-lims.firebaseapp.com",projectId:"bubbles-lims",storageBucket:"bubbles-lims.firebasestorage.app",messagingSenderId:"103191297116",appId:"1:103191297116:web:9bc8a21a35799092f3ba99"},Ug=$T(iM),Sf=Cw(Ug),at=f4(Ug);Z4(Ug);new fr;const rM=[{name:"Dashboard",href:"/",icon:kp},{name:"Staff",href:"/staff",icon:Vi},{name:"Clients",href:"/clients",icon:Vi},{name:"Contacts",href:"/contacts",icon:Vi},{name:"Services",href:"/services",icon:us},{name:"Items",href:"/items",icon:us},{name:"Jobs",href:"/jobs",icon:us},{name:"Settings",href:"/settings",icon:Pp}];function sM(){const i=()=>{Sf.signOut()};return y.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 border-r border-cyan-500 w-64",children:[y.jsxs("div",{className:"flex items-center gap-3 px-6 h-16",children:[y.jsx("div",{className:"h-12 w-12",children:y.jsx("img",{src:"/logo.png"})}),y.jsx("span",{className:" text-cyan-50 font-thin font-bubble text-3xl",children:"BUBBLES"})]}),y.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:rM.map(e=>y.jsxs(Vp,{to:e.href,className:({isActive:n})=>`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-cyan-500/50 text-cyan-100":"text-cyan-100 hover:bg-cyan-200/50 hover:text-cyan-900"}`,children:[y.jsx(e.icon,{className:"h-5 w-5"}),e.name]},e.name))}),y.jsx("div",{className:"p-4 ",children:y.jsxs("button",{onClick:i,className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-cyan-50 rounded-md bg-cyan-500/50 hover:bg-cyan-600/50 w-full transition-colors",children:[y.jsx(OT,{className:"h-5 w-5"}),"Sign Out"]})})]})}const aM=[{name:"Dashboard",href:"/",icon:kp},{name:"Staff",href:"/staff",icon:Vi},{name:"Clients",href:"/clients",icon:Vi},{name:"Contacts",href:"/contacts",icon:Vi},{name:"Items",href:"/items",icon:us},{name:"Services",href:"/services",icon:us},{name:"Jobs",href:"/jobs",icon:WR},{name:"Settings",href:"/settings",icon:Pp}];function oM(){const[i,e]=P.useState(!1),n=()=>{Sf.signOut()},s=[...aM];return y.jsxs(y.Fragment,{children:[i&&y.jsx("div",{className:"fixed inset-0 z-20 bg-black/20 backdrop-blur-sm md:hidden",onClick:()=>e(!1)}),y.jsxs("div",{className:`fixed inset-x-0 bottom-0 z-30 border-t border-cyan-500 bg-gradient-to-t from-blue-900/90 to-blue-700/90 transition-all duration-300 ease-in-out md:hidden ${i?"max-h-80 pb-6":"max-h-20"}`,children:[y.jsx("div",{className:"flex justify-center",children:y.jsx("button",{onClick:()=>e(!i),className:"flex h-6 w-full items-center justify-center text-cyan-500/50 hover:text-cyan-400",children:i?y.jsx(eC,{size:20}):y.jsx(nC,{size:20})})}),y.jsxs("div",{className:"grid grid-cols-5 gap-y-4 px-2 pb-4",children:[s.map(o=>y.jsxs(Vp,{to:o.href,onClick:()=>e(!1),className:({isActive:u})=>`flex flex-col items-center justify-center gap-1 py-2 text-[10px] font-medium transition-colors ${u?"text-cyan-400 bg-blue-500/20 rounded-lg":"text-cyan-500 hover:text-cyan-100"}`,children:[y.jsx(o.icon,{className:"h-5 w-5"}),y.jsx("span",{className:"truncate w-full text-center",children:o.name})]},o.name)),y.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center gap-1 py-2 text-[10px] font-medium transition-colors text-cyan-500 hover:text-cyan-100",children:[y.jsx(OT,{className:"h-5 w-5"}),y.jsx("span",{children:"Sign Out"})]})]})]})]})}function lM(){return y.jsxs(y.Fragment,{children:[y.jsx(oM,{}),y.jsxs("div",{className:"flex min-h-screen flex-col",children:[y.jsx("div",{className:"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col",children:y.jsx(sM,{})}),y.jsx("div",{className:"flex flex-1 flex-col md:pl-64",children:y.jsx("main",{className:"flex-1",children:y.jsx("div",{className:"",children:y.jsx("div",{className:"mx-auto max-w-8xl",children:y.jsx(ZA,{})})})})})]})]})}function uM(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(!1),g=tf(),p=async T=>{T.preventDefault(),m(!0),u("");try{await eI(Sf,i,n),g("/")}catch(w){console.error(w),u("Failed to sign in. Please check your credentials.")}finally{m(!1)}};return y.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 rounded-xl shadow-lg p-6 space-y-6",children:[y.jsxs("div",{className:"text-center py-6 space-y-2",children:[y.jsx("div",{className:"mx-auto h-20 w-20 flex items-center",children:y.jsx("img",{src:"/logo.png"})}),y.jsx("h2",{className:"text-6xl text-cyan-400 font-bubble",children:"BUBBLES"}),y.jsx("p",{className:"text-sm text-cyan-200",children:"Laundry Information Management System"})]}),o&&y.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm text-center",children:o}),y.jsxs("form",{onSubmit:p,className:"pb-6 space-y-6",children:[y.jsx("div",{children:y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:T=>e(T.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),y.jsx("div",{children:y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:T=>s(T.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),y.jsx("div",{children:y.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 border border-transparent text-white font-medium py-3 px-4 rounded-lg hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h?y.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx(aC,{className:"h-5 w-5"}),"Sign in"]})})]}),y.jsxs("div",{className:"text-center text-xs text-cyan-400 mt-6",children:[" ",new Date().getFullYear()," Bubbles LIMS"]})]})})}function Pg({title:i}){const e=he;return y.jsx("div",{className:"p-4",children:y.jsxs("div",{className:`${e.card} space-y-4`,children:[y.jsx("h2",{className:`${e.selected_name}`,children:i}),y.jsxs("p",{className:`${e.name}`,children:[i," will be managed here in the future."]})]})})}const sT="Dashboard",cM=kp;function hM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(cM,{className:"w-6 h-6"}),y.jsx("h1",{children:sT})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(Pg,{title:sT})})]})}function uS(i){const e={canViewUsers:!1,canCreateUsers:!1,canEditUsers:!1,canDeleteUsers:!1,canViewClients:!1,canCreateClients:!1,canEditClients:!1,canDeleteClients:!1};switch(i){case"owner":return Object.keys(e).reduce((n,s)=>(n[s]=!0,n),{});case"manager":return{...e,canViewUsers:!0,canCreateUsers:!0,canEditUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"operator":return{...e,canViewUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"driver":return{...e,canViewUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"developer":return{...e,canViewUsers:!0,canCreateUsers:!0,canEditUsers:!0,canDeleteUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0,canDeleteClients:!0};default:return e}}const aT=i=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[i],ku=i=>i[0],Hm={async getAllUsers(){try{console.log("Fetching all users for search...");const i=Nu(br(at,"users"),Du("uid"));return(await Ou(i)).docs.map(s=>({uid:s.id,...s.data()}))}catch(i){console.error("Firebase error fetching all users:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(i){try{console.log(`Fetching user with uid: ${i}`);const e=await Vt(Mt(at,"users",i));if(!e.exists())throw new Error(`User with uid ${i} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(i){const e=Cw();let n;try{console.log("Creating new user with authentication:",i.email),n=(await Z2(e,i.email,i.password)).user;const o=new Date().toISOString(),u={uid:n.uid,name:i.name,email:i.email,phone:i.phone,role:i.role,permissions:uS(i.role),timestamp:{createdAt:o,updatedAt:o}};return await Mu(Mt(at,"users",n.uid),u),console.log("User created successfully with uid:",n.uid),u}catch(s){if(console.error("Firebase error adding user:",s),n)try{await rI(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=s instanceof Error?s.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(i,e){try{console.log(`Updating user ${i}:`,e);const n=Mt(at,"users",i);if(!(await Vt(n)).exists())throw new Error(`User with uid ${i} not found`);await Vu(n,e);const o=await Vt(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${i}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${s}`)}},async deleteUser(i){try{console.log(`Deleting user with uid: ${i}`);const e=Mt(at,"users",i);if(!(await Vt(e)).exists())throw new Error(`User with uid ${i} not found`);await ju(e),console.log(`User ${i} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}},Lg=({className:i})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:i,"aria-hidden":"true",children:y.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})});function cS({initialData:i,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=P.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",role:i?.role||"operator",password:"",confirmPassword:""}),[m,g]=P.useState(!1),p=async T=>{if(T.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}g(!0);try{const w={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(w)}finally{g(!1)}};return y.jsxs("form",{onSubmit:p,className:`${$.form.layout}`,autoComplete:"off",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:`${$.form.label}`,children:"Name *"}),y.jsx("input",{type:"text",id:"name",value:u.name,onChange:T=>h({...u,name:T.target.value}),className:`${$.form.input}`,autoComplete:"off",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:`${$.form.label}`,children:"Email *"}),y.jsx("input",{type:"email",id:"email",value:u.email,onChange:T=>h({...u,email:T.target.value}),className:`${$.form.input}`,autoComplete:"new-email",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:`${$.form.label}`,children:"Phone"}),y.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:T=>h({...u,phone:T.target.value}),className:`${$.form.input}`,autoComplete:"new-phone"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"role",className:`${$.form.label}`,children:"Role *"}),y.jsxs("select",{id:"role",value:u.role,onChange:T=>h({...u,role:T.target.value}),className:`${$.form.input}`,required:!0,children:[y.jsx("option",{value:"owner",children:"Owner"}),y.jsx("option",{value:"manager",children:"Manager"}),y.jsx("option",{value:"operator",children:"Operator"}),y.jsx("option",{value:"driver",children:"Driver"}),y.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:`${$.form.label}`,children:"Password *"}),y.jsx("input",{type:"password",id:"password",value:u.password,onChange:T=>h({...u,password:T.target.value}),className:`${$.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirmPassword",className:`${$.form.label}`,children:"Confirm Password *"}),y.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:T=>h({...u,confirmPassword:T.target.value}),className:`${$.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),y.jsxs("div",{className:`${$.form.action}`,children:[y.jsx("button",{type:"submit",disabled:m,className:`${$.button.solid}`,children:m?"Saving...":s}),y.jsx("button",{type:"button",onClick:n,disabled:m,className:`${$.button.outline}`,children:"Cancel"})]})]})}function fM({user:i,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){return y.jsxs("div",{className:`${he.card}`,children:[y.jsxs("div",{className:`${he.header}`,children:[y.jsx("div",{className:`${he.title}`,children:y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx("div",{children:y.jsx("div",{className:`${gu.profile_initial} ${aT(i.role)}`,children:ku(i.name)})}),y.jsxs("div",{children:[e?y.jsx("h3",{className:`${he.selected_name}`,onClick:s,children:i.name}):y.jsx("h3",{className:`${he.name}`,onClick:n,children:i.name}),y.jsx("span",{className:`${he.tags} ${aT(i.role)}`,children:i.role.charAt(0).toUpperCase()+i.role.slice(1)})]})]})}),e?y.jsx("div",{className:`${he.selection}`,onClick:s}):y.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&y.jsxs("div",{children:[y.jsxs("div",{className:`${he.list_content}`,children:[y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(Eo,{className:"w-4 h-4"}),y.jsx("p",{children:i.phone})]}),y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(vo,{className:"w-4 h-4"}),y.jsx("p",{children:i.email})]})]}),y.jsxs("div",{className:`${he.contact_grid}`,children:[y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(Eo,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(vo,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(Lg,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(jp,{className:"w-8 h-8 mx-auto"})})]}),y.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&y.jsxs("button",{onClick:u,className:`${$.button.solid}`,title:"Edit User",children:[y.jsx(yu,{className:"w-5 h-5"}),y.jsx("span",{children:"Edit User"})]})}),o&&y.jsx("div",{children:y.jsx(cS,{initialData:{name:i.name,email:i.email,phone:i.phone,role:i.role},onSubmit:h,onCancel:m,submitLabel:"Update",isEditMode:!0})})]})]})}function dM(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(null),[h,m]=P.useState(null),[g,p]=P.useState(null),[T,w]=P.useState(!1);P.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const D=await Hm.getAllUsers();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load users";u(k)}finally{s(!1)}},V=async D=>{try{if(u(null),!D.password)throw new Error("Password is required for new users");await Hm.addUser({...D,password:D.password}),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add user";u(Q)}},K=async(D,k,Q)=>{try{u(null);const{password:te,...re}=Q;re.timestamp={updatedAt:new Date().toISOString()},re.permissions=uS(k),await Hm.updateUser(D,re),await A(),p(null)}catch(te){const re=te instanceof Error?te.message:"Failed to update user";u(re)}};return n?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.notice}`,children:"Loading..."})}):o?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.error}`,children:o})}):y.jsxs("div",{className:"p-4 mb-12",children:[!T&&y.jsx("div",{className:"flex mb-4",children:y.jsxs("button",{onClick:()=>w(!T),className:`${$.button.outline}`,children:[y.jsx(Lp,{className:"w-5 h-5"}),y.jsx("span",{children:"Add User"})]})}),T&&y.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[y.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[y.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:y.jsx("span",{className:"font-light text-2xl",children:"N"})}),y.jsx("div",{children:y.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),y.jsx(cS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?y.jsx("p",{className:`${$.system.notice}`,children:"No staff found. Add your first user to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(D=>y.jsx(fM,{user:D,isViewing:h?.uid===D.uid,onView:()=>m(D),onCancelView:()=>m(null),isEditing:g?.uid===D.uid,onEdit:()=>p(D),onUpdate:k=>K(D.uid,D.role,k),onCancelEdit:()=>p(null)},D.uid))})]})}const mM="Laundry Staff",pM=Vi;function gM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(pM,{className:"w-6 h-6"}),y.jsx("h1",{children:mM})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(dM,{})})]})}const Gm={async getAllClients(){try{console.log("Fetching all clients...");const i=Nu(br(at,"clients"),Du("name"));return(await Ou(i)).docs.map(s=>({id:s.id,...s.data()}))}catch(i){console.error("Firebase error fetching all clients:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all clients: ${e}`)}},async getClient(i){try{console.log(`Fetching client with id: ${i}`);const e=await Vt(Mt(at,"clients",i));if(!e.exists())throw new Error(`Client with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching client ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch client: ${n}`)}},async addClient(i){try{console.log("Creating new client:",i.name);const e=Mt(br(at,"clients")),n=new Date().toISOString(),s={id:e.id,name:i.name,email:i.email,phone:i.phone,address:i.address,clientType:i.clientType,timestamp:{createdAt:n,updatedAt:n}};return await Mu(e,s),console.log("Client created successfully with id:",e.id),s}catch(e){console.error("Firebase error adding client:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add client: ${n}`)}},async updateClient(i,e){try{console.log(`Updating client ${i}:`,e);const n=Mt(at,"clients",i);if(!(await Vt(n)).exists())throw new Error(`Client with id ${i} not found`);await Vu(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating client ${i}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update client: ${s}`)}},async deleteClient(i){try{console.log(`Deleting client with id: ${i}`);const e=Mt(at,"clients",i);if(!(await Vt(e)).exists())throw new Error(`Client with id ${i} not found`);await ju(e),console.log(`Client ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting client ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete client: ${n}`)}}};function hS({initialData:i,onSubmit:e,onCancel:n,submitLabel:s="Save"}){const[o,u]=P.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",clientType:i?.clientType||"residential",address:{street:i?.address?.street||"",city:i?.address?.city||"",region:i?.address?.region||"",postalCode:i?.address?.postalCode||"",country:i?.address?.country||""}}),[h,m]=P.useState(!1),g=async p=>{if(p.preventDefault(),!o.name.trim()||!o.email.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return y.jsxs("form",{onSubmit:g,className:`${$.form.layout}`,autoComplete:"off",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:`${$.form.label}`,children:"Name *"}),y.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${$.form.input}`,autoComplete:"off",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:`${$.form.label}`,children:"Email *"}),y.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),className:`${$.form.input}`,autoComplete:"new-email",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:`${$.form.label}`,children:"Phone"}),y.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),className:`${$.form.input}`,autoComplete:"new-phone"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"clientType",className:`${$.form.label}`,children:"Client Type *"}),y.jsxs("select",{id:"clientType",value:o.clientType,onChange:p=>u({...o,clientType:p.target.value}),className:`${$.form.input}`,required:!0,children:[y.jsx("option",{value:"Property Management",children:"Property Management"}),y.jsx("option",{value:"Yacht Charters",children:"Yacht Charters"}),y.jsx("option",{value:"Yacht Maintainence",children:"Yacht Maintainence"}),y.jsx("option",{value:"Golf Club",children:"Golf Club"}),y.jsx("option",{value:"yacht",children:"Yacht"}),y.jsx("option",{value:"villa",children:"Villa"}),y.jsx("option",{value:"hotel",children:"Hotel"}),y.jsx("option",{value:"restaurant",children:"Restaurant"}),y.jsx("option",{value:"residential",children:"Residential"}),y.jsx("option",{value:"corporate",children:"Corporate"}),y.jsx("option",{value:"other",children:"Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"street",className:`${$.form.label}`,children:"Street Address"}),y.jsx("input",{type:"text",id:"street",value:o.address.street,onChange:p=>u({...o,address:{...o.address,street:p.target.value}}),className:`${$.form.input}`,autoComplete:"street-address"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"city",className:`${$.form.label}`,children:"City"}),y.jsx("input",{type:"text",id:"city",value:o.address.city,onChange:p=>u({...o,address:{...o.address,city:p.target.value}}),className:`${$.form.input}`,autoComplete:"address-level2"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"region",className:`${$.form.label}`,children:"Region/State"}),y.jsx("input",{type:"text",id:"region",value:o.address.region,onChange:p=>u({...o,address:{...o.address,region:p.target.value}}),className:`${$.form.input}`,autoComplete:"address-level1"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"postalCode",className:`${$.form.label}`,children:"Postal Code"}),y.jsx("input",{type:"text",id:"postalCode",value:o.address.postalCode,onChange:p=>u({...o,address:{...o.address,postalCode:p.target.value}}),className:`${$.form.input}`,autoComplete:"postal-code"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"country",className:`${$.form.label}`,children:"Country"}),y.jsx("input",{type:"text",id:"country",value:o.address.country,onChange:p=>u({...o,address:{...o.address,country:p.target.value}}),className:`${$.form.input}`,autoComplete:"country-name"})]}),y.jsxs("div",{className:`${$.form.action}`,children:[y.jsx("button",{type:"submit",disabled:h,className:`${$.button.solid}`,children:h?"Saving...":s}),y.jsx("button",{type:"button",onClick:n,disabled:h,className:`${$.button.outline}`,children:"Cancel"})]})]})}function yM({client:i,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const g=()=>[i.address.street,i.address.city,i.address.region,i.address.postalCode,i.address.country].filter(Boolean).join(", ")||"No address provided";return y.jsxs("div",{className:`${he.card}`,children:[y.jsxs("div",{className:`${he.header}`,children:[y.jsx("div",{className:`${he.title}`,children:y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx("div",{children:y.jsx("div",{className:`${gu.profile_initial} bg-gray-100 text-gray-800`,children:ku(i.name)})}),y.jsxs("div",{children:[e?y.jsxs("h3",{className:`${he.selected_name}`,children:[i.name," "]}):y.jsx("h3",{className:`${he.name}`,children:i.name}),y.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:i.clientType.charAt(0).toUpperCase()+i.clientType.slice(1)})]})]})}),e?y.jsx("div",{className:`${he.selection}`,onClick:s}):y.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&y.jsxs("div",{children:[y.jsxs("div",{className:`${he.list_content}`,children:[y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(Eo,{className:"w-4 h-4"}),y.jsx("p",{children:i.phone})]}),y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(vo,{className:"w-4 h-4"}),y.jsx("p",{children:i.email})]}),y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(MT,{className:"w-4 h-4"}),y.jsx("p",{className:"text-sm",children:g()})]})]}),y.jsxs("div",{className:`${he.contact_grid}`,children:[y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(Eo,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(vo,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(Lg,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(jp,{className:"w-8 h-8 mx-auto"})})]}),y.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&y.jsxs("button",{onClick:u,className:`${$.button.solid}`,title:"Edit Client",children:[y.jsx(yu,{className:"w-5 h-5"}),y.jsx("span",{children:"Edit Client"})]})}),o&&y.jsx("div",{children:y.jsx(hS,{initialData:{name:i.name,email:i.email,phone:i.phone,clientType:i.clientType,address:i.address},onSubmit:h,onCancel:m,submitLabel:"Update"})})]})]})}function _M(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(null),[h,m]=P.useState(null),[g,p]=P.useState(null),[T,w]=P.useState(!1);P.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const D=await Gm.getAllClients();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load clients";u(k)}finally{s(!1)}},V=async D=>{try{u(null),await Gm.addClient(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add client";u(Q)}},K=async(D,k)=>{try{u(null);const Q={...k,timestamp:{updatedAt:new Date().toISOString()}};await Gm.updateClient(D,Q),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update client";u(te)}};return n?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.notice}`,children:"Loading..."})}):o?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.error}`,children:o})}):y.jsxs("div",{className:"p-4 mb-12",children:[!T&&y.jsx("div",{className:"flex mb-4",children:y.jsxs("button",{onClick:()=>w(!T),className:`${$.button.outline}`,children:[y.jsx(Lp,{className:"w-5 h-5"}),y.jsx("span",{children:"Add Client"})]})}),T&&y.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[y.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[y.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:y.jsx("span",{className:"font-light text-2xl",children:"N"})}),y.jsx("div",{children:y.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Client"})})]}),y.jsx(hS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?y.jsx("p",{className:`${$.system.notice}`,children:"No clients found. Add your first client to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(D=>y.jsx(yM,{client:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:g?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const vM="Clients",EM=Vi;function TM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(EM,{className:"w-6 h-6"}),y.jsx("h1",{children:vM})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(_M,{})})]})}const Km={async getAllContacts(){try{console.log("Fetching all contacts...");const i=Nu(br(at,"contacts"),Du("name"));return(await Ou(i)).docs.map(s=>({id:s.id,...s.data()}))}catch(i){console.error("Firebase error fetching all contacts:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all contacts: ${e}`)}},async getContact(i){try{console.log(`Fetching contact with id: ${i}`);const e=await Vt(Mt(at,"contacts",i));if(!e.exists())throw new Error(`Contact with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching contact ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch contact: ${n}`)}},async addContact(i){try{console.log("Creating new contact:",i.name);const e=Mt(br(at,"contacts")),n=new Date().toISOString(),s={id:e.id,name:i.name,email:i.email,phone:i.phone,address:i.address,contactType:i.contactType,timestamp:{createdAt:n,updatedAt:n}};return await Mu(e,s),console.log("Contact created successfully with id:",e.id),s}catch(e){console.error("Firebase error adding contact:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add contact: ${n}`)}},async updateContact(i,e){try{console.log(`Updating contact ${i}:`,e);const n=Mt(at,"contacts",i);if(!(await Vt(n)).exists())throw new Error(`Contact with id ${i} not found`);await Vu(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating contact ${i}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update contact: ${s}`)}},async deleteContact(i){try{console.log(`Deleting contact with id: ${i}`);const e=Mt(at,"contacts",i);if(!(await Vt(e)).exists())throw new Error(`Contact with id ${i} not found`);await ju(e),console.log(`Contact ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting contact ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete contact: ${n}`)}}};function fS({initialData:i,onSubmit:e,onCancel:n,submitLabel:s="Save"}){const[o,u]=P.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",contactType:i?.contactType||"primary",address:{street:i?.address?.street||"",city:i?.address?.city||"",region:i?.address?.region||"",postalCode:i?.address?.postalCode||"",country:i?.address?.country||""}}),[h,m]=P.useState(!1),g=async p=>{if(p.preventDefault(),!o.name.trim()||!o.email.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return y.jsxs("form",{onSubmit:g,className:`${$.form.layout}`,autoComplete:"off",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:`${$.form.label}`,children:"Name *"}),y.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${$.form.input}`,autoComplete:"off",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:`${$.form.label}`,children:"Email *"}),y.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),className:`${$.form.input}`,autoComplete:"new-email",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:`${$.form.label}`,children:"Phone"}),y.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),className:`${$.form.input}`,autoComplete:"new-phone"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"contactType",className:`${$.form.label}`,children:"Contact Type *"}),y.jsxs("select",{id:"contactType",value:o.contactType,onChange:p=>u({...o,contactType:p.target.value}),className:`${$.form.input}`,required:!0,children:[y.jsx("option",{value:"primary",children:"Primary"}),y.jsx("option",{value:"billing",children:"Billing"}),y.jsx("option",{value:"operations",children:"Operations"}),y.jsx("option",{value:"captain",children:"Captain"}),y.jsx("option",{value:"stewardess",children:"Stewardess"}),y.jsx("option",{value:"property_manager",children:"Property Manager"}),y.jsx("option",{value:"owner",children:"Owner"}),y.jsx("option",{value:"other",children:"Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"street",className:`${$.form.label}`,children:"Street Address"}),y.jsx("input",{type:"text",id:"street",value:o.address.street,onChange:p=>u({...o,address:{...o.address,street:p.target.value}}),className:`${$.form.input}`,autoComplete:"street-address"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"city",className:`${$.form.label}`,children:"City"}),y.jsx("input",{type:"text",id:"city",value:o.address.city,onChange:p=>u({...o,address:{...o.address,city:p.target.value}}),className:`${$.form.input}`,autoComplete:"address-level2"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"region",className:`${$.form.label}`,children:"Region/State"}),y.jsx("input",{type:"text",id:"region",value:o.address.region,onChange:p=>u({...o,address:{...o.address,region:p.target.value}}),className:`${$.form.input}`,autoComplete:"address-level1"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"postalCode",className:`${$.form.label}`,children:"Postal Code"}),y.jsx("input",{type:"text",id:"postalCode",value:o.address.postalCode,onChange:p=>u({...o,address:{...o.address,postalCode:p.target.value}}),className:`${$.form.input}`,autoComplete:"postal-code"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"country",className:`${$.form.label}`,children:"Country"}),y.jsx("input",{type:"text",id:"country",value:o.address.country,onChange:p=>u({...o,address:{...o.address,country:p.target.value}}),className:`${$.form.input}`,autoComplete:"country-name"})]}),y.jsxs("div",{className:`${$.form.action}`,children:[y.jsx("button",{type:"submit",disabled:h,className:`${$.button.solid}`,children:h?"Saving...":s}),y.jsx("button",{type:"button",onClick:n,disabled:h,className:`${$.button.outline}`,children:"Cancel"})]})]})}function wM({contact:i,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const g=()=>[i.address.street,i.address.city,i.address.region,i.address.postalCode,i.address.country].filter(Boolean).join(", ")||"No address provided",p=T=>T.split("_").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ");return y.jsxs("div",{className:`${he.card}`,children:[y.jsxs("div",{className:`${he.header}`,children:[y.jsx("div",{className:`${he.title}`,children:y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx("div",{children:y.jsx("div",{className:`${gu.profile_initial} bg-gray-100 text-gray-800`,children:ku(i.name)})}),y.jsxs("div",{children:[e?y.jsx("h3",{className:`${he.selected_name}`,children:i.name}):y.jsx("h3",{className:`${he.name}`,children:i.name}),y.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:p(i.contactType)})]})]})}),e?y.jsx("div",{className:`${he.selection}`,onClick:s}):y.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&y.jsxs("div",{children:[y.jsxs("div",{className:`${he.list_content}`,children:[y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(Eo,{className:"w-4 h-4"}),y.jsx("p",{children:i.phone})]}),y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(vo,{className:"w-4 h-4"}),y.jsx("p",{children:i.email})]}),y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx(MT,{className:"w-4 h-4"}),y.jsx("p",{className:"text-sm",children:g()})]})]}),y.jsxs("div",{className:`${he.contact_grid}`,children:[y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(Eo,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(vo,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(Lg,{className:"w-8 h-8 mx-auto"})}),y.jsx("div",{className:`${$.button.outline}`,children:y.jsx(jp,{className:"w-8 h-8 mx-auto"})})]}),y.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&y.jsxs("button",{onClick:u,className:`${$.button.solid}`,title:"Edit Contact",children:[y.jsx(yu,{className:"w-5 h-5"}),y.jsx("span",{children:"Edit Contact"})]})}),o&&y.jsx("div",{children:y.jsx(fS,{initialData:{name:i.name,email:i.email,phone:i.phone,contactType:i.contactType,address:i.address},onSubmit:h,onCancel:m,submitLabel:"Update"})})]})]})}function bM(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(null),[h,m]=P.useState(null),[g,p]=P.useState(null),[T,w]=P.useState(!1);P.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const D=await Km.getAllContacts();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load contacts";u(k)}finally{s(!1)}},V=async D=>{try{u(null),await Km.addContact(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add contact";u(Q)}},K=async(D,k)=>{try{u(null);const Q={...k,timestamp:{updatedAt:new Date().toISOString()}};await Km.updateContact(D,Q),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update contact";u(te)}};return n?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.notice}`,children:"Loading..."})}):o?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.error}`,children:o})}):y.jsxs("div",{className:"p-4 mb-12",children:[!T&&y.jsx("div",{className:"flex mb-4",children:y.jsxs("button",{onClick:()=>w(!T),className:`${$.button.outline}`,children:[y.jsx(Lp,{className:"w-5 h-5"}),y.jsx("span",{children:"Add Contact"})]})}),T&&y.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[y.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[y.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:y.jsx("span",{className:"font-light text-2xl",children:"N"})}),y.jsx("div",{children:y.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Contact"})})]}),y.jsx(fS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?y.jsx("p",{className:`${$.system.notice}`,children:"No contacts found. Add your first contact to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(D=>y.jsx(wM,{contact:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:g?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const SM="Contacts",AM=Vi;function RM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(AM,{className:"w-6 h-6"}),y.jsx("h1",{children:SM})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(bM,{})})]})}const Ym={async getAllServices(){try{console.log("Fetching all services...");const i=Nu(br(at,"services"),Du("name"));return(await Ou(i)).docs.map(s=>({id:s.id,...s.data()}))}catch(i){console.error("Firebase error fetching all services:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all services: ${e}`)}},async getService(i){try{console.log(`Fetching service with id: ${i}`);const e=await Vt(Mt(at,"services",i));if(!e.exists())throw new Error(`Service with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching service ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch service: ${n}`)}},async addService(i){try{console.log("Creating new service:",i.name);const e=Mt(br(at,"services")),n=new Date().toISOString(),s={id:e.id,name:i.name,service:i.service,default_prices:i.default_prices,timestamp:{createdAt:n,updatedAt:n}};return await Mu(e,s),console.log("Service created successfully with id:",e.id),s}catch(e){console.error("Firebase error adding service:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add service: ${n}`)}},async updateService(i,e){try{console.log(`Updating service ${i}:`,e);const n=Mt(at,"services",i);if(!(await Vt(n)).exists())throw new Error(`Service with id ${i} not found`);await Vu(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating service ${i}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update service: ${s}`)}},async deleteService(i){try{console.log(`Deleting service with id: ${i}`);const e=Mt(at,"services",i);if(!(await Vt(e)).exists())throw new Error(`Service with id ${i} not found`);await ju(e),console.log(`Service ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting service ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete service: ${n}`)}}};function dS({initialData:i,onSubmit:e,onCancel:n,submitLabel:s="Save"}){const[o,u]=P.useState({name:i?.name||"",service:i?.service||"wash-and-dry",default_prices:i?.default_prices||[{unit:"per_load",price:0}]}),[h,m]=P.useState(!1),g=async A=>{if(A.preventDefault(),!o.name.trim()){alert("Please fill in all required fields");return}if(o.default_prices.length===0){alert("Please add at least one pricing option");return}if(o.default_prices.some(V=>V.price<=0)){alert("All prices must be greater than 0");return}m(!0);try{await e(o)}finally{m(!1)}},p=()=>{u({...o,default_prices:[...o.default_prices,{unit:"per_item",price:0}]})},T=A=>{o.default_prices.length>1&&u({...o,default_prices:o.default_prices.filter((V,K)=>K!==A)})},w=(A,V,K)=>{const D=[...o.default_prices];D[A]={...D[A],[V]:K},u({...o,default_prices:D})};return y.jsxs("form",{onSubmit:g,className:`${$.form.layout}`,autoComplete:"off",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:`${$.form.label}`,children:"Service Name *"}),y.jsx("input",{type:"text",id:"name",value:o.name,onChange:A=>u({...o,name:A.target.value}),className:`${$.form.input}`,autoComplete:"off",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"service",className:`${$.form.label}`,children:"Service Category *"}),y.jsxs("select",{id:"service",value:o.service,onChange:A=>u({...o,service:A.target.value}),className:`${$.form.input}`,required:!0,children:[y.jsx("option",{value:"wash-and-dry",children:"Wash And Dry"}),y.jsx("option",{value:"machine-wash",children:"Machine Wash"}),y.jsx("option",{value:"machine-dry",children:"Machine Dry"}),y.jsx("option",{value:"roll-ironing",children:"Roll Ironing"}),y.jsx("option",{value:"hand-ironing",children:"Hand Ironing"}),y.jsx("option",{value:"dry-cleaning",children:"Dry Cleaning"}),y.jsx("option",{value:"carpet-cleaning",children:"Carpet Cleaning"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:`${$.form.label}`,children:"Default Pricing Options *"}),y.jsx("div",{className:"flex items-center justify-between mb-2",children:y.jsxs("button",{type:"button",onClick:p,className:`${$.button.outline}`,children:[y.jsx(Up,{className:"w-4 h-4"}),y.jsx("span",{children:"Add Price"})]})}),y.jsx("div",{className:"space-y-3",children:o.default_prices.map((A,V)=>y.jsxs("div",{className:"flex gap-2 items-start",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{htmlFor:`unit-${V}`,className:"block text-xs text-gray-400 mb-1",children:"Unit"}),y.jsxs("select",{id:`unit-${V}`,value:A.unit,onChange:K=>w(V,"unit",K.target.value),className:`${$.form.input}`,required:!0,children:[y.jsx("option",{value:"per_item",children:"Per Item"}),y.jsx("option",{value:"per_kg",children:"Per Kg"}),y.jsx("option",{value:"per_load",children:"Per Load"}),y.jsx("option",{value:"per_sqm",children:"Per Sqm"})]})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{htmlFor:`price-${V}`,className:"block text-xs text-gray-400 mb-1",children:"Price ()"}),y.jsx("input",{type:"number",id:`price-${V}`,value:A.price,onChange:K=>w(V,"price",parseFloat(K.target.value)||0),className:`${$.form.input}`,step:"0.01",min:"0",required:!0})]}),o.default_prices.length>1&&y.jsx("button",{type:"button",onClick:()=>T(V),className:"mt-6 p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors",title:"Remove price option",children:y.jsx(pC,{className:"w-5 h-5"})})]},V))})]}),y.jsxs("div",{className:`${$.form.action}`,children:[y.jsx("button",{type:"submit",disabled:h,className:`${$.button.solid}`,children:h?"Saving...":s}),y.jsx("button",{type:"button",onClick:n,disabled:h,className:`${$.button.outline}`,children:"Cancel"})]})]})}function CM({service:i,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const g=w=>w.split("-").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" "),p=w=>w.split("_").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" "),T=w=>w?new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return y.jsxs("div",{className:`${he.card}`,children:[y.jsxs("div",{className:`${he.header}`,children:[y.jsx("div",{className:`${he.title}`,children:y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx("div",{children:y.jsx("div",{className:`${gu.profile_initial} bg-gray-100 text-gray-800`,children:ku(i.name)})}),y.jsxs("div",{children:[e?y.jsx("h3",{className:`${he.selected_name}`,children:i.name}):y.jsx("h3",{className:`${he.name}`,children:i.name}),y.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:g(i.service)})]})]})}),e?y.jsx("div",{className:`${he.selection}`,onClick:s}):y.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&y.jsxs("div",{children:[y.jsx("div",{className:`${he.list_content}`,children:y.jsx("div",{className:`${he.icon_list}`,children:y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Default Pricing Options"}),y.jsx("div",{className:"space-y-1",children:i.default_prices.map((w,A)=>y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-400",children:p(w.unit)}),y.jsxs("span",{className:"text-gray-200 font-medium",children:["",w.price.toFixed(2)]})]},A))})]})})}),y.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&y.jsxs("button",{onClick:u,className:`${$.button.solid}`,title:"Edit Service",children:[y.jsx(yu,{className:"w-5 h-5"}),y.jsx("span",{children:"Edit Service"})]})}),o&&y.jsx("div",{children:y.jsx(dS,{initialData:{name:i.name,service:i.service,default_prices:i.default_prices},onSubmit:h,onCancel:m,submitLabel:"Update"})}),y.jsx("div",{className:`${he.icon_list} pt-4`,children:y.jsx("div",{className:"flex-1",children:y.jsxs("div",{className:"space-y-1 text-xs",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-400",children:"Created:"}),y.jsx("span",{className:"text-gray-300",children:T(i.timestamp?.createdAt)})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-400",children:"Updated:"}),y.jsx("span",{className:"text-gray-300",children:T(i.timestamp?.updatedAt)})]})]})})})]})]})}function xM(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(null),[h,m]=P.useState(null),[g,p]=P.useState(null),[T,w]=P.useState(!1);P.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const D=await Ym.getAllServices();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load services";u(k)}finally{s(!1)}},V=async D=>{try{u(null),await Ym.addService(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add service";u(Q)}},K=async(D,k)=>{try{u(null);const Q=i.find(re=>re.id===D),te={...k,timestamp:{createdAt:Q?.timestamp?.createdAt,updatedAt:new Date().toISOString()}};await Ym.updateService(D,te),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update service";u(te)}};return n?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.notice}`,children:"Loading..."})}):o?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.error}`,children:o})}):y.jsxs("div",{className:"p-4 mb-12",children:[!T&&y.jsx("div",{className:"flex mb-4",children:y.jsxs("button",{onClick:()=>w(!T),className:`${$.button.outline}`,children:[y.jsx(Up,{className:"w-5 h-5"}),y.jsx("span",{children:"Add Service"})]})}),T&&y.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[y.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[y.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:y.jsx("span",{className:"font-light text-2xl",children:"N"})}),y.jsx("div",{children:y.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Service"})})]}),y.jsx(dS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?y.jsx("p",{className:`${$.system.notice}`,children:"No services found. Add your first service to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(D=>y.jsx(CM,{service:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:g?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const IM="Laundry Services",NM=us;function DM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(NM,{className:"w-6 h-6"}),y.jsx("h1",{children:IM})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(xM,{})})]})}const Qm={async getAllItems(){try{console.log("Fetching all items...");const i=Nu(br(at,"items"),Du("name"));return(await Ou(i)).docs.map(s=>({id:s.id,...s.data()}))}catch(i){console.error("Firebase error fetching all items:",i);const e=i instanceof Error?i.message:"Unknown error";throw new Error(`Failed to fetch all items: ${e}`)}},async getItem(i){try{console.log(`Fetching item with id: ${i}`);const e=await Vt(Mt(at,"items",i));if(!e.exists())throw new Error(`Item with id ${i} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching item ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch item: ${n}`)}},async addItem(i){try{console.log("Creating new item:",i.name);const e=Mt(br(at,"items")),n=new Date().toISOString(),s={id:e.id,name:i.name,category:i.category,timestamp:{createdAt:n,updatedAt:n}};return await Mu(e,s),console.log("Item created successfully with id:",e.id),s}catch(e){console.error("Firebase error adding item:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add item: ${n}`)}},async updateItem(i,e){try{console.log(`Updating item ${i}:`,e);const n=Mt(at,"items",i);if(!(await Vt(n)).exists())throw new Error(`Item with id ${i} not found`);await Vu(n,e);const o=await Vt(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating item ${i}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update item: ${s}`)}},async deleteItem(i){try{console.log(`Deleting item with id: ${i}`);const e=Mt(at,"items",i);if(!(await Vt(e)).exists())throw new Error(`Item with id ${i} not found`);await ju(e),console.log(`Item ${i} deleted successfully`)}catch(e){console.error(`Firebase error deleting item ${i}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete item: ${n}`)}}};function mS({initialData:i,onSubmit:e,onCancel:n,submitLabel:s="Save"}){const[o,u]=P.useState({name:i?.name||"",category:i?.category||"bed-linen"}),[h,m]=P.useState(!1),g=async p=>{if(p.preventDefault(),!o.name.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return y.jsxs("form",{onSubmit:g,className:`${$.form.layout}`,autoComplete:"off",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:`${$.form.label}`,children:"Item Name *"}),y.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${$.form.input}`,autoComplete:"off",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"category",className:`${$.form.label}`,children:"Item Category *"}),y.jsxs("select",{id:"category",value:o.category,onChange:p=>u({...o,category:p.target.value}),className:`${$.form.input}`,required:!0,children:[y.jsx("option",{value:"bed-linen",children:"Bed Linen"}),y.jsx("option",{value:"clothing",children:"Clothing"}),y.jsx("option",{value:"towel",children:"Towel"}),y.jsx("option",{value:"dining",children:"Dining"})]})]}),y.jsxs("div",{className:`${$.form.action}`,children:[y.jsx("button",{type:"submit",disabled:h,className:`${$.button.solid}`,children:h?"Saving...":s}),y.jsx("button",{type:"button",onClick:n,disabled:h,className:`${$.button.outline}`,children:"Cancel"})]})]})}function OM({item:i,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const g=T=>T.split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "),p=T=>T?new Date(T).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return y.jsxs("div",{className:`${he.card}`,children:[y.jsxs("div",{className:`${he.header}`,children:[y.jsx("div",{className:`${he.title}`,children:y.jsxs("div",{className:`${he.icon_list}`,children:[y.jsx("div",{children:y.jsx("div",{className:`${gu.profile_initial} bg-gray-100 text-gray-800`,children:ku(i.name)})}),y.jsxs("div",{children:[e?y.jsx("h3",{className:`${he.selected_name}`,children:i.name}):y.jsx("h3",{className:`${he.name}`,children:i.name}),y.jsx("span",{className:`${he.tags} bg-gray-100 text-gray-800`,children:g(i.category)})]})]})}),e?y.jsx("div",{className:`${he.selection}`,onClick:s}):y.jsx("div",{className:`${he.selection}`,onClick:n})]}),e&&y.jsxs("div",{children:[y.jsx("div",{className:`${he.list_content}`,children:y.jsx("div",{className:`${he.icon_list}`,children:y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Services & Pricing"}),y.jsx("div",{className:"space-y-1"})]})})}),y.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&y.jsxs("button",{onClick:u,className:`${$.button.solid}`,title:"Edit Item",children:[y.jsx(yu,{className:"w-5 h-5"}),y.jsx("span",{children:"Edit Item"})]})}),o&&y.jsx("div",{children:y.jsx(mS,{initialData:{name:i.name,category:i.category},onSubmit:h,onCancel:m,submitLabel:"Update"})}),y.jsx("div",{className:`${he.icon_list} pt-4`,children:y.jsx("div",{className:"flex-1",children:y.jsxs("div",{className:"space-y-1 text-xs",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-400",children:"Created:"}),y.jsx("span",{className:"text-gray-300",children:p(i.timestamp?.createdAt)})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-400",children:"Updated:"}),y.jsx("span",{className:"text-gray-300",children:p(i.timestamp?.updatedAt)})]})]})})})]})]})}function MM(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(null),[h,m]=P.useState(null),[g,p]=P.useState(null),[T,w]=P.useState(!1);P.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const D=await Qm.getAllItems();e(D)}catch(D){const k=D instanceof Error?D.message:"Failed to load items";u(k)}finally{s(!1)}},V=async D=>{try{u(null),await Qm.addItem(D),await A(),w(!1)}catch(k){const Q=k instanceof Error?k.message:"Failed to add item";u(Q)}},K=async(D,k)=>{try{u(null);const Q=i.find(re=>re.id===D),te={...k,timestamp:{createdAt:Q?.timestamp?.createdAt,updatedAt:new Date().toISOString()}};await Qm.updateItem(D,te),await A(),p(null)}catch(Q){const te=Q instanceof Error?Q.message:"Failed to update item";u(te)}};return n?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.notice}`,children:"Loading..."})}):o?y.jsx("div",{className:"p-4",children:y.jsx("p",{className:`${$.system.error}`,children:o})}):y.jsxs("div",{className:"p-4 mb-12",children:[!T&&y.jsx("div",{className:"flex mb-4",children:y.jsxs("button",{onClick:()=>w(!T),className:`${$.button.outline}`,children:[y.jsx(Up,{className:"w-5 h-5"}),y.jsx("span",{children:"Add Item"})]})}),T&&y.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[y.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[y.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:y.jsx("span",{className:"font-light text-2xl",children:"N"})}),y.jsx("div",{children:y.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Item"})})]}),y.jsx(mS,{onSubmit:V,onCancel:()=>w(!1)})]}),i.length===0?y.jsx("p",{className:`${$.system.notice}`,children:"No items found. Add your first item to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(D=>y.jsx(OM,{item:D,isViewing:h?.id===D.id,onView:()=>m(D),onCancelView:()=>m(null),isEditing:g?.id===D.id,onEdit:()=>p(D),onUpdate:k=>K(D.id,k),onCancelEdit:()=>p(null)},D.id))})]})}const VM="Laundry Items",jM=us;function kM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(jM,{className:"w-6 h-6"}),y.jsx("h1",{children:VM})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(MM,{})})]})}const oT="Laundry Jobs",UM=us;function PM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(UM,{className:"w-6 h-6"}),y.jsx("h1",{children:oT})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(Pg,{title:oT})})]})}const _o=he;function LM(){return y.jsxs("div",{className:`${_o.card} space-y-4`,children:[y.jsx("h2",{className:`${_o.selected_name}`,children:"General Settings"}),y.jsx("p",{className:`${_o.name}`,children:"General application settings will be managed here in the future."})]})}function zM(){return y.jsxs("div",{className:`${_o.card} space-y-4`,children:[y.jsx("h2",{className:`${_o.selected_name}`,children:"User Settings"}),y.jsx("p",{className:`${_o.name}`,children:"User settings will be managed here in the future."})]})}function BM(){const[i]=NR(),[e,n]=P.useState(()=>{const u=i.get("tab");return u==="general"||u==="users"?u:"general"}),s=[{id:"general",name:"General"},{id:"users",name:"Users"}],o=u=>{e!==u&&n(u)};return y.jsx("div",{className:"",children:y.jsxs("div",{className:"p-4",children:[y.jsx("div",{className:"border-b border-cyan-200 mb-4",children:y.jsx("nav",{className:"-mb-px flex","aria-label":"Tabs",children:s.map(u=>y.jsx("button",{onClick:()=>o(u.id),className:`${e===u.id?"border-cyan-400 text-cyan-400 bg-blue-700/20":"border-transparent text-cyan-400 hover:text-cyan-500 hover:border-cyan-300 bg-blue-900/20"}  py-3 px-6 border-b-2 font-medium text-sm transition-colors`,"aria-current":e===u.id?"page":void 0,children:u.name},u.id))})}),y.jsxs("div",{children:[e==="general"&&y.jsx(LM,{}),e==="users"&&y.jsx(zM,{})]})]})})}const FM="Settings",qM=Pp;function $M(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(qM,{className:"w-6 h-6"}),y.jsx("h1",{children:FM})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(BM,{})})]})}const lT="Template Page",HM=Vi;function GM(){return y.jsxs("div",{className:`${$.view.page}`,children:[y.jsx("div",{className:`${$.view.header}`,children:y.jsxs("div",{className:`${$.view.title}`,children:[y.jsx(HM,{className:"w-6 h-6"}),y.jsx("h1",{children:lT})]})}),y.jsx("div",{className:`${$.view.content}`,children:y.jsx(Pg,{title:lT})})]})}const KM=({children:i})=>{const{user:e,loading:n}=NT();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?y.jsx(y.Fragment,{children:i}):y.jsx(ST,{to:"/login",replace:!0})};function YM(){return y.jsx(RR,{children:y.jsxs("div",{className:"relative w-full min-h-screen",children:[y.jsx("div",{className:"fixed inset-0 z-0",children:y.jsx(HR,{})}),y.jsx("div",{className:"relative z-10 min-h-screen flex flex-col",children:y.jsxs(tR,{children:[y.jsx(yn,{path:"/login",element:y.jsx(uM,{})}),y.jsxs(yn,{path:"/",element:y.jsx(KM,{children:y.jsx(lM,{})}),children:[y.jsx(yn,{index:!0,element:y.jsx(hM,{})}),y.jsx(yn,{path:"clients",element:y.jsx(TM,{})}),y.jsx(yn,{path:"contacts",element:y.jsx(RM,{})}),y.jsx(yn,{path:"staff",element:y.jsx(gM,{})}),y.jsx(yn,{path:"services",element:y.jsx(DM,{})}),y.jsx(yn,{path:"items",element:y.jsx(kM,{})}),y.jsx(yn,{path:"jobs",element:y.jsx(PM,{})}),y.jsx(yn,{path:"settings",element:y.jsx($M,{})}),y.jsx(yn,{path:"template",element:y.jsx(GM,{})}),y.jsx(yn,{path:"settings/users",element:y.jsx("h1",{className:"text-2xl font-bold text-cyan-500",children:"Users"})})]}),y.jsx(yn,{path:"*",element:y.jsx(ST,{to:"/",replace:!0})})]})})]})})}const QM=({children:i})=>{const{setUser:e,setLoading:n}=NT();return P.useEffect(()=>{const s=iI(Sf,o=>{e(o),n(!1),o?(console.log("User signed in:",o.email),o.getIdToken().then(u=>{console.log("Auth Token retrieved:",u)})):console.log("User signed out")});return()=>s()},[e,n]),y.jsx(y.Fragment,{children:i})};tA.createRoot(document.getElementById("root")).render(y.jsx($l.StrictMode,{children:y.jsx(QM,{children:y.jsx(YM,{})})}));
