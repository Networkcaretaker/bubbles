(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function eT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},Vl={};var Jv;function BS(){if(Jv)return Vl;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Wv;function qS(){return Wv||(Wv=1,pm.exports=BS()),pm.exports}var A=qS(),gm={exports:{}},we={};var Zv;function FS(){if(Zv)return we;Zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,L={};function te(M,Z,ae){this.props=M,this.context=Z,this.refs=L,this.updater=ae||G}te.prototype.isReactComponent={},te.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ie(M,Z,ae){this.props=M,this.context=Z,this.refs=L,this.updater=ae||G}var me=ie.prototype=new ne;me.constructor=ie,F(me,te.prototype),me.isPureReactComponent=!0;var ve=Array.isArray;function Te(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,Z,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:Z,ref:ue!==void 0?ue:null,props:ae}}function V(M,Z){return C(M.type,Z,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var I=/\/+/g;function rt(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Te,Te):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,Z,ae,ue,Ee){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Ce){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case r:case e:ke=!0;break;case E:return ke=M._init,Q(ke(M._payload),Z,ae,ue,Ee)}}if(ke)return Ee=Ee(M),ke=ue===""?"."+rt(M,0):ue,ve(Ee)?(ae="",ke!=null&&(ae=ke.replace(I,"$&/")+"/"),Q(Ee,Z,ae,"",function(Ts){return Ts})):Ee!=null&&(O(Ee)&&(Ee=V(Ee,ae+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+ke)),Z.push(Ee)),1;ke=0;var Dt=ue===""?".":ue+":";if(ve(M))for(var st=0;st<M.length;st++)ue=M[st],Ce=Dt+rt(ue,st),ke+=Q(ue,Z,ae,Ce,Ee);else if(st=U(M),typeof st=="function")for(M=st.call(M),st=0;!(ue=M.next()).done;)ue=ue.value,Ce=Dt+rt(ue,st++),ke+=Q(ue,Z,ae,Ce,Ee);else if(Ce==="object"){if(typeof M.then=="function")return Q(xt(M),Z,ae,ue,Ee);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(M,Z,ae){if(M==null)return M;var ue=[],Ee=0;return Q(M,ue,"","",function(Ce){return Z.call(ae,Ce,Ee++)}),ue}function pe(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,Z,ae){se(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return se(M,function(){Z++}),Z},toArray:function(M){return se(M,function(Z){return Z})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=T,we.Children=Ge,we.Component=te,we.Fragment=n,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=F({},M.props),Ee=M.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Ee=""+Z.key),Z)!R.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ue[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var ke=Array(Ce),Dt=0;Dt<Ce;Dt++)ke[Dt]=arguments[Dt+2];ue.children=ke}return C(M.type,Ee,ue)},we.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},we.createElement=function(M,Z,ae){var ue,Ee={},Ce=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ce=""+Z.key),Z)R.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=Z[ue]);var ke=arguments.length-2;if(ke===1)Ee.children=ae;else if(1<ke){for(var Dt=Array(ke),st=0;st<ke;st++)Dt[st]=arguments[st+2];Ee.children=Dt}if(M&&M.defaultProps)for(ue in ke=M.defaultProps,ke)Ee[ue]===void 0&&(Ee[ue]=ke[ue]);return C(M,Ce,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:m,render:M}},we.isValidElement=O,we.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},we.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},we.startTransition=function(M){var Z=x.T,ae={};x.T=ae;try{var ue=M(),Ee=x.S;Ee!==null&&Ee(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,je)}catch(Ce){je(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),x.T=Z}},we.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},we.use=function(M){return x.H.use(M)},we.useActionState=function(M,Z,ae){return x.H.useActionState(M,Z,ae)},we.useCallback=function(M,Z){return x.H.useCallback(M,Z)},we.useContext=function(M){return x.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,Z){return x.H.useDeferredValue(M,Z)},we.useEffect=function(M,Z){return x.H.useEffect(M,Z)},we.useEffectEvent=function(M){return x.H.useEffectEvent(M)},we.useId=function(){return x.H.useId()},we.useImperativeHandle=function(M,Z,ae){return x.H.useImperativeHandle(M,Z,ae)},we.useInsertionEffect=function(M,Z){return x.H.useInsertionEffect(M,Z)},we.useLayoutEffect=function(M,Z){return x.H.useLayoutEffect(M,Z)},we.useMemo=function(M,Z){return x.H.useMemo(M,Z)},we.useOptimistic=function(M,Z){return x.H.useOptimistic(M,Z)},we.useReducer=function(M,Z,ae){return x.H.useReducer(M,Z,ae)},we.useRef=function(M){return x.H.useRef(M)},we.useState=function(M){return x.H.useState(M)},we.useSyncExternalStore=function(M,Z,ae){return x.H.useSyncExternalStore(M,Z,ae)},we.useTransition=function(){return x.H.useTransition()},we.version="19.2.3",we}var e0;function Ep(){return e0||(e0=1,gm.exports=FS()),gm.exports}var q=Ep();const kl=eT(q);var ym={exports:{}},Ul={},_m={exports:{}},vm={};var t0;function HS(){return t0||(t0=1,(function(r){function e(Q,se){var pe=Q.length;Q.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ge=Q[je];if(0<o(Ge,se))Q[je]=se,Q[pe]=Ge,pe=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],pe=Q.pop();if(pe!==se){Q[0]=pe;e:for(var je=0,Ge=Q.length,M=Ge>>>1;je<M;){var Z=2*(je+1)-1,ae=Q[Z],ue=Z+1,Ee=Q[ue];if(0>o(ae,pe))ue<Ge&&0>o(Ee,ae)?(Q[je]=Ee,Q[ue]=pe,je=ue):(Q[je]=ae,Q[Z]=pe,je=Z);else if(ue<Ge&&0>o(Ee,pe))Q[je]=Ee,Q[ue]=pe,je=ue;else break e}}return se}function o(Q,se){var pe=Q.sortIndex-se.sortIndex;return pe!==0?pe:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,S=3,U=!1,G=!1,F=!1,L=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function me(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ve(Q){if(F=!1,me(Q),!G)if(n(p)!==null)G=!0,Te||(Te=!0,k());else{var se=n(g);se!==null&&xt(ve,se.startTime-Q)}}var Te=!1,x=-1,R=5,C=-1;function V(){return L?!0:!(r.unstable_now()-C<R)}function O(){if(L=!1,Te){var Q=r.unstable_now();C=Q;var se=!0;try{e:{G=!1,F&&(F=!1,ne(x),x=-1),U=!0;var pe=S;try{t:{for(me(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&V());){var je=T.callback;if(typeof je=="function"){T.callback=null,S=T.priorityLevel;var Ge=je(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,me(Q),se=!0;break t}T===n(p)&&s(p),me(Q)}else s(p);T=n(p)}if(T!==null)se=!0;else{var M=n(g);M!==null&&xt(ve,M.startTime-Q),se=!1}}break e}finally{T=null,S=pe,U=!1}se=void 0}}finally{se?k():Te=!1}}}var k;if(typeof ie=="function")k=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=O,k=function(){rt.postMessage(null)}}else k=function(){te(O,0)};function xt(Q,se){x=te(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var pe=S;S=se;try{return Q()}finally{S=pe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=S;S=Q;try{return se()}finally{S=pe}},r.unstable_scheduleCallback=function(Q,se,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,Q={id:E++,callback:se,priorityLevel:Q,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(F?(ne(x),x=-1):F=!0,xt(ve,pe-je))):(Q.sortIndex=Ge,e(p,Q),G||U||(G=!0,Te||(Te=!0,k()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var se=S;return function(){var pe=S;S=se;try{return Q.apply(this,arguments)}finally{S=pe}}}})(vm)),vm}var n0;function GS(){return n0||(n0=1,_m.exports=HS()),_m.exports}var Em={exports:{}},Qt={};var i0;function $S(){if(i0)return Qt;i0=1;var r=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var r0;function YS(){if(r0)return Em.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=$S(),Em.exports}var s0;function KS(){if(s0)return Ul;s0=1;var r=GS(),e=Ep(),n=YS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case te:return"Profiler";case L:return"StrictMode";case ve:return"Suspense";case Te:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var xt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function Z(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=M(null),Ee=M(null),Ce=M(null),ke=M(null);function Dt(t,i){switch(ae(Ce,i),ae(Ee,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ev(i),t=Tv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function st(){Z(ue),Z(Ee),Z(Ce)}function Ts(t){t.memoizedState!==null&&ae(ke,t);var i=ue.current,a=Tv(i,t.type);i!==a&&(ae(Ee,t),ae(ue,a))}function da(t){Ee.current===t&&(Z(ue),Z(Ee)),ke.current===t&&(Z(ke),xl._currentValue=pe)}var ma,pa;function si(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var xo=!1;function bs(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var H=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){H=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){H=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),B=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===B.length)for(l=N.length-1,f=B.length-1;1<=l&&0<=f&&N[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==B[f]){var K=`
`+N[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=f);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return si("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,yf=r.unstable_shouldYield,bu=r.unstable_requestPaint,en=r.unstable_now,ws=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,_f=r.unstable_LowPriority,wu=r.unstable_IdlePriority,Au=r.log,Su=r.unstable_setDisableYieldValue,Bn=null,zt=null;function Cn(t){if(typeof Au=="function"&&Su(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var ft=Math.clz32?Math.clz32:Cu,Ru=Math.log,ga=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(Ru(t)/ga|0)|0}var ai=256,As=262144,vt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=oi(l):(_&=b,_!==0?f=oi(_):a||(a=b&~t,a!==0&&(f=oi(a))))):(b=l&~d,b!==0?f=oi(b):_!==0?f=oi(_):a||(a=l&~t,a!==0&&(f=oi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-ft(a),W=1<<K;b[K]=0,N[K]=-1;var H=B[K];if(H!==null)for(B[K]=null,K=0;K<H.length;K++){var Y=H[K];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&Rs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Rs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:Cs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Hv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Hn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Hn,Pt="__reactProps$"+Hn,ci="__reactContainer$"+Hn,ya="__reactEvents$"+Hn,Tf="__reactListeners$"+Hn,xu="__reactHandles$"+Hn,Du="__reactResources$"+Hn,hi="__reactMarker$"+Hn;function _a(t){delete t[Et],delete t[Pt],delete t[ya],delete t[Tf],delete t[xu]}function fi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Iv(t);t!==null;){if(a=t[Et])return a;t=Iv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Et]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Du];return i||(i=t[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[hi]=!0}var ko=new Set,Lo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Lo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Ou(t){return _t.call(Bo,t)?!0:_t.call(zo,t)?!1:jo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function va(t,i,a){if(Ou(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function br(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=br(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function Is(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=br(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function rn(t){return t.replace(Ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,kt(i)):a!=null?Fo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+kt(b):t.removeAttribute("name")}function Mu(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function Fo(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Vu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Ho(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var $o=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,yi=null;function xs(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Is(l)}break e;case"textarea":Vu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wr(t,!!a.multiple,i,!1)}}}var wa=!1;function Cr(t,i,a){if(wa)return t(i,a);wa=!0;try{var l=t(i);return l}finally{if(wa=!1,(Rr!==null||yi!==null)&&(Nc(),Rr&&(i=Rr,t=yi,yi=Rr=null,xs(i),t)))for(i=0;i<t.length;i++)xs(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(xn)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Ds=!1}var _i=null,Yo=null,Os=null;function Ko(){if(Os)return Os;var t,i=Yo,a=i.length,l,f="value"in _i?_i.value:_i.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Os=f.slice(t,1<l?1-l:void 0)}function Ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Yn(){return!1}function Bt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(Hi),Ir=T({},Hi,{view:0,detail:0}),Qo=Bt(Ir),Nr,Aa,Ei,Sa=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Nr=t.screenX-Ei.screenX,Aa=t.screenY-Ei.screenY):Aa=Nr=0,Ei=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Xo=Bt(Sa),Vs=T({},Sa,{dataTransfer:0}),ku=Bt(Vs),Lu=T({},Ir,{relatedTarget:0}),Us=Bt(Lu),Jo=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Bt(Jo),Ra=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=Bt(Ra),Bu=T({},Hi,{data:0}),Ti=Bt(Bu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function xr(){return Gu}var tn=T({},Ir,{key:function(t){if(t.key){var i=qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=Bt(tn),Yu=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Bt(Yu),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Bt(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(v),j=T({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Bt(j),re=T({},Hi,{newState:0,oldState:0}),Se=Bt(re),dt=[9,13,27,32],qe=xn&&"CompositionEvent"in window,at=null;xn&&"documentMode"in document&&(at=document.documentMode);var Dn=xn&&"TextEvent"in window&&!at,bi=xn&&(!qe||at&&8<at&&11>=at),Kn=" ",Qn=!1;function Ps(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function hA(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Qn?null:t;default:return null}}function fA(t,i){if(Ia)return t==="compositionend"||!qe&&Ps(t,i)?(t=Ko(),Os=Yo=_i=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!dA[t.type]:i==="textarea"}function Og(t,i,a,l){Rr?yi?yi.push(l):yi=[l]:Rr=l,i=Pc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Zo=null;function mA(t){mv(t,0)}function Ku(t){var i=mn(t);if(Is(i))return t}function Mg(t,i){if(t==="change")return i}var Vg=!1;if(xn){var bf;if(xn){var wf="oninput"in document;if(!wf){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),wf=typeof Ug.oninput=="function"}bf=wf}else bf=!1;Vg=bf&&(!document.documentMode||9<document.documentMode)}function Pg(){Wo&&(Wo.detachEvent("onpropertychange",kg),Zo=Wo=null)}function kg(t){if(t.propertyName==="value"&&Ku(Zo)){var i=[];Og(i,Zo,t,Nn(t)),Cr(mA,i)}}function pA(t,i,a){t==="focusin"?(Pg(),Wo=i,Zo=a,Wo.attachEvent("onpropertychange",kg)):t==="focusout"&&Pg()}function gA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(Zo)}function yA(t,i){if(t==="click")return Ku(i)}function _A(t,i){if(t==="input"||t==="change")return Ku(i)}function vA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:vA;function el(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(i,f)||!gn(t[f],i[f]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,i){var a=Lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function zg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?zg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function Af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var EA=xn&&"documentMode"in document&&11>=document.documentMode,Na=null,Sf=null,tl=null,Rf=!1;function qg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Na==null||Na!==gi(l)||(l=Na,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Pc(Sf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Cf={},Fg={};xn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ls(t){if(Cf[t])return Cf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Cf[t]=i[a];return t}var Hg=Ls("animationend"),Gg=Ls("animationiteration"),$g=Ls("animationstart"),TA=Ls("transitionrun"),bA=Ls("transitionstart"),wA=Ls("transitioncancel"),Yg=Ls("transitionend"),Kg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Xn(t,i){Kg.set(t,i),mi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Da=0,Nf=0;function Xu(){for(var t=Da,i=Nf=Da=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Qg(a,f,d)}}function Ju(t,i,a,l){On[Da++]=t,On[Da++]=i,On[Da++]=a,On[Da++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return Ju(t,i,a,l),Wu(t)}function js(t,i){return Ju(t,null,null,i),Wu(t)}function Qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-ft(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<wl)throw wl=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function AA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new AA(t,i,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Df(t)&&(_=1);else if(typeof t=="string")_=NS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,f),t.elementType=C,t.lanes=d,t;case F:return zs(a.children,f,d,i);case L:_=8,f|=24;break;case te:return t=yn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case ve:return t=yn(13,a,i,f),t.elementType=ve,t.lanes=d,t;case Te:return t=yn(19,a,i,f),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case me:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Jg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Mf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Wg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Wg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Wg.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Ma=[],Va=0,ec=null,nl=0,Vn=[],Un=0,Dr=null,wi=1,Ai="";function Yi(t,i){Ma[Va++]=nl,Ma[Va++]=ec,ec=t,nl=i}function Zg(t,i,a){Vn[Un++]=wi,Vn[Un++]=Ai,Vn[Un++]=Dr,Dr=t;var l=wi;t=Ai;var f=32-ft(l)-1;l&=~(1<<f),a+=1;var d=32-ft(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,wi=1<<32-ft(i)+f|a<<f|l,Ai=d+t}else wi=1<<d|a<<f|l,Ai=t}function Vf(t){t.return!==null&&(Yi(t,1),Zg(t,1,0))}function Uf(t){for(;t===ec;)ec=Ma[--Va],Ma[Va]=null,nl=Ma[--Va],Ma[Va]=null;for(;t===Dr;)Dr=Vn[--Un],Vn[Un]=null,Ai=Vn[--Un],Vn[Un]=null,wi=Vn[--Un],Vn[Un]=null}function ey(t,i){Vn[Un++]=wi,Vn[Un++]=Ai,Vn[Un++]=Dr,wi=i.id,Ai=i.overflow,Dr=t}var qt=null,tt=null,Pe=!1,Or=null,Pn=!1,Pf=Error(s(519));function Mr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Mn(i,t)),Pf}function ty(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Pt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)xe(Sl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||_v(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Mr(t,!0)}function ny(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qt=qt.return}}function Ua(t){if(t!==qt)return!1;if(!Pe)return ny(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&tt&&Mr(t),ny(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Cv(t)}else i===27?(i=tt,Yr(t.type)?(t=sm,sm=null,tt=t):tt=i):tt=qt?Ln(t.stateNode.nextSibling):null;return!0}function Bs(){tt=qt=null,Pe=!1}function kf(){var t=Or;return t!==null&&(un===null?un=t:un.push.apply(un,t),Or=null),t}function il(t){Or===null?Or=[t]:Or.push(t)}var Lf=M(null),qs=null,Ki=null;function Vr(t,i,a){ae(Lf,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=Lf.current,Z(Lf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),jf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Pa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;gn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===ke.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}f=f.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){qs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return iy(qs,t)}function nc(t,i){return qs===null&&Fs(t),iy(t,i)}function iy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var SA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},RA=r.unstable_scheduleCallback,CA=r.unstable_NormalPriority,wt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new SA,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&RA(CA,function(){t.controller.abort()})}var sl=null,qf=0,ka=0,La=null;function IA(t,i){if(sl===null){var a=sl=[];qf=0,ka=Gd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(ry,ry),i}function ry(){if(--qf===0&&sl!==null){La!==null&&(La.status="fulfilled");var t=sl;sl=null,ka=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function NA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var sy=Q.S;Q.S=function(t,i){q_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&IA(t,i),sy!==null&&sy(t,i)};var Hs=M(null);function Ff(){var t=Hs.current;return t!==null?t:Ze.pooledCache}function ic(t,i){i===null?ae(Hs,Hs.current):ae(Hs,i.pool)}function ay(){var t=Ff();return t===null?null:{parent:wt._currentValue,pool:t}}var ja=Error(s(460)),Hf=Error(s(474)),rc=Error(s(542)),sc={then:function(){}};function oy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ly(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,cy(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,cy(t),t}throw $s=i,ja}}function Gs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,ja):a}}var $s=null;function uy(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function cy(t){if(t===ja||t===rc)throw Error(s(483))}var za=null,al=0;function ac(t){var i=al;return al+=1,za===null&&(za=[]),ly(za,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function oc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hy(t){function i(P,D){if(t){var z=P.deletions;z===null?(P.deletions=[D],P.flags|=16):z.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function f(P,D){return P=$i(P,D),P.index=0,P.sibling=null,P}function d(P,D,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<D?(P.flags|=67108866,D):z):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,D,z,X){return D===null||D.tag!==6?(D=Of(z,P.mode,X),D.return=P,D):(D=f(D,z),D.return=P,D)}function N(P,D,z,X){var fe=z.type;return fe===F?K(P,D,z.props.children,X,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Gs(fe)===D.type)?(D=f(D,z.props),ol(D,z),D.return=P,D):(D=Zu(z.type,z.key,z.props,null,P.mode,X),ol(D,z),D.return=P,D)}function B(P,D,z,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Mf(z,P.mode,X),D.return=P,D):(D=f(D,z.children||[]),D.return=P,D)}function K(P,D,z,X,fe){return D===null||D.tag!==7?(D=zs(z,P.mode,X,fe),D.return=P,D):(D=f(D,z),D.return=P,D)}function W(P,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Of(""+D,P.mode,z),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return z=Zu(D.type,D.key,D.props,null,P.mode,z),ol(z,D),z.return=P,z;case G:return D=Mf(D,P.mode,z),D.return=P,D;case R:return D=Gs(D),W(P,D,z)}if(xt(D)||k(D))return D=zs(D,P.mode,z,null),D.return=P,D;if(typeof D.then=="function")return W(P,ac(D),z);if(D.$$typeof===ie)return W(P,nc(P,D),z);oc(P,D)}return null}function H(P,D,z,X){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:b(P,D,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===fe?N(P,D,z,X):null;case G:return z.key===fe?B(P,D,z,X):null;case R:return z=Gs(z),H(P,D,z,X)}if(xt(z)||k(z))return fe!==null?null:K(P,D,z,X,null);if(typeof z.then=="function")return H(P,D,ac(z),X);if(z.$$typeof===ie)return H(P,D,nc(P,z),X);oc(P,z)}return null}function Y(P,D,z,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,b(D,P,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return P=P.get(X.key===null?z:X.key)||null,N(D,P,X,fe);case G:return P=P.get(X.key===null?z:X.key)||null,B(D,P,X,fe);case R:return X=Gs(X),Y(P,D,z,X,fe)}if(xt(X)||k(X))return P=P.get(z)||null,K(D,P,X,fe,null);if(typeof X.then=="function")return Y(P,D,z,ac(X),fe);if(X.$$typeof===ie)return Y(P,D,z,nc(D,X),fe);oc(D,X)}return null}function ce(P,D,z,X){for(var fe=null,ze=null,he=D,Ie=D=0,Oe=null;he!==null&&Ie<z.length;Ie++){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Be=H(P,he,z[Ie],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(P,he),D=d(Be,D,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ie===z.length)return a(P,he),Pe&&Yi(P,Ie),fe;if(he===null){for(;Ie<z.length;Ie++)he=W(P,z[Ie],X),he!==null&&(D=d(he,D,Ie),ze===null?fe=he:ze.sibling=he,ze=he);return Pe&&Yi(P,Ie),fe}for(he=l(he);Ie<z.length;Ie++)Oe=Y(he,P,Ie,z[Ie],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ie:Oe.key),D=d(Oe,D,Ie),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Wr){return i(P,Wr)}),Pe&&Yi(P,Ie),fe}function ge(P,D,z,X){if(z==null)throw Error(s(151));for(var fe=null,ze=null,he=D,Ie=D=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ie++,Be=z.next()){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Wr=H(P,he,Be.value,X);if(Wr===null){he===null&&(he=Oe);break}t&&he&&Wr.alternate===null&&i(P,he),D=d(Wr,D,Ie),ze===null?fe=Wr:ze.sibling=Wr,ze=Wr,he=Oe}if(Be.done)return a(P,he),Pe&&Yi(P,Ie),fe;if(he===null){for(;!Be.done;Ie++,Be=z.next())Be=W(P,Be.value,X),Be!==null&&(D=d(Be,D,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Pe&&Yi(P,Ie),fe}for(he=l(he);!Be.done;Ie++,Be=z.next())Be=Y(he,P,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ie:Be.key),D=d(Be,D,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(zS){return i(P,zS)}),Pe&&Yi(P,Ie),fe}function We(P,D,z,X){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:e:{for(var fe=z.key;D!==null;){if(D.key===fe){if(fe=z.type,fe===F){if(D.tag===7){a(P,D.sibling),X=f(D,z.props.children),X.return=P,P=X;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Gs(fe)===D.type){a(P,D.sibling),X=f(D,z.props),ol(X,z),X.return=P,P=X;break e}a(P,D);break}else i(P,D);D=D.sibling}z.type===F?(X=zs(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=Zu(z.type,z.key,z.props,null,P.mode,X),ol(X,z),X.return=P,P=X)}return _(P);case G:e:{for(fe=z.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(P,D.sibling),X=f(D,z.children||[]),X.return=P,P=X;break e}else{a(P,D);break}else i(P,D);D=D.sibling}X=Mf(z,P.mode,X),X.return=P,P=X}return _(P);case R:return z=Gs(z),We(P,D,z,X)}if(xt(z))return ce(P,D,z,X);if(k(z)){if(fe=k(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ge(P,D,z,X)}if(typeof z.then=="function")return We(P,D,ac(z),X);if(z.$$typeof===ie)return We(P,D,nc(P,z),X);oc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(P,D.sibling),X=f(D,z),X.return=P,P=X):(a(P,D),X=Of(z,P.mode,X),X.return=P,P=X),_(P)):a(P,D)}return function(P,D,z,X){try{al=0;var fe=We(P,D,z,X);return za=null,fe}catch(he){if(he===ja||he===rc)throw he;var ze=yn(29,he,null,P.mode);return ze.lanes=X,ze.return=P,ze}}}var Ys=hy(!0),fy=hy(!1),Ur=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Wu(t),Qg(t,null,a),i}return Ju(t,l,i,a),Wu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Kf=!1;function ul(){if(Kf){var t=La;if(t!==null)throw t}}function cl(t,i,a,l){Kf=!1;var f=t.updateQueue;Ur=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==_&&(b===null?K.firstBaseUpdate=B:b.next=B,K.lastBaseUpdate=N))}if(d!==null){var W=f.baseState;_=0,K=B=N=null,b=d;do{var H=b.lane&-536870913,Y=H!==b.lane;if(Y?(De&H)===H:(l&H)===H){H!==0&&H===ka&&(Kf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,ge=b;H=i;var We=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(We,W,H);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,H=typeof ce=="function"?ce.call(We,W,H):ce,H==null)break e;W=T({},W,H);break e;case 2:Ur=!0}}H=b.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(B=K=Y,N=W):K=K.next=Y,_|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);K===null&&(N=W),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=W}}function dy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function my(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dy(a[t],i)}var Ba=M(null),lc=M(0);function py(t,i){t=rr,ae(lc,t),ae(Ba,i),rr=t|i.baseLanes}function Qf(){ae(lc,rr),ae(Ba,Ba.current)}function Xf(){rr=lc.current,Z(Ba),Z(lc)}var _n=M(null),kn=null;function Lr(t){var i=t.alternate;ae(mt,mt.current&1),ae(_n,t),kn===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(kn=t)}function Jf(t){ae(mt,mt.current),ae(_n,t),kn===null&&(kn=t)}function gy(t){t.tag===22?(ae(mt,mt.current),ae(_n,t),kn===null&&(kn=t)):jr()}function jr(){ae(mt,mt.current),ae(_n,_n.current)}function vn(t){Z(_n),kn===t&&(kn=null),Z(mt)}var mt=M(0);function uc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,Xe=null,At=null,cc=!1,qa=!1,Ks=!1,hc=0,hl=0,Fa=null,xA=0;function ct(){throw Error(s(321))}function Wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Zf(t,i,a,l,f,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Zy:md,Ks=!1,d=a(l,f),Ks=!1,qa&&(d=_y(i,a,l,f)),yy(t),d}function yy(t){Q.H=ml;var i=Xe!==null&&Xe.next!==null;if(Xi=0,At=Xe=Re=null,cc=!1,hl=0,Fa=null,i)throw Error(s(300));t===null||St||(t=t.dependencies,t!==null&&tc(t)&&(St=!0))}function _y(t,i,a,l){Re=t;var f=0;do{if(qa&&(Fa=null),hl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,At=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=e_,d=i(a,l)}while(qa);return d}function DA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function ed(){var t=hc!==0;return hc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}cc=!1}Xi=0,At=Xe=Re=null,qa=!1,hl=hc=0,Fa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Fa===null&&(Fa=[]),t=ly(Fa,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Zy:md),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ie)return Ft(t)}throw Error(s(438,String(t)))}function id(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function mc(t){var i=pt();return rd(i,Xe,t)}function rd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,N=null,B=i,K=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(De&W)===W:(Xi&W)===W){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===ka&&(K=!0);else if((Xi&H)===H){B=B.next,H===ka&&(K=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=W,_=d):N=N.next=W,Re.lanes|=H,qr|=H;W=B.action,Ks&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else H={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=H,_=d):N=N.next=H,Re.lanes|=W,qr|=W;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=b,!gn(d,t.memoizedState)&&(St=!0,K&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);gn(d,i.memoizedState)||(St=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function vy(t,i,a){var l=Re,f=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,St=!0),f=f.queue,ld(by.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Ty.bind(null,l,f,a,i),null),Ze===null)throw Error(s(349));d||(Xi&127)!==0||Ey(l,i,a)}return a}function Ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=fc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ty(t,i,a,l){i.value=a,i.getSnapshot=l,wy(i)&&Ay(t)}function by(t,i,a){return a(function(){wy(i)&&Ay(t)})}function wy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Ay(t){var i=js(t,2);i!==null&&cn(i,t,2)}function ad(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Ks){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function Sy(t,i,a,l){return t.baseState=a,rd(t,Xe,typeof l=="function"?l:Ji)}function OA(t,i,a,l,f){if(yc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ry(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var b=a(f,l),N=Q.S;N!==null&&N(_,b),Cy(t,i,b)}catch(B){od(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),Cy(t,i,d)}catch(B){od(t,i,B)}}function Cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Iy(t,i,l)},function(l){return od(t,i,l)}):Iy(t,i,a)}function Iy(t,i,a){i.status="fulfilled",i.value=a,Ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ry(t,a)))}function od(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}t.action=null}function Ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xy(t,i){return i}function Dy(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Pe){if(tt){t:{for(var f=tt,d=Pn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ln(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Ln(f.nextSibling),l=f.data==="F!";break e}}Mr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},a.queue=l,a=Xy.bind(null,Re,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Re,!1,l.queue),l=nn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=OA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Oy(t){var i=pt();return My(i,Xe,t)}function My(t,i,a){if(i=rd(t,i,xy)[0],t=mc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===ja?rc:_}else l=i;i=pt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ha(9,{destroy:void 0},MA.bind(null,f,a),null)),[l,d,t]}function MA(t,i){t.action=i}function Vy(t){var i=pt(),a=Xe;if(a!==null)return My(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=fc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Uy(){return pt().memoizedState}function pc(t,i,a,l){var f=nn();Re.flags|=t,f.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function gc(t,i,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Wf(l,Xe.memoizedState.deps)?f.memoizedState=Ha(i,d,a,l):(Re.flags|=t,f.memoizedState=Ha(1|i,d,a,l))}function Py(t,i){pc(8390656,8,t,i)}function ld(t,i){gc(2048,8,t,i)}function VA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=fc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ky(t){var i=pt().memoizedState;return VA({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ly(t,i){return gc(4,2,t,i)}function jy(t,i){return gc(4,4,t,i)}function zy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function By(t,i,a){a=a!=null?a.concat([t]):null,gc(4,4,zy.bind(null,i,t),a)}function ud(){}function qy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Fy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=t(),Ks){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=H_(),Re.lanes|=t,qr|=t,a)}function Hy(t,i,a,l){return gn(a,i)?a:Ba.current!==null?(t=cd(t,a,l),gn(t,i)||(St=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(De&261930)===0?(St=!0,t.memoizedState=a):(t=H_(),Re.lanes|=t,qr|=t,i)}function Gy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,b={};Q.T=b,dd(t,!1,i,a);try{var N=f(),B=Q.S;if(B!==null&&B(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=NA(N,l);dl(t,i,K,bn(t))}else dl(t,i,l,bn(t))}catch(W){dl(t,i,{then:function(){},status:"rejected",reason:W},bn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function UA(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=$y(t).queue;Gy(t,f,i,pe,a===null?UA:function(){return Yy(t),a(l)})}function $y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yy(t){var i=$y(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},bn())}function fd(){return Ft(xl)}function Ky(){return pt().memoizedState}function Qy(){return pt().memoizedState}function PA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Pr(a);var l=kr(i,t,a);l!==null&&(cn(l,i,a),ll(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function kA(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?Jy(i,a):(a=xf(t,i,a,l),a!==null&&(cn(a,t,l),Wy(a,i,l)))}function Xy(t,i,a){var l=bn();dl(t,i,a,l)}function dl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))Jy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,gn(b,_))return Ju(t,i,f,0),Ze===null&&Xu(),!1}catch{}if(a=xf(t,i,f,l),a!==null)return cn(a,t,l),Wy(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&cn(i,t,2)}function yc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Jy(t,i){qa=cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Wy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var ml={readContext:Ft,use:dc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};ml.useEffectEvent=ct;var Zy={readContext:Ft,use:dc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Py,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pc(4194308,4,zy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pc(4194308,4,t,i)},useInsertionEffect:function(t,i){pc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Ks){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var f=a(i);if(Ks){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=kA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,a=Xy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=nn();return cd(a,t,i)},useTransition:function(){var t=ad(!1);return t=Gy.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(De&127)!==0||Ey(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Py(by.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},Ty.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Ze.identifierPrefix;if(Pe){var a=Ai,l=wi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=xA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:Dy,useActionState:Dy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return nn().memoizedState=PA.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Ft,use:dc,useCallback:qy,useContext:Ft,useEffect:ld,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:jy,useMemo:Fy,useReducer:mc,useRef:Uy,useState:function(){return mc(Ji)},useDebugValue:ud,useDeferredValue:function(t,i){var a=pt();return Hy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=mc(Ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:fd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,i){var a=pt();return Sy(a,Xe,t,i)},useMemoCache:id,useCacheRefresh:Qy};md.useEffectEvent=ky;var e_={readContext:Ft,use:dc,useCallback:qy,useContext:Ft,useEffect:ld,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:jy,useMemo:Fy,useReducer:sd,useRef:Uy,useState:function(){return sd(Ji)},useDebugValue:ud,useDeferredValue:function(t,i){var a=pt();return Xe===null?cd(a,t,i):Hy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=sd(Ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:fd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=pt();return Xe!==null?Sy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Qy};e_.useEffectEvent=ky;function pd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),f=Pr(l);f.payload=i,a!=null&&(f.callback=a),i=kr(t,f,l),i!==null&&(cn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),f=Pr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=kr(t,f,l),i!==null&&(cn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(cn(i,t,a),ll(i,t,a))}};function t_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(f,d):!0}function n_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gd.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function i_(t){Qu(t)}function r_(t){console.error(t)}function s_(t){Qu(t)}function _c(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function a_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(t,i)},a}function o_(t){return t=Pr(t),t.tag=3,t}function l_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){a_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){a_(i,a,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function LA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,f,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?xc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(t,l,f)),!1;case 22:return a.flags|=65536,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(t,l,f)),!1}throw Error(s(435,a.tag))}return qd(t,l,f),xc(),!1}if(Pe)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Pf&&(t=Error(s(422),{cause:l}),il(Mn(t,a)))):(l!==Pf&&(i=Error(s(423),{cause:l}),il(Mn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=yd(t.stateNode,l,f),Yf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),bl===null?bl=[d]:bl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=yd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=o_(f),l_(f,t,a,l),Yf(a,f),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),St=!1;function Ht(t,i,a,l){i.child=t===null?fy(i,null,a,l):Ys(i,t.child,a,l)}function u_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Fs(i),l=Zf(t,i,a,_,d,f),b=ed(),t!==null&&!St?(td(t,i,f),Wi(t,i,f)):(Pe&&b&&Vf(i),i.flags|=1,Ht(t,i,l,f),i.child)}function c_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,h_(t,i,d,l,f)):(t=Zu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Rd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return Wi(t,i,f)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function h_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(St=!1,i.pendingProps=l=d,Rd(t,f))(t.flags&131072)!==0&&(St=!0);else return i.lanes=t.lanes,Wi(t,i,f)}return vd(t,i,a,l,f)}function f_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return d_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,d!==null?d.cachePool:null),d!==null?py(i,d):Qf(),gy(i);else return l=i.lanes=536870912,d_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ic(i,d.cachePool),py(i,d),jr(),i.memoizedState=null):(t!==null&&ic(i,null),Qf(),jr());return Ht(t,i,f,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function d_(t,i,a,l,f){var d=Ff();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ic(i,null),Qf(),gy(i),t!==null&&Pa(t,i,l,!0),i.childLanes=f,null}function vc(t,i){return i=Tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function m_(t,i,a){return Ys(i,t.child,null,a),t=vc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function jA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=vc(i,l),i.lanes=536870912,pl(null,t);if(Jf(i),(t=tt)?(t=Rv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:wi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Mr(i);return i.lanes=536870912,null}return vc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),f)if(i.flags&256)i.flags&=-257,i=m_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(St||Pa(t,i,a,!1),f=(a&t.childLanes)!==0,St||f){if(l=Ze,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),cn(l,t,_),_d;xc(),i=m_(t,i,a)}else t=d.treeContext,tt=Ln(_.nextSibling),qt=i,Pe=!0,Or=null,Pn=!1,t!==null&&ey(i,t),i=vc(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,f){return Fs(i),a=Zf(t,i,a,l,void 0,f),l=ed(),t!==null&&!St?(td(t,i,f),Wi(t,i,f)):(Pe&&l&&Vf(i),i.flags|=1,Ht(t,i,a,f),i.child)}function p_(t,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=_y(i,l,a,f),yy(t),l=ed(),t!==null&&!St?(td(t,i,d),Wi(t,i,d)):(Pe&&l&&Vf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function g_(t,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gd.enqueueReplaceState(d,d.state,null),cl(i,l,d,f),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Qs(a,b);d.props=N;var B=d.context,K=a.contextType;_=Oa,typeof K=="object"&&K!==null&&(_=Ft(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==_)&&n_(i,d,l,_),Ur=!1;var H=i.memoizedState;d.state=H,cl(i,l,d,f),ul(),B=i.memoizedState,b||H!==B||Ur?(typeof W=="function"&&(pd(i,a,W,l),B=i.memoizedState),(N=Ur||t_(i,a,N,l,H,B,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),_=i.memoizedProps,K=Qs(a,_),d.props=K,W=i.pendingProps,H=d.context,B=a.contextType,N=Oa,typeof B=="object"&&B!==null&&(N=Ft(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==N)&&n_(i,d,l,N),Ur=!1,H=i.memoizedState,d.state=H,cl(i,l,d,f),ul();var Y=i.memoizedState;_!==W||H!==Y||Ur||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof b=="function"&&(pd(i,a,b,l),Y=i.memoizedState),(K=Ur||t_(i,a,K,l,H,Y,N)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,f),i.child=Ys(i,null,a,f)):Ht(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Wi(t,i,f),t}function y_(t,i,a,l){return Bs(),i.flags|=256,Ht(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:ay()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function __(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Lr(i):jr(),(t=tt)?(t=Rv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:wi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Mr(i);return rm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(jr(),f=i.mode,b=Tc({mode:"hidden",children:b},f),l=zs(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,pl(null,l)):(Lr(i),wd(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=Ad(t,i,a)):i.memoizedState!==null?(jr(),i.child=t.child,i.flags|=128,i=null):(jr(),b=l.fallback,f=i.mode,l=Tc({mode:"visible",children:l.children},f),b=zs(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,i=pl(null,l));else if(Lr(i),rm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=Ad(t,i,a)}else if(St||Pa(t,i,a,!1),_=(a&t.childLanes)!==0,St||_){if(_=Ze,_!==null&&(l=Po(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),cn(_,t,l),_d;im(b)||xc(),i=Ad(t,i,a)}else im(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Ln(b.nextSibling),qt=i,Pe=!0,Or=null,Pn=!1,t!==null&&ey(i,t),i=wd(i,l.children),i.flags|=4096);return i}return f?(jr(),b=l.fallback,f=i.mode,N=t.child,B=N.sibling,l=$i(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?b=$i(B,b):(b=zs(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,pl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Td(a):(f=b.cachePool,f!==null?(N=wt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=ay(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=bd(t,_,a),i.memoizedState=Ed,pl(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function wd(t,i){return i=Tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Tc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Ad(t,i,a){return Ys(i,t.child,null,a),t=wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function Sd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function E_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ht(t,i,l,a),l=Pe?nl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,a,i);else if(t.tag===19)v_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Sd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&uc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Sd(i,!0,a,null,d,l);break;case"together":Sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function zA(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Vr(i,wt,t.memoizedState.cache),Bs();break;case 27:case 5:Ts(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?__(t,i,a):(Lr(i),t=Wi(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return E_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,f_(t,i,a,i.pendingProps);case 24:Vr(i,wt,t.memoizedState.cache)}return Wi(t,i,a)}function T_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)St=!0;else{if(!Rd(t,a)&&(i.flags&128)===0)return St=!1,zA(t,i,a);St=(t.flags&131072)!==0}else St=!1,Pe&&(i.flags&1048576)!==0&&Zg(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gs(i.elementType),i.type=t,typeof t=="function")Df(t)?(l=Qs(t,l),i.tag=1,i=g_(null,i,t,l,a)):(i.tag=0,i=vd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===me){i.tag=11,i=u_(null,i,t,l,a);break e}else if(f===x){i.tag=14,i=c_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Qs(l,i.pendingProps),g_(t,i,l,f,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,$f(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Vr(i,wt,l),l!==d.cache&&zf(i,[wt],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=y_(t,i,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),i),il(f),i=y_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Ln(t.firstChild),qt=i,Pe=!0,Or=null,Pn=!0,a=fy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bs(),l===f){i=Wi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return Ec(t,i),t===null?(a=Ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=kc(Ce.current).createElement(a),l[Et]=i,l[Pt]=t,Gt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=Ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ts(i),t===null&&Pe&&(l=i.stateNode=Nv(i.type,i.pendingProps,Ce.current),qt=i,Pn=!0,f=tt,Yr(i.type)?(sm=f,tt=Ln(l.firstChild)):tt=f),Ht(t,i,i.pendingProps.children,a),Ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=tt)&&(l=gS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,qt=i,tt=Ln(l.firstChild),Pn=!1,f=!0):f=!1),f||Mr(i)),Ts(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,em(f,d)?l=null:_!==null&&em(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(t,i,DA,null,null,a),xl._currentValue=f),Ec(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=yS(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Mr(i)),null;case 13:return __(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return u_(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=Ft(f),l=l(f),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return c_(t,i,i.type,i.pendingProps,a);case 15:return h_(t,i,i.type,i.pendingProps,a);case 19:return E_(t,i,a);case 31:return jA(t,i,a);case 22:return f_(t,i,a,i.pendingProps);case 24:return Fs(i),l=Ft(wt),t===null?(f=Ff(),f===null&&(f=Ze,d=Bf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Gf(i),Vr(i,wt,f)):((t.lanes&a)!==0&&($f(t,i),cl(i,null,null,a),ul()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vr(i,wt,l)):(l=d.cache,Vr(i,wt,l),l!==f.cache&&zf(i,[wt],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function Cd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(K_())t.flags|=8192;else throw $s=sc,Hf}else t.flags&=-16777217}function b_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kv(i))if(K_())t.flags|=8192;else throw $s=sc,Hf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Iu():536870912,t.lanes|=i,Ka|=i)}function gl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function BA(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(wt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(nt(i),b_(i,d)):(nt(i),Cd(i,f,null,l,a))):d?d!==t.memoizedState?(Zi(i),nt(i),b_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),nt(i),Cd(i,f,t,l,a)),null;case 27:if(da(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,Ua(i)?ty(i):(t=Nv(f,l,a),i.stateNode=t,Zi(i))}return nt(i),null;case 5:if(da(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,Ua(i))ty(i);else{var _=kc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Et]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return nt(i),Cd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ua(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_v(t.nodeValue,a)),t||Mr(i,!0)}else t=kc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ua(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Qd(i.stateNode.containerInfo),nt(i),null;case 10:return Qi(i.type),nt(i),null;case 19:if(Z(mt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)gl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=uc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xg(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Pe&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Cc&&(i.flags|=128,f=!0,gl(l,!1),i.lanes=4194304)}else{if(!f)if(t=uc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return nt(i),null}else 2*en()-l.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,f=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,ae(mt,f?a&1|2:a&1),Pe&&Yi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return vn(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(wt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qA(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(mt),null;case 4:return st(),null;case 10:return Qi(i.type),null;case 22:case 23:return vn(i),Xf(),t!==null&&Z(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(wt),null;case 25:return null;default:return null}}function w_(t,i){switch(Uf(i),i.tag){case 3:Qi(wt),st();break;case 26:case 27:case 5:da(i);break;case 4:st();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Z(mt);break;case 10:Qi(i.type);break;case 22:case 23:vn(i),Xf(),t!==null&&Z(Hs);break;case 24:Qi(wt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ke(i,i.return,b)}}function zr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var N=a,B=b;try{B()}catch(K){Ke(f,N,K)}}}l=l.next}while(l!==d)}}catch(K){Ke(i,i.return,K)}}function A_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{my(i,a)}catch(l){Ke(t,t.return,l)}}}function S_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ke(t,i,f)}}function Si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ke(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ke(t,i,f)}else a.current=null}function R_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ke(t,t.return,f)}}function Id(t,i,a){try{var l=t.stateNode;cS(l,t.type,a,i),l[Pt]=i}catch(f){Ke(t,t.return,f)}}function C_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function I_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,l,a),i[Et]=t,i[Pt]=a}catch(d){Ke(t,t.return,d)}}var er=!1,Rt=!1,Dd=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function FA(t,i){if(t=t.containerInfo,Wd=Hc,t=Bg(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,B=0,K=0,W=t,H=null;t:for(;;){for(var Y;W!==a||f!==0&&W.nodeType!==3||(b=_+f),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)H=W,W=Y;for(;;){if(W===t)break t;if(H===a&&++B===f&&(b=_),H===d&&++K===l&&(N=_),(Y=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Y}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:t,selectionRange:a},Hc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Qs(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ke(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function x_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&yl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var f=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&A_(a),l&512&&_l(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{my(t,i)}catch(_){Ke(a,a.return,_)}}break;case 27:i===null&&l&4&&I_(a);case 26:case 5:nr(t,a),i===null&&l&4&&R_(a),l&512&&_l(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&M_(t,a);break;case 13:nr(t,a),l&4&&V_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WA.bind(null,a),_S(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||Rt,f=er;var d=Rt;er=l,(Rt=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=f,Rt=d}break;case 30:break;default:nr(t,a)}}function D_(t){var i=t.alternate;i!==null&&(t.alternate=null,D_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function tr(t,i,a){for(a=a.child;a!==null;)O_(t,i,a),a=a.sibling}function O_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Rt||Si(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Si(a,i);var l=ot,f=an;Yr(a.type)&&(ot=a.stateNode,an=!1),tr(t,i,a),Cl(a.stateNode),ot=l,an=f;break;case 5:Rt||Si(a,i);case 6:if(l=ot,f=an,ot=null,tr(t,i,a),ot=l,an=f,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:ot!==null&&(an?(t=ot,Av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):Av(ot,a.stateNode));break;case 4:l=ot,f=an,ot=a.stateNode.containerInfo,an=!0,tr(t,i,a),ot=l,an=f;break;case 0:case 11:case 14:case 15:zr(2,a,i),Rt||zr(4,a,i),tr(t,i,a);break;case 1:Rt||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,tr(t,i,a),Rt=l;break;default:tr(t,i,a)}}function M_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){Ke(i,i.return,a)}}}function V_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){Ke(i,i.return,a)}}function HA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new N_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new N_),i;default:throw Error(s(435,t.tag))}}function Ac(t,i){var a=HA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=ZA.bind(null,t,l);l.then(f,f)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Yr(b.type)){ot=b.stateNode,an=!1;break e}break;case 5:ot=b.stateNode,an=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(ot===null)throw Error(s(160));O_(d,_,f),ot=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)U_(i,t),i=i.sibling}var Jn=null;function U_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(zr(3,t,t.return),yl(3,t),zr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(Rt||a===null||Si(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(on(i,t),ln(t),l&512&&(Rt||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=Uv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Uv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Pv(f,t.type,t.stateNode);else t.stateNode=Vv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Pv(f,t.type,t.stateNode):Vv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(Rt||a===null||Si(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(Rt||a===null||Si(a,a.return)),t.flags&32){f=t.stateNode;try{sn(f,"")}catch(ce){Ke(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ke(t,t.return,ce)}}break;case 3:if(zc=null,f=Jn,Jn=Lc(i.containerInfo),on(i,t),Jn=f,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(ce){Ke(t,t.return,ce)}Dd&&(Dd=!1,P_(t));break;case 4:l=Jn,Jn=Lc(t.stateNode.containerInfo),on(i,t),ln(t),Jn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=er,K=Rt;if(er=B||f,Rt=K||N,on(i,t),Rt=K,er=B,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||er||Rt||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var W=N.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Ke(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){Ke(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;f?Sv(Y,!0):Sv(N.stateNode,!1)}catch(ce){Ke(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(C_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Nd(t);wc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var b=Nd(t);wc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Nd(t);xd(t,B,N);break;default:throw Error(s(161))}}catch(K){Ke(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function P_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;P_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)x_(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Xs(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&S_(i,i.return,a),Xs(i);break;case 27:Cl(i.stateNode);case 26:case 5:Si(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(f,d,a),yl(4,d);break;case 1:if(ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ke(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)dy(N[f],b)}catch(B){Ke(l,l.return,B)}}a&&_&64&&A_(d),_l(d,d.return);break;case 27:I_(d);case 26:case 5:ir(f,d,a),a&&l===null&&_&4&&R_(d),_l(d,d.return);break;case 12:ir(f,d,a);break;case 31:ir(f,d,a),a&&_&4&&M_(f,d);break;case 13:ir(f,d,a),a&&_&4&&V_(f,d);break;case 22:d.memoizedState===null&&ir(f,d,a),_l(d,d.return);break;case 30:break;default:ir(f,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k_(t,i,a,l),i=i.sibling}function k_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),f&2048&&yl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(f&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ke(i,i.return,N)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):vl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Od(_,i);break;case 24:Wn(t,i,a,l),f&2048&&Md(i.alternate,i);break;default:Wn(t,i,a,l)}}function Ga(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,b,N,f),yl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ga(d,_,b,N,f):vl(d,_):(K._visibility|=2,Ga(d,_,b,N,f)),f&&B&2048&&Od(_.alternate,_);break;case 24:Ga(d,_,b,N,f),f&&B&2048&&Md(_.alternate,_);break;default:Ga(d,_,b,N,f)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&Od(l.alternate,l);break;case 24:vl(a,l),f&2048&&Md(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function $a(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)L_(t,i,a),t=t.sibling}function L_(t,i,a){switch(t.tag){case 26:$a(t,i,a),t.flags&El&&t.memoizedState!==null&&xS(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:$a(t,i,a);break;case 3:case 4:var l=Jn;Jn=Lc(t.stateNode.containerInfo),$a(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,$a(t,i,a),El=l):$a(t,i,a));break;default:$a(t,i,a)}}function j_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,B_(l,t)}j_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)z_(t),t=t.sibling}function z_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&zr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):Tl(t);break;default:Tl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,B_(l,t)}j_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function B_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var f=l.sibling,d=l.return;if(D_(l),l===a){Lt=null;break e}if(f!==null){f.return=d,Lt=f;break e}Lt=d}}}var GA={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},$A=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Ze=null,Ne=null,De=0,Ye=0,En=null,Br=!1,Ya=!1,Vd=!1,rr=0,ht=0,qr=0,Js=0,Ud=0,Tn=0,Ka=0,bl=null,un=null,Pd=!1,Rc=0,q_=0,Cc=1/0,Ic=null,Fr=null,Mt=0,Hr=null,Qa=null,sr=0,kd=0,Ld=null,F_=null,wl=0,jd=null;function bn(){return(Fe&2)!==0&&De!==0?De&-De:Q.T!==null?Gd():Nu()}function H_(){if(Tn===0)if((De&536870912)===0||Pe){var t=As;As<<=1,(As&3932160)===0&&(As=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function cn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Gr(t,De,Tn,!1)),Ss(t,a),((Fe&2)===0||t!==Ze)&&(t===Ze&&((Fe&2)===0&&(Js|=a),ht===4&&Gr(t,De,Tn,!1)),Ri(t))}function G_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),f=l?QA(t,i):Bd(t,i,!0),d=l;do{if(f===0){Ya&&!l&&Gr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!YA(a)){f=Bd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=bl;var N=b.current.memoizedState.isDehydrated;if(N&&(Xa(b,_).flags|=256),_=Bd(b,_,!1),_!==2){if(Vd&&!N){b.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Xa(t,0),Gr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,Tn,!Br);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Rc+300-en(),10<f)){if(Gr(l,i,Tn,!Br),li(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=bv($_.bind(null,l,a,un,Ic,Pd,i,Tn,Js,Ka,Br,d,"Throttled",-0,0),f);break e}$_(l,a,un,Ic,Pd,i,Tn,Js,Ka,Br,d,null,-0,0)}}break}while(!0);Ri(t)}function $_(t,i,a,l,f,d,_,b,N,B,K,W,H,Y){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},L_(i,d,W);var ce=(d&62914560)===d?Rc-en():(d&4194048)===d?q_-en():0;if(ce=DS(W,ce),ce!==null){sr=d,t.cancelPendingCommit=ce(ev.bind(null,t,i,d,a,l,f,_,b,N,K,W,null,H,Y)),Gr(t,d,_,!B);return}}ev(t,i,d,a,l,f,_,b,N)}function YA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,a,l){i&=~Ud,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-ft(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Rs(t,a,i)}function Nc(){return(Fe&6)===0?(Al(0),!1):!0}function zd(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Ki=qs=null,nd(t),za=null,al=0,t=Ne;for(;t!==null;)w_(t.alternate,t),t=t.return;Ne=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,zd(),Ze=t,Ne=a=$i(t.current,null),De=i,Ye=0,En=null,Br=!1,Ya=qn(t,i),Vd=!1,Ka=Tn=Ud=Js=qr=ht=0,un=bl=null,Pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-ft(l),d=1<<f;i|=t[f],l&=~d}return rr=i,Xu(),a}function Y_(t,i){Re=null,Q.H=ml,i===ja||i===rc?(i=uy(),Ye=3):i===Hf?(i=uy(),Ye=4):Ye=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ne===null&&(ht=1,_c(t,Mn(i,t.current)))}function K_(){var t=_n.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function Q_(){var t=Q.H;return Q.H=ml,t===null?ml:t}function X_(){var t=Q.A;return Q.A=GA,t}function xc(){ht=4,Br||(De&4194048)!==De&&_n.current!==null||(Ya=!0),(qr&134217727)===0&&(Js&134217727)===0||Ze===null||Gr(Ze,De,Tn,!1)}function Bd(t,i,a){var l=Fe;Fe|=2;var f=Q_(),d=X_();(Ze!==t||De!==i)&&(Ic=null,Xa(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&Ne!==null){var b=Ne,N=En;switch(Ye){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var B=Ye;if(Ye=0,En=null,Ja(t,b,N,B),a&&Ya){_=0;break e}break;default:B=Ye,Ye=0,En=null,Ja(t,b,N,B)}}KA(),_=ht;break}catch(K){Y_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Ki=qs=null,Fe=l,Q.H=f,Q.A=d,Ne===null&&(Ze=null,De=0,Xu()),_}function KA(){for(;Ne!==null;)J_(Ne)}function QA(t,i){var a=Fe;Fe|=2;var l=Q_(),f=X_();Ze!==t||De!==i?(Ic=null,Cc=en()+500,Xa(t,i)):Ya=qn(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Ja(t,i,d,1);break;case 2:case 9:if(oy(d)){Ye=0,En=null,W_(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),Ri(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:oy(d)?(Ye=0,En=null,W_(i)):(Ye=0,En=null,Ja(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?kv(_):b.stateNode.complete){Ye=0,En=null;var N=b.sibling;if(N!==null)Ne=N;else{var B=b.return;B!==null?(Ne=B,Dc(B)):Ne=null}break t}}Ye=0,En=null,Ja(t,i,d,5);break;case 6:Ye=0,En=null,Ja(t,i,d,6);break;case 8:zd(),ht=6;break e;default:throw Error(s(462))}}XA();break}catch(K){Y_(t,K)}while(!0);return Ki=qs=null,Q.H=l,Q.A=f,Fe=a,Ne!==null?0:(Ze=null,De=0,Xu(),ht)}function XA(){for(;Ne!==null&&!yf();)J_(Ne)}function J_(t){var i=T_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Dc(t):Ne=i}function W_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=p_(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=p_(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:nd(i);default:w_(a,i),i=Ne=Xg(i,rr),i=T_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?Dc(t):Ne=i}function Ja(t,i,a,l){Ki=qs=null,nd(i),za=null,al=0;var f=i.return;try{if(LA(t,f,i,a,De)){ht=1,_c(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ht=1,_c(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Ya||(De&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(i,t)):Dc(i)}function Dc(t){var i=t;do{if((i.flags&32768)!==0){Z_(i,Br);return}t=i.return;var a=BA(i.alternate,i,rr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function Z_(t,i){do{var a=qA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function ev(t,i,a,l,f,d,_,b,N){t.cancelPendingCommit=null;do Oc();while(Mt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Nf,Ef(t,a,d,_,b,N),t===Ze&&(Ne=Ze=null,De=0),Qa=i,Hr=t,sr=a,kd=d,Ld=f,F_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eS(Tr,function(){return sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=se.p,se.p=2,_=Fe,Fe|=4;try{FA(t,i,a)}finally{Fe=_,se.p=f,Q.T=l}}Mt=1,tv(),nv(),iv()}}function tv(){if(Mt===1){Mt=0;var t=Hr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=Fe;Fe|=4;try{U_(i,t);var d=Zd,_=Bg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&zg(b.ownerDocument.documentElement,b)){if(N!==null&&Af(b)){var B=N.start,K=N.end;if(K===void 0&&(K=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(K,b.value.length);else{var W=b.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ce=b.textContent.length,ge=Math.min(N.start,ce),We=N.end===void 0?ge:Math.min(N.end,ce);!Y.extend&&ge>We&&(_=We,We=ge,ge=_);var P=jg(b,ge),D=jg(b,We);if(P&&D&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==D.node||Y.focusOffset!==D.offset)){var z=W.createRange();z.setStart(P.node,P.offset),Y.removeAllRanges(),ge>We?(Y.addRange(z),Y.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),Y.addRange(z))}}}}for(W=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var X=W[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Hc=!!Wd,Zd=Wd=null}finally{Fe=f,se.p=l,Q.T=a}}t.current=i,Mt=2}}function nv(){if(Mt===2){Mt=0;var t=Hr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=Fe;Fe|=4;try{x_(t,i.alternate,i)}finally{Fe=f,se.p=l,Q.T=a}}Mt=3}}function iv(){if(Mt===4||Mt===3){Mt=0,bu();var t=Hr,i=Qa,a=sr,l=F_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Qa=Hr=null,rv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fr=null),qi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Q.T=i,se.p=f}}(sr&3)!==0&&Oc(),Ri(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===jd?wl++:(wl=0,jd=t):wl=0,Al(0)}}function rv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Oc(){return tv(),nv(),iv(),sv()}function sv(){if(Mt!==5)return!1;var t=Hr,i=kd;kd=0;var a=qi(sr),l=Q.T,f=se.p;try{se.p=32>a?32:a,Q.T=null,a=Ld,Ld=null;var d=Hr,_=sr;if(Mt=0,Qa=Hr=null,sr=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,z_(d.current),k_(d,d.current,_,a),Fe=b,Al(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=f,Q.T=l,rv(t,i)}}function av(t,i,a){i=Mn(a,i),i=yd(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(Ss(t,2),Ri(t))}function Ke(t,i,a){if(t.tag===3)av(t,t,a);else for(;i!==null;){if(i.tag===3){av(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Mn(a,t),a=o_(2),l=kr(i,a,2),l!==null&&(l_(a,l,i,t),Ss(l,2),Ri(l));break}}i=i.return}}function qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $A;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Vd=!0,f.add(a),t=JA.bind(null,t,i,a),i.then(t,t))}function JA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-Rc?(Fe&2)===0&&Xa(t,0):Ud|=a,Ka===De&&(Ka=0)),Ri(t)}function ov(t,i){i===0&&(i=Iu()),t=js(t,i),t!==null&&(Ss(t,i),Ri(t))}function WA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ov(t,a)}function ZA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ov(t,a)}function eS(t,i){return Ot(t,i)}var Mc=null,Wa=null,Fd=!1,Vc=!1,Hd=!1,$r=0;function Ri(t){t!==Wa&&t.next===null&&(Wa===null?Mc=Wa=t:Wa=Wa.next=t),Vc=!0,Fd||(Fd=!0,nS())}function Al(t,i){if(!Hd&&Vc){Hd=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,hv(l,d))}else d=De,d=li(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,hv(l,d));l=l.next}while(a);Hd=!1}}function tS(){lv()}function lv(){Vc=Fd=!1;var t=0;$r!==0&&fS()&&(t=$r);for(var i=en(),a=null,l=Mc;l!==null;){var f=l.next,d=uv(l,i);d===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Vc=!0)),l=f}Mt!==0&&Mt!==5||Al(t),$r!==0&&($r=0)}function uv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&l)!==0)&&(f[_]=vf(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=Ze,a=De,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Er(l),qi(a)){case 2:case 8:a=Vo;break;case 32:a=Tr;break;case 268435456:a=wu;break;default:a=Tr}return l=cv.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function cv(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=De;return l=li(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(G_(t,l,i),uv(t,en()),t.callbackNode!=null&&t.callbackNode===a?cv.bind(null,t):null)}function hv(t,i){if(Oc())return null;G_(t,i,!0)}function nS(){mS(function(){(Fe&6)!==0?Ot(Mo,tS):lv()})}function Gd(){if($r===0){var t=ka;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),$r=t}return $r}function fv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function dv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function iS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=fv((f[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?fv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new vi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var N=_?dv(f,_):new FormData(f);hd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?dv(f,_):new FormData(f),hd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var $d=0;$d<If.length;$d++){var Yd=If[$d],rS=Yd.toLowerCase(),sS=Yd[0].toUpperCase()+Yd.slice(1);Xn(rS,"on"+sS)}Xn(Hg,"onAnimationEnd"),Xn(Gg,"onAnimationIteration"),Xn($g,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(TA,"onTransitionRun"),Xn(bA,"onTransitionStart"),Xn(wA,"onTransitionCancel"),Xn(Yg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function mv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,B=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(K){Qu(K)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,B=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(K){Qu(K)}f.currentTarget=null,d=N}}}}function xe(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(pv(i,t,2,!1),a.add(l))}function Kd(t,i,a){var l=0;i&&(l|=4),pv(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Uc]){t[Uc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(aS.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Kd("selectionchange",!1,i))}}function pv(t,i,a,l){switch(Hv(i)){case 2:var f=VS;break;case 8:f=US;break;default:f=cm}a=f.bind(null,i,a,t),f=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=fi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Cr(function(){var B=d,K=Nn(a),W=[];e:{var H=Kg.get(t);if(H!==void 0){var Y=vi,ce=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":Y=$u;break;case"focusin":ce="focus",Y=Us;break;case"focusout":ce="blur",Y=Us;break;case"beforeblur":case"afterblur":Y=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Hg:case Gg:case $g:Y=ju;break;case Yg:Y=w;break;case"scroll":case"scrollend":Y=Qo;break;case"wheel":Y=$;break;case"copy":case"cut":case"paste":Y=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Gi;break;case"toggle":case"beforetoggle":Y=Se}var ge=(i&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),P=ge?H!==null?H+"Capture":null:H;ge=[];for(var D=B,z;D!==null;){var X=D;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=$n(D,P),X!=null&&ge.push(Rl(D,X,z))),We)break;D=D.return}0<ge.length&&(H=new Y(H,ce,null,a,K),W.push({event:H,listeners:ge}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==$o&&(ce=a.relatedTarget||a.fromElement)&&(fi(ce)||ce[ci]))break e;if((Y||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=B,ce=ce?fi(ce):null,ce!==null&&(We=u(ce),ge=ce.tag,ce!==We||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Y=null,ce=B),Y!==ce)){if(ge=Xo,X="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Gi,X="onPointerLeave",P="onPointerEnter",D="pointer"),We=Y==null?H:mn(Y),z=ce==null?H:mn(ce),H=new ge(X,D+"leave",Y,a,K),H.target=We,H.relatedTarget=z,X=null,fi(K)===B&&(ge=new ge(P,D+"enter",ce,a,K),ge.target=z,ge.relatedTarget=We,X=ge),We=X,Y&&ce)t:{for(ge=oS,P=Y,D=ce,z=0,X=P;X;X=ge(X))z++;X=0;for(var fe=D;fe;fe=ge(fe))X++;for(;0<z-X;)P=ge(P),z--;for(;0<X-z;)D=ge(D),X--;for(;z--;){if(P===D||D!==null&&P===D.alternate){ge=P;break t}P=ge(P),D=ge(D)}ge=null}else ge=null;Y!==null&&gv(W,H,Y,ge,!1),ce!==null&&We!==null&&gv(W,We,ce,ge,!0)}}e:{if(H=B?mn(B):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var ze=Mg;else if(Dg(H))if(Vg)ze=_A;else{ze=gA;var he=pA}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Ta(B.elementType)&&(ze=Mg):ze=yA;if(ze&&(ze=ze(t,B))){Og(W,ze,a,K);break e}he&&he(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Fo(H,"number",H.value)}switch(he=B?mn(B):window,t){case"focusin":(Dg(he)||he.contentEditable==="true")&&(Na=he,Sf=B,tl=null);break;case"focusout":tl=Sf=Na=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,qg(W,a,K);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":qg(W,a,K)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ia?Ps(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(bi&&a.locale!=="ko"&&(Ia||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ia&&(Ie=Ko()):(_i=K,Yo="value"in _i?_i.value:_i.textContent,Ia=!0)),he=Pc(B,Oe),0<he.length&&(Oe=new Ti(Oe,t,null,a,K),W.push({event:Oe,listeners:he}),Ie?Oe.data=Ie:(Ie=Ca(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Dn?hA(t,a):fA(t,a))&&(Oe=Pc(B,"onBeforeInput"),0<Oe.length&&(he=new Ti("onBeforeInput","beforeinput",null,a,K),W.push({event:he,listeners:Oe}),he.data=Ie)),iS(W,t,B,a,K)}mv(W,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(Rl(t,f,d)),f=$n(t,i),f!=null&&l.push(Rl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function oS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,B=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||B===null||(N=B,f?(B=$n(a,d),B!=null&&_.unshift(Rl(a,B,N))):f||(B=$n(a,d),B!=null&&_.push(Rl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(lS,`
`).replace(uS,"")}function _v(t,i){return i=yv(i),yv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),va(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,va(t,a,l))}}function Jd(t,i,a,l,f,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var b=d=_=f=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":_=K;break;case"checked":N=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(t,i,l,K,a,null)}}Mu(t,d,b,N,B,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?wr(t,!!l,i,!1):a!=null&&wr(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,i,_,b,a,null)}Ar(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)xe(Sl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Ta(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Jd(t,i,K,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,i,b,l,a,null))}function cS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,B=null,K=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(Y)||Je(t,i,Y,null,l,W)}}for(var H in l){var Y=l[H];if(W=a[H],l.hasOwnProperty(H)&&(Y!=null||W!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":B=Y;break;case"defaultChecked":K=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==W&&Je(t,i,H,Y,l,W)}}Ea(t,_,b,N,B,K,d,f);return;case"select":Y=_=b=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,f,d,l,N)}i=b,a=_,l=Y,H!=null?wr(t,!!a,H,!1):!!l!=!!a&&(i!=null?wr(t,!!a,i,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}Vu(t,H,Y);return;case"option":for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,H));for(N in l)H=l[N],Y=a[N],l.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Je(t,i,N,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,H);for(B in l)if(H=l[B],Y=a[B],l.hasOwnProperty(B)&&H!==Y&&(H!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,B,H,l,Y)}return;default:if(Ta(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Jd(t,i,We,void 0,l,H);for(K in l)H=l[K],Y=a[K],!l.hasOwnProperty(K)||H===Y||H===void 0&&Y===void 0||Jd(t,i,K,H,l,Y);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,H);for(W in l)H=l[W],Y=a[W],!l.hasOwnProperty(W)||H===Y||H==null&&Y==null||Je(t,i,W,H,l,Y)}function vv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&vv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>b)break;var K=N.transferSize,W=N.initiatorType;K&&vv(W)&&(N=N.responseEnd,_+=K*(N<b?1:(b-B)/(N-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wd=null,Zd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function Ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function fS(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(pS)}:bv;function pS(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function Av(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[hi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=f}while(a);no(i)}function Sv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function yS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _S(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var sm=null;function Cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Nv(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var jn=new Map,xv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=se.d;se.d={f:vS,r:ES,D:TS,C:bS,L:wS,m:AS,X:RS,S:SS,M:CS};function vS(){var t=ar.f(),i=Nc();return t||i}function ES(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Yy(i):ar.r(t)}var Za=typeof document>"u"?null:document;function Dv(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=rn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),xv.has(f)||(xv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function TS(t){ar.D(t),Dv("dns-prefetch",t,null)}function bS(t,i){ar.C(t,i),Dv("preconnect",t,i)}function wS(t,i,a){ar.L(t,i,a);var l=Za;if(l&&t&&i){var f='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+rn(a.imageSizes)+'"]')):f+='[href="'+rn(t)+'"]';var d=f;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function AS(t,i){ar.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Gt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function SS(t,i,a){ar.S(t,i,a);var l=Za;if(l&&t){var f=di(l).hoistableStyles,d=eo(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Il(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&am(t,a);var N=_=l.createElement("link");Tt(N),Gt(N,"link",t),N._p=new Promise(function(B,K){N.onload=B,N.onerror=K}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function RS(t,i){ar.X(t,i);var a=Za;if(a&&t){var l=di(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(t=T({src:t,async:!0},i),(i=jn.get(f))&&om(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function CS(t,i){ar.M(t,i);var a=Za;if(a&&t){var l=di(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(f))&&om(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ov(t,i,a,l){var f=(f=Ce.current)?Lc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=di(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=di(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||IS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=di(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+rn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Mv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function IS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),Tt(i),t.head.appendChild(i))}function to(t){return'[src="'+rn(t)+'"]'}function Nl(t){return"script[async]"+t}function Vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",f),jc(l,a.precedence,t),i.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Il(f));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=Mv(a),(f=jn.get(f))&&am(l,f),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(f=t.querySelector(Nl(d)))?(i.instance=f,Tt(f),f):(l=a,(f=jn.get(d))&&(l=T({},a),om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Tt(f),Gt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,t));return i.instance}function jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var zc=null;function Uv(t,i,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[hi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Pv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function NS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=i.querySelector(Il(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Bc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=Mv(l),(f=jn.get(f))&&am(l,f),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function DS(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*hS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,i.forEach(OS,t),qc=null,Bc.call(t))}function OS(t,i){if(!(i.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function MS(t,i,a,l,f,d,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Lv(t,i,a,l,f,d,_,b,N,B,K,W){return t=new MS(t,i,a,_,N,B,K,W,b),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function jv(t){return t?(t=Oa,t):Oa}function zv(t,i,a,l,f,d){f=jv(f),l.context===null?l.context=f:l.pendingContext=f,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(cn(a,t,i),ll(a,t,i))}function Bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){Bv(t,i),(t=t.alternate)&&Bv(t,i)}function qv(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&cn(i,t,67108864),um(t,67108864)}}function Fv(t){if(t.tag===13||t.tag===31){var i=bn();i=Cs(i);var a=js(t,i);a!==null&&cn(a,t,i),um(t,i)}}var Hc=!0;function VS(t,i,a,l){var f=Q.T;Q.T=null;var d=se.p;try{se.p=2,cm(t,i,a,l)}finally{se.p=d,Q.T=f}}function US(t,i,a,l){var f=Q.T;Q.T=null;var d=se.p;try{se.p=8,cm(t,i,a,l)}finally{se.p=d,Q.T=f}}function cm(t,i,a,l){if(Hc){var f=hm(l);if(f===null)Xd(t,i,l,Gc,a),Gv(t,l);else if(kS(f,t,i,a,l))l.stopPropagation();else if(Gv(t,l),i&4&&-1<PS.indexOf(t)){for(;f!==null;){var d=In(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-ft(_);b.entanglements[1]|=N,_&=~N}Ri(d),(Fe&6)===0&&(Cc=en()+500,Al(0))}}break;case 31:case 13:b=js(d,2),b!==null&&cn(b,d,2),Nc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,i,l,Gc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function hm(t){return t=Nn(t),fm(t)}var Gc=null;function fm(t){if(Gc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function Hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Mo:return 2;case Vo:return 8;case Tr:case _f:return 32;case wu:return 268435456;default:return 32}default:return 32}}var dm=!1,Kr=null,Qr=null,Xr=null,Dl=new Map,Ol=new Map,Jr=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=In(i),i!==null&&qv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function kS(t,i,a,l,f){switch(i){case"focusin":return Kr=Ml(Kr,t,i,a,l,f),!0;case"dragenter":return Qr=Ml(Qr,t,i,a,l,f),!0;case"mouseover":return Xr=Ml(Xr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,f)),!0}return!1}function $v(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Fv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Fv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=In(a),i!==null&&qv(i),t.blockedOn=a,!1;i.shift()}return!0}function Yv(t,i,a){$c(t)&&a.delete(i)}function LS(){dm=!1,Kr!==null&&$c(Kr)&&(Kr=null),Qr!==null&&$c(Qr)&&(Qr=null),Xr!==null&&$c(Xr)&&(Xr=null),Dl.forEach(Yv),Ol.forEach(Yv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LS)))}var Kc=null;function Kv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function i(N){return Yc(N,t)}Kr!==null&&Yc(Kr,t),Qr!==null&&Yc(Qr,t),Xr!==null&&Yc(Xr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)$v(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||Kv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)b=_.formAction;else if(fm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Kv(a)}}}function Qv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}Qc.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();zv(a,l,t,i,null,null)},Qc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;zv(t.current,2,null,t,null,null),Nc(),i[ci]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&$v(t)}};var Xv=e.version;if(Xv!=="19.2.3")throw Error(s(527,Xv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var jS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Bn=Xc.inject(jS),zt=Xc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=i_,d=r_,_=s_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Lv(t,1,!1,null,null,a,l,null,f,d,_,Qv),t[ci]=i.current,Qd(t),new mm(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=i_,_=r_,b=s_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Lv(t,1,!0,i,a??null,l,f,N,d,_,b,Qv),i.context=jv(null),a=i.current,l=bn(),l=Cs(l),f=Pr(l),f.callback=null,kr(a,f,l),a=l,i.current.lanes=a,Ss(i,a),Ri(i),t[ci]=i.current,Qd(t),new Qc(i)},Ul.version="19.2.3",Ul}var a0;function QS(){if(a0)return ym.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=KS(),ym.exports}var XS=QS();const JS=eT(XS);var o0="popstate";function WS(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Hm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return e1(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Sn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZS(){return Math.random().toString(36).substring(2,10)}function l0(r,e){return{usr:r.state,key:r.key,idx:e}}function Hm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||ZS()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Eo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function e1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=E(),te=L==null?null:L-g;g=L,p&&p({action:m,location:F.location,delta:te})}function S(L,te){m="PUSH";let ne=Hm(F.location,L,te);g=E()+1;let ie=l0(ne,g),me=F.createHref(ne);try{h.pushState(ie,"",me)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(me)}u&&p&&p({action:m,location:F.location,delta:1})}function U(L,te){m="REPLACE";let ne=Hm(F.location,L,te);g=E();let ie=l0(ne,g),me=F.createHref(ne);h.replaceState(ie,"",me),u&&p&&p({action:m,location:F.location,delta:0})}function G(L){return t1(L)}let F={get action(){return m},get location(){return r(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(o0,T),p=L,()=>{o.removeEventListener(o0,T),p=null}},createHref(L){return e(o,L)},createURL:G,encodeLocation(L){let te=G(L);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:S,replace:U,go(L){return h.go(L)}};return F}function t1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function tT(r,e,n="/"){return n1(r,e,n,!1)}function n1(r,e,n,s){let o=typeof e=="string"?Eo(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let h=nT(r);i1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=m1(u);m=f1(h[p],g,s)}return m}function nT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=cr([s,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),nT(h.children,e,S,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:c1(T,h.index),routesMeta:S})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of iT(h.path))u(h,m,!0,p)}),e}function iT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=iT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function i1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:h1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var r1=/^:[\w-]+$/,s1=3,a1=2,o1=1,l1=10,u1=-2,u0=r=>r==="*";function c1(r,e){let n=r.split("/"),s=n.length;return n.some(u0)&&(s+=u1),e&&(s+=a1),n.filter(o=>!u0(o)).reduce((o,u)=>o+(r1.test(u)?s1:u===""?o1:l1),s)}function h1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function f1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:cr([u,T.pathname]),pathnameBase:_1(cr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=cr([u,T.pathnameBase]))}return h}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=d1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let G=m[S]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const U=m[S];return T&&!U?g[E]=void 0:g[E]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function d1(r,e=!1,n=!0){Sn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function m1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=r=>rT.test(r);function g1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r,u;if(n)if(p1(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=c0(n.substring(1),"/"):u=c0(n,e)}else u=e;return{pathname:u,search:v1(s),hash:E1(o)}}function c0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tp(r){let e=y1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function bp(r,e,n,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=g1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),_1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,E1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,T1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function b1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function w1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aT(r,e){let n=r;if(typeof n!="string"||!rT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(sT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=dr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Sn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oT=["POST","PUT","PATCH","DELETE"];new Set(oT);var A1=["GET",...oT];new Set(A1);var To=q.createContext(null);To.displayName="DataRouter";var Hh=q.createContext(null);Hh.displayName="DataRouterState";var S1=q.createContext(!1),lT=q.createContext({isTransitioning:!1});lT.displayName="ViewTransition";var R1=q.createContext(new Map);R1.displayName="Fetchers";var C1=q.createContext(null);C1.displayName="Await";var Rn=q.createContext(null);Rn.displayName="Navigation";var lu=q.createContext(null);lu.displayName="Location";var ri=q.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var wp=q.createContext(null);wp.displayName="RouteError";var uT="REACT_ROUTER_ERROR",I1="REDIRECT",N1="ROUTE_ERROR_RESPONSE";function x1(r){if(r.startsWith(`${uT}:${I1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function D1(r){if(r.startsWith(`${uT}:${N1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new T1(e.status,e.statusText,e.data)}catch{}}function O1(r,{relative:e}={}){lt(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Rn),{hash:o,pathname:u,search:h}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function bo(){return q.useContext(lu)!=null}function _r(){return lt(bo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(lu).location}var cT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(r){q.useContext(Rn).static||q.useLayoutEffect(r)}function Gh(){let{isDataRoute:r}=q.useContext(ri);return r?Y1():M1()}function M1(){lt(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(To),{basename:e,navigator:n}=q.useContext(Rn),{matches:s}=q.useContext(ri),{pathname:o}=_r(),u=JSON.stringify(Tp(s)),h=q.useRef(!1);return hT(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(Sn(h.current,cT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=bp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var V1=q.createContext(null);function U1(r){let e=q.useContext(ri).outlet;return q.useMemo(()=>e&&q.createElement(V1.Provider,{value:r},e),[e,r])}function uu(r,{relative:e}={}){let{matches:n}=q.useContext(ri),{pathname:s}=_r(),o=JSON.stringify(Tp(n));return q.useMemo(()=>bp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function P1(r,e){return fT(r,e)}function fT(r,e,n,s,o){lt(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Rn),{matches:h}=q.useContext(ri),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";mT(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=_r(),U;if(e){let ne=typeof e=="string"?Eo(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),U=ne}else U=S;let G=U.pathname||"/",F=G;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");F="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let L=tT(r,{pathname:F});Sn(T||L!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Sn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=B1(L&&L.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&te?q.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},te):te}function k1(){let r=$1(),e=b1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var L1=q.createElement(k1,null),dT=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=D1(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(ri.Provider,{value:this.props.routeContext},q.createElement(wp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(j1,{error:r},e):e}};dT.contextType=S1;var bm=new WeakMap;function j1({children:r,error:e}){let{basename:n}=q.useContext(Rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=x1(e.digest);if(s){let o=bm.get(e);if(o)throw o;let u=aT(s.location,n);if(sT&&!bm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw bm.set(e,h),h}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function z1({routeContext:r,match:e,children:n}){let s=q.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ri.Provider,{value:r},n)}function B1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:S,errors:U}=n,G=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!U||U[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:w1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let U,G=!1,F=null,L=null;n&&(U=h&&T.route.id?h[T.route.id]:void 0,F=T.route.errorElement||L1,m&&(p<0&&S===0?(mT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,L=null):p===S&&(G=!0,L=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,S+1)),ne=()=>{let ie;return U?ie=F:G?ie=L:T.route.Component?ie=q.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,q.createElement(z1,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?q.createElement(dT,{location:n.location,revalidation:n.revalidation,component:F,error:U,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ne()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q1(r){let e=q.useContext(To);return lt(e,Ap(r)),e}function F1(r){let e=q.useContext(Hh);return lt(e,Ap(r)),e}function H1(r){let e=q.useContext(ri);return lt(e,Ap(r)),e}function Sp(r){let e=H1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function G1(){return Sp("useRouteId")}function $1(){let r=q.useContext(wp),e=F1("useRouteError"),n=Sp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Y1(){let{router:r}=q1("useNavigate"),e=Sp("useNavigate"),n=q.useRef(!1);return hT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Sn(n.current,cT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var h0={};function mT(r,e,n){!e&&!h0[r]&&(h0[r]=!0,Sn(!1,n))}q.memo(K1);function K1({routes:r,future:e,state:n,onError:s}){return fT(r,void 0,n,s,e)}function pT({to:r,replace:e,state:n,relative:s}){lt(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Rn);Sn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(ri),{pathname:h}=_r(),m=Gh(),p=bp(r,Tp(u),h,s==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Q1(r){return U1(r.context)}function Ci(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){lt(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:E="",hash:T="",state:S=null,key:U="default"}=n,G=q.useMemo(()=>{let F=dr(g,m);return F==null?null:{location:{pathname:F,search:E,hash:T,state:S,key:U},navigationType:s}},[m,g,E,T,S,U,s]);return Sn(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:q.createElement(Rn.Provider,{value:p},q.createElement(lu.Provider,{children:e,value:G}))}function J1({children:r,location:e}){return P1(Gm(r),e)}function Gm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Gm(s.props.children,u));return}lt(s.type===Ci,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function $h(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function W1(r){return $h(r)&&r.tagName.toLowerCase()==="button"}function Z1(r){return $h(r)&&r.tagName.toLowerCase()==="form"}function eR(r){return $h(r)&&r.tagName.toLowerCase()==="input"}function tR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nR(r,e){return r.button===0&&(!e||e==="_self")&&!tR(r)}function $m(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function iR(r,e){let n=$m(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Jc=null;function rR(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var sR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(r){return r!=null&&!sR.has(r)?(Sn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function aR(r,e){let n,s,o,u,h;if(Z1(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||ch,o=wm(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if(W1(r)||eR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=wm(r.getAttribute("formenctype"))||wm(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!rR()){let{name:g,type:E,value:T}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if($h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function oR(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&dr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function lR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await lR(u,n);return h.links?h.links():[]}return[]}));return mR(s.flat(1).filter(uR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function hR(r,e,{includeHydrateFallback:n}={}){return fR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fR(r){return[...new Set(r)]}function dR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function mR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(dR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function gT(){let r=q.useContext(To);return Rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pR(){let r=q.useContext(Hh);return Rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cp=q.createContext(void 0);Cp.displayName="FrameworkContext";function yT(){let r=q.useContext(Cp);return Rp(r,"You must render this element inside a <HydratedRouter> element"),r}function gR(r,e){let n=q.useContext(Cp),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,S=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=te=>{te.forEach(ne=>{h(ne.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[r]),q.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let U=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Pl(m,U),onBlur:Pl(p,G),onMouseEnter:Pl(g,U),onMouseLeave:Pl(E,G),onTouchStart:Pl(T,U)}]:[!1,S,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yR({page:r,...e}){let{router:n}=gT(),s=q.useMemo(()=>tT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(vR,{page:r,matches:s,...e}):null}function _R(r){let{manifest:e,routeModules:n}=yT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return cR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function vR({page:r,matches:e,...n}){let s=_r(),{future:o,manifest:u,routeModules:h}=yT(),{basename:m}=gT(),{loaderData:p,matches:g}=pR(),E=q.useMemo(()=>f0(r,e,g,u,s,"data"),[r,e,g,u,s]),T=q.useMemo(()=>f0(r,e,g,u,s,"assets"),[r,e,g,u,s]),S=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,L=!1;if(e.forEach(ne=>{let ie=u.routes[ne.route.id];!ie||!ie.hasLoader||(!E.some(me=>me.route.id===ne.route.id)&&ne.route.id in p&&h[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?L=!0:F.add(ne.route.id))}),F.size===0)return[];let te=oR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&F.size>0&&te.searchParams.set("_routes",e.filter(ne=>F.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,h]),U=q.useMemo(()=>hR(T,u),[T,u]),G=_R(T);return q.createElement(q.Fragment,null,S.map(F=>q.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),U.map(F=>q.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),G.map(({key:F,link:L})=>q.createElement("link",{key:F,nonce:n.nonce,...L})))}function ER(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TR&&(window.__reactRouterVersion="7.12.0")}catch{}function bR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=WS({window:s,v5Compat:!0}));let u=o.current,[h,m]=q.useState({action:u.action,location:u.location}),p=q.useCallback(g=>{n===!1?m(g):q.startTransition(()=>m(g))},[n]);return q.useLayoutEffect(()=>u.listen(p),[u,p]),q.createElement(X1,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vT=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...U},G){let{basename:F,unstable_useTransitions:L}=q.useContext(Rn),te=typeof g=="string"&&_T.test(g),ne=aT(g,F);g=ne.to;let ie=O1(g,{relative:o}),[me,ve,Te]=gR(s,U),x=SR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:L});function R(V){e&&e(V),V.defaultPrevented||x(V)}let C=q.createElement("a",{...U,...Te,href:ne.absoluteURL||ie,onClick:ne.isExternal||u?e:R,ref:ER(G,ve),target:p,"data-discover":!te&&n==="render"?"true":void 0});return me&&!te?q.createElement(q.Fragment,null,C,q.createElement(yR,{page:ie})):C});vT.displayName="Link";var Ip=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=uu(h,{relative:g.relative}),S=_r(),U=q.useContext(Hh),{navigator:G,basename:F}=q.useContext(Rn),L=U!=null&&DR(T)&&m===!0,te=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,ne=S.pathname,ie=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&F&&(ie=dr(ie,F)||ie);const me=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ve=ne===te||!o&&ne.startsWith(te)&&ne.charAt(me)==="/",Te=ie!=null&&(ie===te||!o&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),x={isActive:ve,isPending:Te,isTransitioning:L},R=ve?e:void 0,C;typeof s=="function"?C=s(x):C=[s,ve?"active":null,Te?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return q.createElement(vT,{...g,"aria-current":R,className:C,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(x):p)});Ip.displayName="NavLink";var wR=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...U},G)=>{let{unstable_useTransitions:F}=q.useContext(Rn),L=NR(),te=xR(m,{relative:g}),ne=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&_T.test(m),me=ve=>{if(p&&p(ve),ve.defaultPrevented)return;ve.preventDefault();let Te=ve.nativeEvent.submitter,x=Te?.getAttribute("formmethod")||h,R=()=>L(Te||ve.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});F&&n!==!1?q.startTransition(()=>R()):R()};return q.createElement("form",{ref:G,method:ne,action:te,onSubmit:s?p:me,...U,"data-discover":!ie&&r==="render"?"true":void 0})});wR.displayName="Form";function AR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(r){let e=q.useContext(To);return lt(e,AR(r)),e}function SR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Gh(),E=_r(),T=uu(r,{relative:u});return q.useCallback(S=>{if(nR(S,e)){S.preventDefault();let U=n!==void 0?n:Xl(E)===Xl(T),G=()=>g(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?q.startTransition(()=>G()):G()}},[E,g,T,n,s,e,r,o,u,h,m,p])}function RR(r){Sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef($m(r)),n=q.useRef(!1),s=_r(),o=q.useMemo(()=>iR(s.search,n.current?null:e.current),[s.search]),u=Gh(),h=q.useCallback((m,p)=>{const g=$m(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var CR=0,IR=()=>`__${String(++CR)}__`;function NR(){let{router:r}=ET("useSubmit"),{basename:e}=q.useContext(Rn),n=G1(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=aR(u,e);if(h.navigate===!1){let S=h.fetcherKey||IR();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function xR(r,{relative:e}={}){let{basename:n}=q.useContext(Rn),s=q.useContext(ri);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},h=_r();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),Xl(u)}function DR(r,{relative:e}={}){let n=q.useContext(lT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ET("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,h)!=null||bh(o.pathname,u)!=null}const d0=r=>{let e;const n=new Set,s=(g,E)=>{const T=typeof g=="function"?g(e):g;if(!Object.is(T,e)){const S=e;e=E??(typeof T!="object"||T===null)?T:Object.assign({},e,T),n.forEach(U=>U(e,S))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(s,o,m);return m},OR=(r=>r?d0(r):d0),MR=r=>r;function VR(r,e=MR){const n=kl.useSyncExternalStore(r.subscribe,kl.useCallback(()=>e(r.getState()),[r,e]),kl.useCallback(()=>e(r.getInitialState()),[r,e]));return kl.useDebugValue(n),n}const m0=r=>{const e=OR(r),n=s=>VR(e,s);return Object.assign(n,e),n},UR=(r=>r?m0(r):m0),TT=UR(r=>({user:null,loading:!0,setUser:e=>r({user:e}),setLoading:e=>r({loading:e})})),PR=()=>{};var p0={};const bT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,U=g&63;p||(U=64,h||(S=64)),s.push(n[E],n[T],n[S],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):kR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new LR;const S=u<<2|m>>4;if(s.push(S),g!==64){const U=m<<4&240|g>>2;if(s.push(U),T!==64){const G=g<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jR=function(r){const e=bT(r);return wT.encodeByteArray(e,!0)},wh=function(r){return jR(r).replace(/\./g,"")},AT=function(r){try{return wT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BR=()=>zR().__FIREBASE_DEFAULTS__,qR=()=>{if(typeof process>"u"||typeof p0>"u")return;const r=p0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AT(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return PR()||BR()||qR()||FR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ST=r=>Yh()?.emulatorHosts?.[r],RT=r=>{const e=ST(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},CT=()=>Yh()?.config,IT=r=>Yh()?.[`_${r}`];class HR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function oa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Np(r){return(await fetch(r,{credentials:"include"})).ok}function NT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(h)),""].join(".")}const Hl={};function GR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function $R(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let g0=!1;function xp(r,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||Hl[r]===e||Hl[r]||g0)return;Hl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=GR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{g0=!0,h()},S}function E(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=$R(s),U=n("text"),G=document.getElementById(U)||document.createElement("span"),F=n("learnmore"),L=document.getElementById(F)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(L,F);const me=g();p(ne,te),ie.append(ne,G,L,me),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function KR(){const r=Yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZR(){return!KR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const nC="FirebaseError";class zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nC,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?iC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new zi(o,m,s)}}function iC(r,e){return r.replace(rC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rC=/\{\$([^}]+)}/g;function sC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(y0(u)&&y0(h)){if(!ta(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function y0(r){return r!==null&&typeof r=="object"}function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function aC(r,e){const n=new oC(r,e);return n.subscribe.bind(n)}class oC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}function Ut(r){return r&&r._delegate?r._delegate:r}class cs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class uC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new HR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(r){return r===Ws?void 0:r}function hC(r){return r.instantiationMode==="EAGER"}class fC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const dC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},mC=Me.INFO,pC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},gC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=mC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const yC=(r,e)=>e.some(n=>r instanceof n);let _0,v0;function _C(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,Ym=new WeakMap,DT=new WeakMap,Sm=new WeakMap,Op=new WeakMap;function EC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(as(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&xT.set(n,r)}).catch(()=>{}),Op.set(e,r),e}function TC(r){if(Ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Ym.set(r,e)}let Km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bC(r){Km=r(Km)}function wC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return DT.set(s,e.sort?e.sort():[e]),as(s)}:vC().includes(r)?function(...e){return r.apply(Rm(this),e),as(xT.get(this))}:function(...e){return as(r.apply(Rm(this),e))}}function AC(r){return typeof r=="function"?wC(r):(r instanceof IDBTransaction&&TC(r),yC(r,_C())?new Proxy(r,Km):r)}function as(r){if(r instanceof IDBRequest)return EC(r);if(Sm.has(r))return Sm.get(r);const e=AC(r);return e!==r&&(Sm.set(r,e),Op.set(e,r)),e}const Rm=r=>Op.get(r);function SC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const RC=["get","getKey","getAll","getAllKeys","count"],CC=["put","add","delete","clear"],Cm=new Map;function E0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}bC(r=>({...r,get:(e,n,s)=>E0(e,n)||r.get(e,n,s),has:(e,n)=>!!E0(e,n)||r.has(e,n)}));class IC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NC(r){return r.getComponent()?.type==="VERSION"}const Qm="@firebase/app",T0="0.14.6";const mr=new Dp("@firebase/app"),xC="@firebase/app-compat",DC="@firebase/analytics-compat",OC="@firebase/analytics",MC="@firebase/app-check-compat",VC="@firebase/app-check",UC="@firebase/auth",PC="@firebase/auth-compat",kC="@firebase/database",LC="@firebase/data-connect",jC="@firebase/database-compat",zC="@firebase/functions",BC="@firebase/functions-compat",qC="@firebase/installations",FC="@firebase/installations-compat",HC="@firebase/messaging",GC="@firebase/messaging-compat",$C="@firebase/performance",YC="@firebase/performance-compat",KC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",JC="@firebase/storage-compat",WC="@firebase/firestore",ZC="@firebase/ai",e2="@firebase/firestore-compat",t2="firebase",n2="12.6.0";const Xm="[DEFAULT]",i2={[Qm]:"fire-core",[xC]:"fire-core-compat",[OC]:"fire-analytics",[DC]:"fire-analytics-compat",[VC]:"fire-app-check",[MC]:"fire-app-check-compat",[UC]:"fire-auth",[PC]:"fire-auth-compat",[kC]:"fire-rtdb",[LC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[zC]:"fire-fn",[BC]:"fire-fn-compat",[qC]:"fire-iid",[FC]:"fire-iid-compat",[HC]:"fire-fcm",[GC]:"fire-fcm-compat",[$C]:"fire-perf",[YC]:"fire-perf-compat",[KC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[JC]:"fire-gcs-compat",[WC]:"fire-fst",[e2]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};const Ah=new Map,r2=new Map,Jm=new Map;function b0(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function na(r){const e=r.name;if(Jm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const n of Ah.values())b0(n,r);for(const n of r2.values())b0(n,r);return!0}function Kh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}const s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new cu("app","Firebase",s2);class a2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const la=n2;function OT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=CT()),!n)throw os.create("no-options");const u=Ah.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new fC(o);for(const p of Jm.values())h.addComponent(p);const m=new a2(n,s,h);return Ah.set(o,m),m}function Mp(r=Xm){const e=Ah.get(r);if(!e&&r===Xm&&CT())return OT();if(!e)throw os.create("no-app",{appName:r});return e}function xi(r,e,n){let s=i2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(h.join(" "));return}na(new cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const o2="firebase-heartbeat-database",l2=1,Jl="firebase-heartbeat-store";let Im=null;function MT(){return Im||(Im=SC(o2,l2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),Im}async function u2(r){try{const n=(await MT()).transaction(Jl),s=await n.objectStore(Jl).get(VT(r));return await n.done,s}catch(e){if(e instanceof zi)mr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function w0(r,e){try{const s=(await MT()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,VT(r)),await s.done}catch(n){if(n instanceof zi)mr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function VT(r){return`${r.name}!${r.options.appId}`}const c2=1024,h2=30;class f2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>h2){const o=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:n,unsentEntries:s}=d2(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function d2(r,e=c2){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),S0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class m2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function p2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function g2(r){na(new cs("platform-logger",e=>new IC(e),"PRIVATE")),na(new cs("heartbeat",e=>new f2(e),"PRIVATE")),xi(Qm,T0,r),xi(Qm,T0,"esm2020"),xi("fire-js","")}g2("");function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y2=UT,PT=new cu("auth","Firebase",UT());const Sh=new Dp("@firebase/auth");function _2(r,...e){Sh.logLevel<=Me.WARN&&Sh.warn(`Auth (${la}): ${r}`,...e)}function fh(r,...e){Sh.logLevel<=Me.ERROR&&Sh.error(`Auth (${la}): ${r}`,...e)}function ni(r,...e){throw Vp(r,...e)}function Di(r,...e){return Vp(r,...e)}function kT(r,e,n){const s={...y2(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function hr(r){return kT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return PT.create(r,...e)}function ye(r,e,...n){if(!r)throw Vp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function pr(r,e){r||lr(e)}function Wm(){return typeof self<"u"&&self.location?.href||""}function v2(){return R0()==="http:"||R0()==="https:"}function R0(){return typeof self<"u"&&self.location?.protocol||null}function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v2()||XR()||"connection"in navigator)?navigator.onLine:!0}function T2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=YR()||JR()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Up(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const b2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const w2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A2=new fu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _s(r,e,n,s,o={}){return jT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return QR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&oa(r.emulatorConfig.host)&&(g.credentials="include"),LT.fetch()(await zT(r,r.config.apiHost,n,m),g)})}async function jT(r,e,n){r._canInitEmulator=!1;const s={...b2,...e};try{const o=new R2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kT(r,E,g);ni(r,E)}}catch(o){if(o instanceof zi)throw o;ni(r,"network-request-failed",{message:String(o)})}}async function du(r,e,n,s,o={}){const u=await _s(r,e,n,s,o);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function zT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Up(r.config,o):`${r.config.apiScheme}://${o}`;return w2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function S2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),A2.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Di(r,e,s);return o.customData._tokenResponse=n,o}function C0(r){return r!==void 0&&r.enterprise!==void 0}class C2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I2(r,e){return _s(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function N2(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x2(r,e=!1){const n=Ut(r),s=await n.getIdToken(e),o=Pp(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Nm(o.auth_time)),issuedAtTime:Gl(Nm(o.iat)),expirationTime:Gl(Nm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function Pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=AT(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function I0(r){const e=Pp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zi&&D2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function D2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class O2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await Wl(r,Rh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?BT(o.providerUserInfo):[],h=V2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function M2(r){const e=Ut(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function U2(r,e){const n=await jT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await zT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&oa(r.emulatorConfig.host)&&(p.credentials="include"),LT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P2(r,e){return _s(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=I0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await U2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new lo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Zr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x2(this,e)}reload(){return M2(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Wl(this,N2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:U,providerData:G,stsTokenManager:F}=n;ye(T&&F,e,"internal-error");const L=lo.fromJSON(this.name,F);ye(typeof T=="string",e,"internal-error"),Zr(s,e.name),Zr(o,e.name),ye(typeof S=="boolean",e,"internal-error"),ye(typeof U=="boolean",e,"internal-error"),Zr(u,e.name),Zr(h,e.name),Zr(m,e.name),Zr(p,e.name),Zr(g,e.name),Zr(E,e.name);const te=new Zn({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:U,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:E});return G&&Array.isArray(G)&&(te.providerData=G.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const N0=new Map;function ur(r){pr(r instanceof Function,"Expected a class definition");let e=N0.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,N0.set(r,e),e)}class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const x0=qT;function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ur(x0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(x0);const h=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const S=await Rh(e,{idToken:E}).catch(()=>{});if(!S)break;T=await Zn._fromGetAccountInfoResponse(e,S,E)}else T=Zn._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new uo(u,e,s))}}function D0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function FT(r=Zt()){return/firefox\//i.test(r)}function HT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(r=Zt()){return/crios\//i.test(r)}function $T(r=Zt()){return/iemobile/i.test(r)}function YT(r=Zt()){return/android/i.test(r)}function KT(r=Zt()){return/blackberry/i.test(r)}function QT(r=Zt()){return/webos/i.test(r)}function kp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function k2(r=Zt()){return kp(r)&&!!window.navigator?.standalone}function L2(){return WR()&&document.documentMode===10}function XT(r=Zt()){return kp(r)||YT(r)||QT(r)||KT(r)||/windows phone/i.test(r)||$T(r)}function JT(r,e=[]){let n;switch(r){case"Browser":n=D0(Zt());break;case"Worker":n=`${D0(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${s}`}class j2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function z2(r,e={}){return _s(r,"GET","/v2/passwordPolicy",ys(r,e))}const B2=6;class q2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??B2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class F2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new j2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(hr(this));const n=e?Ut(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z2(this),n=new q2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await P2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(r){return Ut(r)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(r){Qh=r}function WT(r){return Qh.loadJS(r)}function G2(){return Qh.recaptchaEnterpriseScript}function $2(){return Qh.gapiScript}function Y2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class K2{constructor(){this.enterprise=new Q2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Q2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const X2="recaptcha-enterprise",ZT="NO_RECAPTCHA";class J2{constructor(e){this.type=X2,this.auth=ua(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{I2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new C2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;C0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(ZT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&C0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=G2();p.length!==0&&(p+=m),WT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function M0(r,e,n,s=!1,o=!1){const u=new J2(r);let h;if(o)h=ZT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ep(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await M0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await M0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function W2(r,e){const n=Kh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;ni(o,"already-initialized")}return n.initialize({options:e})}function Z2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function eI(r,e,n){const s=ua(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eb(e),{host:h,port:m}=tI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(ta(g,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,oa(h)?(Np(`${u}//${h}${p}`),xp("Auth",!0)):nI()}function eb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tI(r){const e=eb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:V0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:V0(h)}}}function V0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function iI(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}async function rI(r,e){return du(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function sI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function aI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class Zl extends Lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,n,"signInWithPassword",rI);case"emailLink":return sI(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,s,"signUpPassword",iI);case"emailLink":return aI(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(r,e){return du(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const oI="http://localhost";class ia extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:oI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function lI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uI(r){const e=Ll(jl(r)).link,n=e?Ll(jl(e)).deep_link_id:null,s=Ll(jl(r)).deep_link_id;return(s?Ll(jl(s)).link:null)||s||n||e||r}class jp{constructor(e){const n=Ll(jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=lI(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=uI(e);try{return new jp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jp.parseLink(n);return ye(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends mu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class or extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class ts extends mu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends mu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function cI(r,e){return du(r,"POST","/v1/accounts:signUp",ys(r,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),h=U0(s);return new ra({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=U0(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function U0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends zi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function nb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function hI(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}async function fI(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(hr(s));const o="reauthenticate";try{const u=await Wl(r,nb(s,o,e,r),n);ye(u.idToken,s,"internal-error");const h=Pp(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(r.uid===m,s,"user-mismatch"),ra._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function ib(r,e,n=!1){if(wn(r.app))return Promise.reject(hr(r));const s="signIn",o=await nb(r,s,e),u=await ra._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function dI(r,e){return ib(ua(r),e)}async function rb(r){const e=ua(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sb(r,e,n){if(wn(r.app))return Promise.reject(hr(r));const s=ua(r),h=await ep(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&rb(r),p}),m=await ra._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function mI(r,e,n){return wn(r.app)?Promise.reject(hr(r)):dI(Ut(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rb(r),s})}function pI(r,e,n,s){return Ut(r).onIdTokenChanged(e,n,s)}function gI(r,e,n){return Ut(r).beforeAuthStateChanged(e,n)}function yI(r,e,n,s){return Ut(r).onAuthStateChanged(e,n,s)}async function ab(r){return Ut(r).delete()}const Nh="__sak";class ob{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _I=1e3,vI=10;class lb extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);L2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lb.type="LOCAL";const EI=lb;class ub extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ub.type="SESSION";const cb=ub;function TI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await TI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function zp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class bI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=zp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Oi(){return window}function wI(r){Oi().location.href=r}function hb(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function AI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SI(){return navigator?.serviceWorker?.controller||null}function RI(){return hb()?self:null}const fb="firebaseLocalStorageDb",CI=1,xh="firebaseLocalStorage",db="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function II(){const r=indexedDB.deleteDatabase(fb);return new pu(r).toPromise()}function tp(){const r=indexedDB.open(fb,CI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:db})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await II(),e(await tp()))})})}async function P0(r,e,n){const s=Jh(r,!0).put({[db]:e,value:n});return new pu(s).toPromise()}async function NI(r,e){const n=Jh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function k0(r,e){const n=Jh(r,!0).delete(e);return new pu(n).toPromise()}const xI=800,DI=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(RI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AI(),!this.activeServiceWorker)return;this.sender=new bI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await P0(e,Nh,"1"),await k0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>P0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const OI=mb;new fu(3e4,6e4);function MI(r,e){return e?ur(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Bp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VI(r){return ib(r.auth,new Bp(r),r.bypassAuthState)}function UI(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),fI(n,new Bp(r),r.bypassAuthState)}async function PI(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),hI(n,new Bp(r),r.bypassAuthState)}class pb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VI;case"linkViaPopup":case"linkViaRedirect":return PI;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:ni(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kI=new fu(2e3,1e4);class oo extends pb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kI.get())};e()}}oo.currentPopupAction=null;const LI="pendingRedirect",mh=new Map;class jI extends pb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await zI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zI(r,e){const n=FI(e),s=qI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BI(r,e){mh.set(r._key(),e)}function qI(r){return ur(r._redirectPersistence)}function FI(r){return dh(LI,r.config.apiKey,r.name)}async function HI(r,e,n=!1){if(wn(r.app))return Promise.reject(hr(r));const s=ua(r),o=MI(s,e),h=await new jI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const GI=600*1e3;class $I{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GI&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function YI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(r);default:return!1}}async function KI(r,e={}){return _s(r,"GET","/v1/projects",e)}const QI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function JI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await KI(r);for(const n of e)try{if(WI(n))return}catch{}ni(r,"unauthorized-domain")}function WI(r){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!XI.test(n))return!1;if(QI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const ZI=new fu(3e4,6e4);function j0(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function eN(r){return new Promise((e,n)=>{function s(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),n(Di(r,"network-request-failed"))},timeout:ZI.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=Y2("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(Di(r,"network-request-failed"))},WT(`${$2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function tN(r){return ph=ph||eN(r),ph}const nN=new fu(5e3,15e3),iN="__/auth/iframe",rN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oN(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Up(e,rN):`https://${r.config.authDomain}/${iN}`,s={apiKey:e.apiKey,appName:r.name,v:la},o=aN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function lN(r){const e=await tN(r),n=Oi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:oN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Di(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(h)},nN.get());function p(){Oi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const uN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cN=500,hN=600,fN="_blank",dN="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mN(r,e,n,s=cN,o=hN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...uN,width:s.toString(),height:o.toString(),top:u,left:h},g=Zt().toLowerCase();n&&(m=GT(g)?fN:n),FT(g)&&(e=e||dN,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[U,G])=>`${S}${U}=${G},`,"");if(k2(g)&&m!=="_self")return pN(e||"",m),new z0(null);const T=window.open(e||"",m,E);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new z0(T)}function pN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const gN="__/auth/handler",yN="emulator/auth/handler",_N=encodeURIComponent("fac");async function B0(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:la,eventId:o};if(e instanceof tb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",sC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof mu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${_N}=${encodeURIComponent(p)}`:"";return`${vN(r)}?${hu(m).slice(1)}${g}`}function vN({config:r}){return r.emulator?Up(r,yN):`https://${r.authDomain}/${gN}`}const xm="webStorageSupport";class EN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=HI,this._overrideRedirectResult=BI}async _openPopup(e,n,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await B0(e,n,s,Wm(),o);return mN(e,u,zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await B0(e,n,s,Wm(),o);return wI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await lN(e),s=new $I(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},o=>{const u=o?.[0]?.[xm];u!==void 0&&n(!!u),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XT()||HT()||kp()}}const TN=EN;var q0="@firebase/auth",F0="1.12.0";class bN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AN(r){na(new cs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(r)},g=new F2(s,o,u,p);return Z2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),na(new cs("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(s=>new bN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(q0,F0,wN(r)),xi(q0,F0,"esm2020")}const SN=300,RN=IT("authIdTokenMaxAge")||SN;let H0=null;const CN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>RN)return;const o=n?.token;H0!==o&&(H0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qp(r=Mp()){const e=Kh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=W2(r,{popupRedirectResolver:TN,persistence:[OI,EI,cb]}),s=IT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=CN(u.toString());gI(n,h,()=>h(n.currentUser)),pI(n,m=>h(m))}}const o=ST("auth");return o&&eI(n,`http://${o}`),n}function IN(){return document.getElementsByTagName("head")?.[0]??document}H2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",IN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AN("Browser");var NN="firebase",xN="12.7.0";xi(NN,xN,"app");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,yb;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,O,k){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return R.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],O=x.g[2];let k=x.g[3],I;I=R+(k^C&(O^k))+V[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(O^R&(C^O))+V[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=O+(C^k&(R^C))+V[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(R^O&(k^R))+V[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(k^C&(O^k))+V[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(O^R&(C^O))+V[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=O+(C^k&(R^C))+V[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(R^O&(k^R))+V[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(k^C&(O^k))+V[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(O^R&(C^O))+V[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=O+(C^k&(R^C))+V[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(R^O&(k^R))+V[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(k^C&(O^k))+V[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(O^R&(C^O))+V[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=O+(C^k&(R^C))+V[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(R^O&(k^R))+V[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(O^k&(C^O))+V[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(R^C))+V[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(k^R))+V[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(O^k))+V[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^k&(C^O))+V[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(R^C))+V[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(k^R))+V[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(O^k))+V[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^k&(C^O))+V[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(R^C))+V[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(k^R))+V[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(O^k))+V[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^k&(C^O))+V[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(R^C))+V[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(k^R))+V[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(O^k))+V[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(C^O^k)+V[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^O)+V[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=O+(k^R^C)+V[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^R)+V[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^k)+V[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^O)+V[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=O+(k^R^C)+V[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^R)+V[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^k)+V[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^O)+V[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=O+(k^R^C)+V[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^R)+V[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^k)+V[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^O)+V[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=O+(k^R^C)+V[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^R)+V[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(O^(C|~k))+V[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~O))+V[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=O+(R^(k|~C))+V[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~R))+V[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~k))+V[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~O))+V[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=O+(R^(k|~C))+V[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~R))+V[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~k))+V[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~O))+V[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=O+(R^(k|~C))+V[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~R))+V[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~k))+V[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~O))+V[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=O+(R^(k|~C))+V[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,V=this.C;let O=this.h,k=0;for(;k<R;){if(O==0)for(;k<=C;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<R;)if(V[O++]=x.charCodeAt(k++),O==this.blockSize){o(this,V),O=0;break}}else for(;k<R;)if(V[O++]=x[k++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[R++]=this.g[C]>>>V&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;const C=[];let V=!0;for(let O=x.length-1;O>=0;O--){const k=x[O]|0;V&&k==R||(C[O]=k,V=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return L(g(-x));const R=[];let C=1;for(let V=0;x>=C;V++)R[V]=x/C|0,C*=4294967296;return new h(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return L(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let V=T;for(let k=0;k<x.length;k+=8){var O=Math.min(8,x.length-k);const I=parseInt(x.substring(k,k+O),R);O<8?(O=g(Math.pow(R,O)),V=V.j(O).add(g(I))):(V=V.j(C),V=V.add(g(I)))}return V}var T=p(0),S=p(1),U=p(16777216);r=h.prototype,r.m=function(){if(F(this))return-L(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(F(this))return"-"+L(this).toString(x);const R=g(Math.pow(x,6));var C=this;let V="";for(;;){const O=me(C,R).g;C=te(C,O.j(R));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,G(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function F(x){return x.h==-1}r.l=function(x){return x=te(this,x),F(x)?-1:G(x)?0:1};function L(x){const R=x.g.length,C=[];for(let V=0;V<R;V++)C[V]=~x.g[V];return new h(C,~x.h).add(S)}r.abs=function(){return F(this)?L(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let O=0;O<=R;O++){let k=V+(this.i(O)&65535)+(x.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=I>>>16,k&=65535,I&=65535,C[O]=I<<16|k}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(x,R){return x.add(L(R))}r.j=function(x){if(G(this)||G(x))return T;if(F(this))return F(x)?L(this).j(L(x)):L(L(this).j(x));if(F(x))return L(this.j(L(x)));if(this.l(U)<0&&x.l(U)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const k=this.i(V)>>>16,I=this.i(V)&65535,rt=x.i(O)>>>16,xt=x.i(O)&65535;C[2*V+2*O]+=I*xt,ne(C,2*V+2*O),C[2*V+2*O+1]+=k*xt,ne(C,2*V+2*O+1),C[2*V+2*O+1]+=I*rt,ne(C,2*V+2*O+1),C[2*V+2*O+2]+=k*rt,ne(C,2*V+2*O+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function ne(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ie(x,R){this.g=x,this.h=R}function me(x,R){if(G(R))throw Error("division by zero");if(G(x))return new ie(T,T);if(F(x))return R=me(L(x),R),new ie(L(R.g),L(R.h));if(F(R))return R=me(x,L(R)),new ie(L(R.g),R.h);if(x.g.length>30){if(F(x)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=R;V.l(x)<=0;)C=ve(C),V=ve(V);var O=Te(C,1),k=Te(V,1);for(V=Te(V,2),C=Te(C,2);!G(V);){var I=k.add(V);I.l(x)<=0&&(O=O.add(C),k=I),V=Te(V,1),C=Te(C,1)}return R=te(x,O.j(R)),new ie(O,R)}for(O=T;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(C),I=k.j(R);F(I)||I.l(x)>0;)C-=V,k=g(C),I=k.j(R);G(k)&&(k=S),O=O.add(k),x=te(x,I)}return new ie(O,x)}r.B=function(x){return me(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)&x.i(V);return new h(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)|x.i(V);return new h(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)^x.i(V);return new h(C,this.h^x.h)};function ve(x){const R=x.g.length+1,C=[];for(let V=0;V<R;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new h(C,x.h)}function Te(x,R){const C=R>>5;R%=32;const V=x.g.length-C,O=[];for(let k=0;k<V;k++)O[k]=R>0?x.i(k+C)>>>R|x.i(k+C+1)<<32-R:x.i(k+C);return new h(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,yb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ls=h}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _b,zl,vb,gh,np,Eb,Tb,bb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in v))break e;v=v[j]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,j,$){for(var re=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)re[Se-2]=arguments[Se];return y.prototype[j].apply(w,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function G(c,y){for(let w=1;w<arguments.length;w++){const j=arguments[w];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const $=j.length||0;c.length=v+$;for(let re=0;re<$;re++)c[v+re]=j[re]}else c.push(j)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function te(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const w=ie.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new F(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Te=!1,x=new ne,R=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){L(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Te=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(rt,O),rt.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,v,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=j,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)c[v]=w[v];for(let $=0;$<Z.length;$++)v=Z[$],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,w,j){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const re=Ce(c,y,w,j);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,$,!!w,j),y.fa=v,c.push(y)),y};function Ee(c,y){const v=y.type;if(v in c.g){var w=c.g[v],j=Array.prototype.indexOf.call(w,y,void 0),$;($=j>=0)&&Array.prototype.splice.call(w,j,1),$&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,w){for(let j=0;j<c.length;++j){const $=c[j];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==w)return j}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,v,w,j){if(Array.isArray(y)){for(let $=0;$<y.length;$++)st(c,y[$],v,w,j);return null}return v=Oo(v),c&&c[xt]?c.J(y,v,m(w)?!!w.capture:!1,j):Ts(c,y,v,!1,w,j)}function Ts(c,y,v,w,j,$){if(!y)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let Se=bs(c);if(Se||(c[ke]=Se=new ue(c)),v=Se.add(y,v,w,re,$),v.proxy)return v;if(w=da(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)k||(j=re),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(si(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function da(){function c(v){return y.call(c.src,c.listener,v)}const y=xo;return c}function ma(c,y,v,w,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)ma(c,y[$],v,w,j);else w=m(w)?!!w.capture:!!w,v=Oo(v),c&&c[xt]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],v=Ce(y,v,w,j),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,w,j)),(v=c>-1?y[c]:null)&&pa(v))}function pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])Ee(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(si(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=bs(y))?(Ee(v,c),v.h==0&&(v.src=null,y[ke]=null)):pe(c)}}}function si(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function xo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&pa(c),c=v.call(w,y)}return c}function bs(c){return c=c[ke],c instanceof ue?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function _t(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}T(_t,V),_t.prototype[xt]=!0,_t.prototype.removeEventListener=function(c,y,v,w){ma(this,c,y,v,w)};function Ot(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(w,c),ae(y,j)}j=!0;let $,re;if(v)for(re=v.length-1;re>=0;re--)$=y.g=v[re],j=Er($,w,!0,y)&&j;if($=y.g=c,j=Er($,w,!0,y)&&j,j=Er($,w,!1,y)&&j,v)for(re=0;re<v.length;re++)$=y.g=v[re],j=Er($,w,!1,y)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)pe(v[w]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},_t.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Er(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let $=0;$<y.length;++$){const re=y[$];if(re&&!re.da&&re.capture==v){const Se=re.listener,dt=re.ha||re.src;re.fa&&Ee(c.i,re),j=Se.call(dt,w)!==!1&&j}}return j&&!w.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function bu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){V.call(this),this.h=c,this.g={}}T(ws,V);var Mo=[];function Vo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&pa(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),Vo(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=h.JSON.stringify,_f=h.JSON.parse,wu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Au(){}function Su(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}T(zt,O);function Cn(){O.call(this,"c")}T(Cn,O);var ft={},Ru=null;function ga(){return Ru=Ru||new _t}ft.Ia="serverreachability";function Cu(c){O.call(this,ft.Ia,c)}T(Cu,O);function ai(c){const y=ga();Ot(y,new Cu(y))}ft.STAT_EVENT="statevent";function As(c,y){O.call(this,ft.STAT_EVENT,c),this.stat=y}T(As,O);function vt(c){const y=ga();Ot(y,new As(y,c))}ft.Ja="timingevent";function oi(c,y){O.call(this,ft.Ja,c),this.size=y}T(oi,O);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function vf(c,y,v,w,j,$){c.info(function(){if(c.g)if($){var re="",Se=$.split("&");for(let qe=0;qe<Se.length;qe++){var dt=Se[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Dn=at.split("_");re=Dn.length>=2&&Dn[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=$;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function Iu(c,y,v,w,j,$,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+v+`
`+$+" "+re})}function ui(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,v)+(w?" "+w:"")})}function Ss(c,y){c.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return Tr($)}catch{return y}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Cs(){}T(Cs,Au),Cs.prototype.g=function(){return new XMLHttpRequest},Po=new Cs;function qi(c){return encodeURIComponent(String(c))}function Nu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Et={},Pt={};function ci(c,y,v){c.M=1,c.A=Is(bt(y)),c.u=v,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),hi(c),c.B=bt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ta(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Hn,c.g=Hu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Mo[0]=j.toString()),j=Mo);for(let $=0;$<j.length;$++){const re=st(v,j[$],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Yn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||dt==7||(dt==8||qe<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var v=Tf(this);if(this.o=y==200,Iu(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var $=w;break t}}$=null}if(c=$)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),In(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Du(this,v),at==Pt){Se==4&&(this.m=4,vt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,at,null),di(this,at);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(re),re.P=!0,vt(11))}}else ui(this.i,this.l,v,null),di(this,v);Se==4&&mn(this),this.o&&!this.K&&(Se==4?zu(this.j,this):(this.o=!1,hi(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),In(this)}}}catch{}};function Tf(c){if(!xu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const w=y.length,j=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),In(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<w;$++)c.h.h=!0,v+=c.h.i.decode(y[$],{stream:!(j&&$==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Du(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Pt:(v=Number(y.substring(v,w)),isNaN(v)?Et:(w+=1,w+v>y.length?Pt:(y=y.slice(w,w+v),c.C=w+v,y)))}Fn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),y)}function fi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(ai(),vt(17)),mn(this),this.m=2,In(this)):_a(this,this.T-c)};function In(c){c.j.I==0||c.K||zu(c.j,c)}function mn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ra(v),Nr(v);else break e;Us(v),vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Ra(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let qe=j[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Dn=qe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const bi=qe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Kn=qe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(w=1.5*Kn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Qn=c.g;if(Qn){const Ps=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var $=w.h;$.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(jo($,$.h),$.h=null))}if(w.G){const Ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(w.wa=Ca,$e(w.J,w.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var re=c;if(w.na=Fu(w,w.L?w.ba:null,w.W),re.L){zo(w.h,re);var Se=re,dt=w.O;dt&&(Se.H=dt),Se.D&&(fi(Se),hi(Se)),w.g=re}else Lu(w);v.i.length>0&&Ei(v)}else qe[0]!="stop"&&qe[0]!="close"||Ti(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ti(v,7):Qo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ai(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function ko(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ko.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return U(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let j,$=null;w>=0?(j=c[v].substring(0,w),$=c[v].substring(w+1)):j=c[v],y(j,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof pn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,br(this,c.u),this.h=c.h,qo(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(Ou))?(this.l=!1,kt(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),br(this,y[4]),this.h=gi(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}pn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,Ea,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,Ea,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ns(v,v.charAt(0)=="/"?Fo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ns(v,Vu)),c.join("")},pn.prototype.resolve=function(c){const y=bt(this);let v=!!c.j;v?kt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)br(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=y.h.lastIndexOf("/");j!=-1&&(w=y.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const $=[];for(let re=0;re<j.length;){const Se=j[re++];Se=="."?w&&re==j.length&&$.push(""):Se==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&re==j.length&&$.push("")):($.push(Se),w=!0)}w=$.join("/")}else w=j}return v?y.h=w:v=c.i.toString()!=="",v?qo(y,Pu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function bt(c){return new pn(c)}function kt(c,y,v){c.j=v?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function qo(c,y,v){y instanceof Ar?(c.i=y,ba(c.i,c.l)):(v||(y=Ns(y,wr)),c.i=new Ar(y,c.l))}function $e(c,y,v){c.i.set(y,v)}function Is(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Mu=/[#\?:]/g,Fo=/[#\?]/g,wr=/[#\?@]/g,Vu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,y){sn(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Uu(c,y){sn(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ho(c,y){return sn(c),y=Sr(c,y),c.g.has(y)}r.forEach=function(c,y){sn(this),this.g.forEach(function(v,w){v.forEach(function(j){c.call(y,j,w,this)},this)},this)};function Go(c,y){sn(c);let v=[];if(typeof y=="string")Ho(c,y)&&(v=v.concat(c.g.get(Sr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return sn(this),this.i=null,c=Sr(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Go(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,v){Uu(c,y),v.length>0&&(c.i=null,c.g.set(Sr(c,y),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const j=qi(v);v=Go(this,v);for(let $=0;$<v.length;$++){let re=j;v[$]!==""&&(re+="="+qi(v[$])),c.push(re)}}return this.i=c.join("&")};function Pu(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ba(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,w){const j=w.toLowerCase();w!=j&&(Uu(this,w),Ta(this,j,v))},c)),c.j=y}function Gn(c,y){const v=new qn;if(h.Image){const w=new Image;w.onload=E(Nn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Nn,v,"TestLoadImage: error",!1,y,w),w.onabort=E(Nn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function $o(c,y){const v=new qn,w=new AbortController,j=setTimeout(()=>{w.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(j),$.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function Rr(){this.g=new wu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,Au),yi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(xs,_t),r=xs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):$n(this),this.readyState==3&&wa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return je(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ds(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=xn(v),typeof c=="string"?v!=null&&qi(v):$e(c,y,v))}function Qe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Qe,_t);var _i=/^https?$/i,Yo=["POST","PUT"];r=Qe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Os(this,$);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Yo,y,void 0)>=0)||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Os(this,$)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),Fi(c)}function Ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Qe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=$===0){let re=String(c.D).match(Ou)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),w=!_i.test(re?re.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Yn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Ko(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var v=Nu(c[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[j]||[];y[j]=$,$.push(v)}Ge(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){vt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Fu(this,null,this.W),Ei(this)};function Qo(c){if(Aa(c),c.I==3){var y=c.V++,v=bt(c.J);if($e(v,"SID",c.M),$e(v,"RID",y),$e(v,"TYPE","terminate"),Vs(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=Is(bt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}qu(c)}function Nr(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Aa(c){Nr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Lo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ve||R(),Te||(ve(),Te=!0),x.add(y,c),c.D=0}}function Sa(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,y),Bu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Fn(this,this.j,c);let $=this.o;if(this.U&&($?($=M($),ae($,this.U)):$=this.U),this.u!==null||this.R||(j.J=$,$=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ku(this,j,y),v=bt(this.J),$e(v,"RID",c),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Vs(this,v),$&&(this.R?y="headers="+qi(xn($))+"&"+y:this.u&&Ds(v,this.u,$)),jo(this.h,j),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",y),$e(v,"SID","null"),j.U=!0,ci(j,v,null)):ci(j,v,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Lo(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.V++;const w=bt(c.J);$e(w,"SID",c.M),$e(w,"RID",v),$e(w,"AID",c.K),Vs(c,w),c.u&&c.o&&Ds(w,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ku(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),ci(v,w,y)}function Vs(c,y){c.H&&je(c.H,function(v,w){$e(y,w,v)}),c.l&&je({},function(v,w){$e(y,w,v)})}function ku(c,y,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Se=-1;for(;;){const dt=["count="+v];Se==-1?v>0?(Se=j[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let qe=!0;for(let at=0;at<v;at++){var $=j[at].g;const Dn=j[at].map;if($-=Se,$<0)Se=Math.max(0,j[at].g-100),qe=!1;else try{$="req"+$+"_"||"";try{var re=Dn instanceof Map?Dn:Object.entries(Dn);for(const[bi,Kn]of re){let Qn=Kn;m(Kn)&&(Qn=Tr(Kn)),dt.push($+bi+"="+encodeURIComponent(Qn))}}catch(bi){throw dt.push($+"type="+encodeURIComponent("_badmap")),bi}}catch{w&&w(Dn)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Lu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ve||R(),Te||(ve(),Te=!0),x.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),Bu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Nr(this),ju(this))};function Jo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ju(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=bt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Is(bt(y)),v.u=null,v.R=!0,ya(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),Us(this),vt(19))};function Ra(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function zu(c,y){var v=null;if(c.g==y){Ra(c),Jo(c),c.g=null;var w=2}else if(pi(c.h,y))v=y.G,zo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;w=ga(),Ot(w,new oi(w,v)),Ei(c)}else Lu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(w==1&&Sa(c,y)||w==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Bu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),w=c.Ua;const j=!w;w=new pn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||kt(w,"https"),Is(w),j?Gn(w.toString(),v):$o(w.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),qu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Fu(c,y,v){var w=v instanceof pn?bt(v):new pn(v);if(w.g!="")y&&(w.g=y+"."+w.g),br(w,w.u);else{var j=h.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const $=new pn(null);w&&kt($,w),y&&($.g=y),j&&br($,j),v&&($.h=v),w=$}return v=c.G,y=c.wa,v&&y&&$e(w,v,y),$e(w,"VER",c.ka),Vs(c,w),w}function Hu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Qe(new yi({ab:v})):new Qe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}r=Gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){_t.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}T(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Qo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Tr(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&Ei(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,tn.Z.N.call(this)};function $u(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T($u,zt);function Yu(){Cn.call(this),this.status=1}T(Yu,Cn);function Gi(c){this.g=c}T(Gi,Gu),Gi.prototype.ra=function(){Ot(this.g,"a")},Gi.prototype.qa=function(c){Ot(this.g,new $u(c))},Gi.prototype.pa=function(c){Ot(this.g,new Yu)},Gi.prototype.oa=function(){Ot(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,bb=function(){return new xr},Tb=function(){return ga()},Eb=ft,np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,gh=Rs,Uo.COMPLETE="complete",vb=Uo,Su.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,zl=Su,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,_b=Qe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore",Y0="4.9.3";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Ao="12.7.0";const sa=new Dp("@firebase/firestore");function io(){return sa.logLevel}function le(r,...e){if(sa.logLevel<=Me.DEBUG){const n=e.map(Fp);sa.debug(`Firestore (${Ao}): ${r}`,...n)}}function gr(r,...e){if(sa.logLevel<=Me.ERROR){const n=e.map(Fp);sa.error(`Firestore (${Ao}): ${r}`,...n)}}function mo(r,...e){if(sa.logLevel<=Me.WARN){const n=e.map(Fp);sa.warn(`Firestore (${Ao}): ${r}`,...n)}}function Fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,wb(r,s,n)}function wb(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||wb(e,o,s)}function Ae(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class ON{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new Ab(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class VN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function ip(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Dm(o)===Dm(u)?Ve(o,u):Dm(o)?1:-1}return Ve(r.length,e.length)}const LN=55296,jN=57343;function Dm(r){const e=r.charCodeAt(0);return e>=LN&&e<=jN}function po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Q0="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class et extends Ii{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const zN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ii{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return zN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new Yt([Q0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function Sb(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function BN(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function X0(r){if(!de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function J0(r){if(de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function gu(r,e){if(!Rb(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const W0=-62135596800,Z0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Z0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function qN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new hs(o,de.empty(),e)}function FN(r){return new hs(r.readTime,r.key,eu)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(be.min(),de.empty(),eu)}static max(){return new hs(be.max(),de.empty(),eu)}}function HN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const GN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==GN)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function YN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const Gp=-1;function ef(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function KN(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Cb="";function QN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=eE(e)),e=XN(r.get(n),e);return eE(e)}function XN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Cb:n+="";break;default:n+=u}}return n}function eE(r){return r+Cb+""}function tE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Ib(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(e){return new nE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class nE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Nb("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const JN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=JN.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const xb="server_timestamp",Db="__type__",Ob="__previous_value__",Mb="__local_write_time__";function $p(r){return(r?.mapValue?.fields||{})[Db]?.stringValue===xb}function tf(r){const e=r.mapValue.fields[Ob];return $p(e)?tf(e):e}function tu(r){const e=fs(r.mapValue.fields[Mb].timestampValue);return new it(e.seconds,e.nanos)}class WN{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Oh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const Vb="__type__",ZN="__max__",th={mapValue:{}},Ub="__vector__",Mh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$p(r)?4:tx(r)?9007199254740991:ex(r)?10:11:_e(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tu(r).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fs(o.timestampValue),m=fs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(h)!==tE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Li(h[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function iu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return iE(r.timestampValue,e.timestampValue);case 4:return iE(tu(r),tu(e));case 5:return ip(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ds(u),p=ds(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(gt(u.latitude),gt(h.latitude));return m!==0?m:Ve(gt(u.longitude),gt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Mh]?.arrayValue,E=p[Mh]?.arrayValue,T=Ve(g?.values?.length||0,E?.values?.length||0);return T!==0?T:rE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===th.mapValue&&h===th.mapValue)return 0;if(u===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=ip(p[T],E[T]);if(S!==0)return S;const U=go(m[p[T]],g[E[T]]);if(U!==0)return U}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function iE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=fs(r),s=fs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function rE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function yo(r){return rp(r)}function rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${rp(n.fields[h])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function yh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function sE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sp(r){return!!r&&"integerValue"in r}function Yp(r){return!!r&&"arrayValue"in r}function aE(r){return!!r&&"nullValue"in r}function oE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function ex(r){return(r?.mapValue?.fields||{})[Vb]?.stringValue===Ub}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function tx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZN}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=$l(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn($l(this.value))}}function Pb(r){const e=[];return vs(r.fields,((n,s)=>{const o=new Yt([n]);if(_h(s)){const u=Pb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new An(e)}class Wt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function lE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=go(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function nx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class kb{}class It extends kb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rx(e,n,s):n==="array-contains"?new ox(e,s):n==="in"?new lx(e,s):n==="not-in"?new ux(e,s):n==="array-contains-any"?new cx(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sx(e,s):new ax(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends kb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return Lb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lb(r){return r.op==="and"}function jb(r){return ix(r)&&Lb(r)}function ix(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function ap(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(jb(r))return r.filters.map((e=>ap(e))).join(",");{const e=r.filters.map((n=>ap(n))).join(",");return`${r.op}(${e})`}}function zb(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof ii?(function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&zb(h,o.filters[m])),!0):!1})(r,e):void _e(19439)}function Bb(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(Bb).join(" ,")+"}"})(r):"Filter"}class rx extends It{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class sx extends It{constructor(e,n){super(e,"in",n),this.keys=qb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ax extends It{constructor(e,n){super(e,"not-in",n),this.keys=qb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qb(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class ox extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&iu(n.arrayValue,this.value)}}class lx extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class ux extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class cx extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>iu(this.value.arrayValue,s)))}}class hx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function cE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new hx(r,e,n,s,o,u,h)}function Kp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ap(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function Qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!zb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uE(r.startAt,e.startAt)&&uE(r.endAt,e.endAt)}function op(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Co{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fx(r,e,n,s,o,u,h,m){return new Co(r,e,n,s,o,u,h,m)}function Xp(r){return new Co(r)}function hE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Fb(r){return r.collectionGroup!==null}function Yl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ru(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new ru(Yt.keyField(),s))}return e.Ie}function Mi(r){const e=Ae(r);return e.Ee||(e.Ee=dx(e,Yl(r))),e.Ee}function dx(r,e){if(r.limitType==="F")return cE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ru(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return cE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function lp(r,e){const n=r.filters.concat([e]);return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function up(r,e,n){return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return Qp(Mi(r),Mi(e))&&r.limitType===e.limitType}function Hb(r){return`${Kp(Mi(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Bb(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=lE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Yl(s),o)||s.endAt&&!(function(h,m,p){const g=lE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Yl(s),o))})(r,e)}function mx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gb(r){return(e,n)=>{let s=!1;for(const o of Yl(r)){const u=px(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function px(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}const gx=new ut(de.comparator);function yr(){return gx}const $b=new ut(de.comparator);function Bl(...r){let e=$b;for(const n of r)e=e.insert(n.key,n);return e}function Yb(r){let e=$b;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Kl()}function Kb(){return Kl()}function Kl(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const yx=new ut(de.comparator),_x=new Vt(de.comparator);function Ue(...r){let e=_x;for(const n of r)e=e.add(n);return e}const vx=new Vt(Ve);function Ex(){return vx}function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Qb(r){return{integerValue:""+r}}function Tx(r,e){return KN(e)?Qb(e):Jp(r,e)}class sf{constructor(){this._=void 0}}function bx(r,e,n){return r instanceof Uh?(function(o,u){const h={fields:{[Db]:{stringValue:xb},[Mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=tf(u)),u&&(h.fields[Ob]=u),{mapValue:h}})(n,e):r instanceof su?Jb(r,e):r instanceof au?Wb(r,e):(function(o,u){const h=Xb(o,u),m=fE(h)+fE(o.Ae);return sp(h)&&sp(o.Ae)?Qb(m):Jp(o.serializer,m)})(r,e)}function wx(r,e,n){return r instanceof su?Jb(r,e):r instanceof au?Wb(r,e):n}function Xb(r,e){return r instanceof Ph?(function(s){return sp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Uh extends sf{}class su extends sf{constructor(e){super(),this.elements=e}}function Jb(r,e){const n=Zb(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends sf{constructor(e){super(),this.elements=e}}function Wb(r,e){let n=Zb(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class Ph extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fE(r){return gt(r.integerValue||r.doubleValue)}function Zb(r){return Yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Ax(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?po(s.elements,o.elements,Li):s instanceof Ph&&o instanceof Ph?Li(s.Ae,o.Ae):s instanceof Uh&&o instanceof Uh})(r.transform,e.transform)}class Sx{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function ew(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wp(r.key,ti.none()):new yu(r.key,r.data,ti.none());{const n=r.data,s=dn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Es(r.key,s,new An(o.toArray()),ti.none())}}function Rx(r,e,n){r instanceof yu?(function(o,u,h){const m=o.value.clone(),p=mE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,u,h){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=mE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(tw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof yu?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=u.value.clone(),E=pE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=pE(u.fieldTransforms,p,h),E=h.data;return E.setAll(tw(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function Cx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Xb(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function dE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,h)=>Ax(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function mE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,wx(h,m,n[o]))}return s}function pE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,bx(u,h,e))}return s}class Wp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Rx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Kb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=ew(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>dE(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>dE(n,s)))}}class Zp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return yx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Zp(e,n,s,o)}}class xx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Le;function Ox(r){switch(r){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function nw(r){if(r===void 0)return gr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=Ct||(Ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function Mx(){return new TextEncoder}const Vx=new ls([4294967295,4294967295],0);function gE(r){const e=Mx().encode(r),n=new yb;return n.update(e),new Uint8Array(n.digest())}function yE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class eg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(Vx)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new eg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(be.min(),o,new ut(Ve),yr(),Ue())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Ue(),Ue(),Ue())}}class Eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class iw{constructor(e,n){this.targetId=e,this.Ce=n}}class rw{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _E{constructor(){this.ve=0,this.Fe=vE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=vE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ux{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(op(u))if(s===0){const h=new de(u.path);this.et(n,h,Wt.newNoDocument(h,be.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof Nb)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new eg(h,o,u)}catch(p){return mo(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&op(m.target)){const p=new de(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new of(e,n,this.Ye,this.je,s);return this.je=yr(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _E,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _E),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ut(de.comparator)}function vE(){return new ut(de.comparator)}const Px={asc:"ASCENDING",desc:"DESCENDING"},kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lx={and:"AND",or:"OR"};class jx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cp(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zx(r,e){return kh(r,e.toTimestamp())}function Vi(r){return He(!!r,49232),be.fromTimestamp((function(n){const s=fs(n);return new it(s.seconds,s.nanos)})(r))}function tg(r,e){return hp(r,e).canonicalString()}function hp(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function aw(r){const e=et.fromString(r);return He(hw(e),10190,{key:e.toString()}),e}function fp(r,e){return tg(r.databaseId,e.path)}function Om(r,e){const n=aw(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(lw(n))}function ow(r,e){return tg(r.databaseId,e)}function Bx(r){const e=aw(r);return e.length===4?et.emptyPath():lw(e)}function dp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lw(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function EE(r,e,n){return{name:fp(r,e),fields:n.value.mapValue.fields}}function qx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:nw(g.code);return new oe(E,g.message||"")})(h);n=new rw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):be.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?Vi(s.readTime):be.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Dx(o,u),m=s.targetId;n=new iw(m,h)}}return n}function Fx(r,e){let n;if(e instanceof yu)n={update:EE(r,e.key,e.value)};else if(e instanceof Wp)n={delete:fp(r,e.key)};else if(e instanceof Es)n={update:EE(r,e.key,e.data),updateMask:Wx(e.fieldMask)};else{if(!(e instanceof Ix))return _e(16599,{Vt:e.type});n={verify:fp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function Hx(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(be.min())&&(h=Vi(u)),new Sx(h,o.transformResults||[])})(n,e)))):[]}function Gx(r,e){return{documents:[ow(r,e.path)]}}function $x(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ow(r,o);const u=(function(g){if(g.length!==0)return cw(ii.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:so(S.field),direction:Qx(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=cp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Yx(r){let e=Bx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=uw(T);return S instanceof ii&&jb(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(G){return new ru(ao(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,ef(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,U=T.values||[];return new Vh(U,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,U=T.values||[];return new Vh(U,S)})(n.endAt)),fx(e,o,h,u,m,"F",p,g)}function Kx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>uw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function Qx(r){return Px[r]}function Xx(r){return kx[r]}function Jx(r){return Lx[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Yt.fromServerFormat(r.fieldPath)}function cw(r){return r instanceof It?(function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(aE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(aE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:Xx(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((o=>cw(o)));return s.length===1?s[0]:{compositeFilter:{op:Jx(n.op),filters:s}}})(r):_e(54877,{filter:r})}function Wx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class is{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zx{constructor(e){this.yt=e}}function eD(r){const e=Yx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?up(e,e.limit,"L"):e}class tD{constructor(){this.Cn=new nD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(hs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class nD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(fw,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const bE="LruGarbageCollector",iD=1048576;function wE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class rD{constructor(e){this.Ir=e,this.buffer=new Vt(wE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(bE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?le(bE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class aD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Zh.ce);const s=new rD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(TE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),io()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function oD(r,e){return new aD(r,e)}class lD{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,An.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Bl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=yr();const h=Kl(),m=(function(){return Kl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Ql(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new uD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Kl();let o=new ut(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Kb();E.forEach((S=>{if(!u.has(S)){const U=ew(n.get(S),s.get(S));U!==null&&T.set(S,U),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Zs());let m=eu,p=u;return h.next((g=>ee.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((E=>({batchId:m,changes:Yb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,S){return new Co(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))}));let m=Bl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,g,An.empty(),it.now()),rf(n,g)&&(m=m.insert(p,g))})),m}))}}class hD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eD(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),ee.resolve()}}class fD{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xx(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class dD{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class ng{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class mD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Nx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new jt(new de(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pD{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||HN(FN(E),s)<=0||(o.has(E.key)||rf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gD(this)}getSize(e){return ee.resolve(this.size)}}class gD extends lD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class yD{constructor(e){this.persistence=e,this.si=new ca((n=>Kp(n)),Qp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new ng,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class dw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new dD,this.referenceDelegate=e(this),this.Pi=new yD(this),this.indexManager=new tD,this.remoteDocumentCache=(function(o){return new pD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Zx(n),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new mD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new _D(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class _D extends $N{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new ng,this.Vi=null}static mi(e){return new ig(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new ca((s=>QN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=oD(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,n.fromCache,s,o)}}class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ED{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZR()?8:YN(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new vD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(io()<=Me.DEBUG&&le("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ee.resolve())}ys(e,n){if(hE(n))return ee.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=up(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,up(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return hE(n)||o.isEqual(be.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ee.resolve(null):(io()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,h,n,qN(o,eu)).next((m=>m)))}))}Ds(e,n){let s=new Vt(Gb(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const sg="LocalStore",TD=3e8;class bD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ca((u=>Kp(u)),Qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wD(r,e,n,s){return new bD(r,e,n,s)}async function mw(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function AD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,S=T.keys();let U=ee.resolve();return S.forEach((G=>{U=U.next((()=>E.getEntry(p,G))).next((F=>{const L=g.docVersions.get(G);He(L!==null,48541),F.version.compareTo(L)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function pw(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let U=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(T,U),(function(F,L,te){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=TD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(S,U,E)&&m.push(n.Pi.updateTargetData(u,U))}));let p=yr(),g=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(RD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function RD(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=yr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(sg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function CD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ID(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new is(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function mp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ro(h))throw h;le(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function AE(r,e,n){const s=Ae(r);let o=be.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ae(p),S=T.xs.get(E);return S!==void 0?ee.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,E)})(s,h,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ue()))).next((m=>(ND(s,mx(e),m),{documents:m,Qs:u})))))}function ND(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class SE{constructor(){this.activeTargetIds=Ex()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xD{constructor(){this.Mo=new SE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DD{Oo(e){}shutdown(){}}const RE="ConnectivityMonitor";class CE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(RE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(RE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function pp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Mm="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=pp(),m=this.zo(e,n.toUriEncodedString());le(Mm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=oa(g);return this.Jo(e,m,p,s,E).then((T=>(le(Mm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw mo(Mm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=OD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class VD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class UD extends MD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=pp();return new Promise(((m,p)=>{const g=new _b;g.setWithCredentials(!0),g.listenOnce(vb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const T=g.getResponseJson();le(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case gh.TIMEOUT:le(Xt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const S=g.getStatus();if(le(Xt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const G=U?.error;if(G&&G.status&&G.message){const F=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(G.status);p(new oe(F,G.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Xt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=bb(),m=Tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let S=!1,U=!1;const G=new VD({Yo:L=>{U?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),F=(L,te,ne)=>{L.listen(te,(ie=>{try{ne(ie)}catch(me){setTimeout((()=>{throw me}),0)}}))};return F(T,zl.EventType.OPEN,(()=>{U||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),F(T,zl.EventType.CLOSE,(()=>{U||(U=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),F(T,zl.EventType.ERROR,(L=>{U||(U=!0,mo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),G.a_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),F(T,zl.EventType.MESSAGE,(L=>{if(!U){const te=L.data[0];He(!!te,16349);const ne=te,ie=ne?.error||ne[0]?.error;if(ie){le(Xt,`RPC '${e}' stream ${o} received error:`,ie);const me=ie.status;let ve=(function(R){const C=Ct[R];if(C!==void 0)return nw(C)})(me),Te=ie.message;ve===void 0&&(ve=J.INTERNAL,Te="Unknown error status: "+me+" with message "+ie.message),U=!0,G.a_(new oe(ve,Te)),T.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,te),G.u_(te)}})),F(m,Eb.STAT_EVENT,(L=>{L.stat===np.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===np.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}function lf(r){return new jx(r,!0)}class gw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const IE="PersistentStream";class yw{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PD extends yw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Vi(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=dp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=op(p)?{documents:Gx(u,p)}:{query:$x(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=sw(u,h.resumeToken);const g=cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=kh(u,h.snapshotVersion.toTimestamp());const g=cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Kx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=dp(this.serializer),n.removeTarget=e,this.q_(n)}}class kD extends yw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Hx(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Fx(this.serializer,s)))};this.q_(n)}}class LD{}class jD extends LD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,hp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,hp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class BD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ha(this)&&(le(aa,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await vu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await uf(g)})(this))}))})),this.Ra=new zD(s,o)}}async function uf(r){if(ha(r))for(const e of r.da)await e(!0)}async function vu(r){for(const e of r.da)await e(!1)}function _w(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?lg(n):Io(n).O_()&&og(n,e))}function ag(r,e){const n=Ae(r),s=Io(n);n.Ia.delete(e),s.O_()&&vw(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function og(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Y_(e)}function vw(r,e){r.Va.Ue(e),Io(r).Z_(e)}function lg(r){r.Va=new Ux({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function ug(r){return ha(r)&&!Io(r).x_()&&r.Ia.size>0}function ha(r){return Ae(r).Ea.size===0}function Ew(r){r.Va=void 0}async function qD(r){r.Ra.set("Online")}async function FD(r){r.Ia.forEach(((e,n)=>{og(r,e)}))}async function HD(r,e){Ew(r),ug(r)?(r.Ra.ha(e),lg(r)):r.Ra.set("Unknown")}async function GD(r,e,n){if(r.Ra.set("Online"),e instanceof rw&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof iw?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await pw(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),vw(u,p);const T=new is(E.target,p,g,E.sequenceNumber);og(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(aa,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,n){if(!Ro(e))throw e;r.Ea.add(1),await vu(r),r.Ra.set("Offline"),n||(n=()=>pw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await uf(r)}))}function Tw(r,e){return e().catch((n=>jh(r,n,e)))}async function cf(r){const e=Ae(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;$D(e);)try{const o=await CD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,YD(e,o)}catch(o){await jh(e,o)}bw(e)&&ww(e)}function $D(r){return ha(r)&&r.Ta.length<10}function YD(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function bw(r){return ha(r)&&!ps(r).x_()&&r.Ta.length>0}function ww(r){ps(r).start()}async function KD(r){ps(r).ra()}async function QD(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function XD(r,e,n){const s=r.Ta.shift(),o=Zp.from(s,e,n);await Tw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await cf(r)}async function JD(r,e){e&&ps(r).X_&&await(async function(s,o){if((function(h){return Ox(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await Tw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(r,e),bw(r)&&ww(r)}async function NE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(aa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await vu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function WD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:qD.bind(null,r),t_:FD.bind(null,r),r_:HD.bind(null,r),H_:GD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ug(r)?lg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ew(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new kD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KD.bind(null,r),r_:JD.bind(null,r),ta:QD.bind(null,r),na:XD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await cf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new cg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Ro(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class xE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new vo(e,n,ho.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ZD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eO{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=DE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function DE(){return new ca((r=>Hb(r)),nf)}async function Aw(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ZD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=hg(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&fg(n)}async function Sw(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&fg(n)}function nO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function fg(r){r.Ca.forEach((e=>{e.next()}))}var gp,OE;(OE=gp||(gp={})).Ma="default",OE.Cache="cache";class Rw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gp.Cache}}class Cw{constructor(e){this.key=e}}class Iw{constructor(e){this.key=e}}class iO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Gb(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new xE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),U=rf(this.query,T)?T:null,G=!!S&&this.mutatedKeys.has(S.key),F=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let L=!1;S&&U?S.data.isEqual(U.data)?G!==F&&(s.track({type:3,doc:U}),L=!0):this.su(S,U)||(s.track({type:2,doc:U}),L=!0,(p&&this.eu(U,p)>0||g&&this.eu(U,g)<0)&&(m=!0)):!S&&U?(s.track({type:0,doc:U}),L=!0):S&&!U&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(m=!0)),L&&(U?(h=h.add(U),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(U,G){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:L})}};return F(U)-F(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new vo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Iw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Cw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class rO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sO{constructor(e){this.key=e,this.hu=!1}}class aO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((m=>Hb(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new ng,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oO(r,e,n=!0){const s=Vw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Nw(s,e,n,!0),o}async function lO(r,e){const n=Vw(r);await Nw(n,e,!0,!1)}async function Nw(r,e,n,s){const o=await ID(r.localStore,Mi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await uO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&_w(r.remoteStore,o),m}async function uO(r,e,n,s,o){r.pu=(T,S,U)=>(async function(F,L,te,ne){let ie=L.view.ru(te);ie.Cs&&(ie=await AE(F.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,ie))));const me=ne&&ne.targetChanges.get(L.targetId),ve=ne&&ne.targetMismatches.get(L.targetId)!=null,Te=L.view.applyChanges(ie,F.isPrimaryClient,me,ve);return VE(F,L.targetId,Te.au),Te.snapshot})(r,T,S,U);const u=await AE(r.localStore,e,!0),h=new iO(e,u.Qs),m=h.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);VE(r,n,g.au);const E=new rO(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function cO(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!nf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ag(s.remoteStore,o.targetId),yp(s,o.targetId)})).catch(So)):(yp(s,o.targetId),await mp(s.localStore,o.targetId,!0))}async function hO(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ag(n.remoteStore,s.targetId))}async function fO(r,e,n){const s=vO(r);try{const o=await(function(h,m){const p=Ae(h),g=it.now(),E=m.reduce(((U,G)=>U.add(G.key)),Ue());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let G=yr(),F=Ue();return p.Ns.getEntries(U,E).next((L=>{G=L,G.forEach(((te,ne)=>{ne.isValidDocument()||(F=F.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,G))).next((L=>{T=L;const te=[];for(const ne of m){const ie=Cx(ne,T.get(ne.key).overlayedDocument);ie!=null&&te.push(new Es(ne.key,ie,Pb(ie.value.mapValue),ti.exists(!0)))}return p.mutationQueue.addMutationBatch(U,g,te,m)})).next((L=>{S=L;const te=L.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(U,L.batchId,te)}))})).then((()=>({batchId:S.batchId,changes:Yb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Eu(s,o.changes),await cf(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function xw(r,e){const n=Ae(r);try{const s=await SD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))})),await Eu(n,s,e)}catch(s){await So(s)}}function ME(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&fg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(de.comparator);h=h.insert(u,Wt.newNoDocument(u,be.min()));const m=Ue().add(u),p=new of(be.min(),new Map,new ut(Ve),h,m);await xw(s,p),s.du=s.du.remove(u),s.Au.delete(e),mg(s)}else await mp(s.localStore,e,!1).then((()=>yp(s,e,n))).catch(So)}async function mO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await AD(n.localStore,e);Ow(n,s,null),Dw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await So(o)}}async function pO(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(He(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Ow(s,e,n),Dw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await So(o)}}function Dw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Ow(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function yp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Mw(r,s)}))}function Mw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ag(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),mg(r))}function VE(r,e,n){for(const s of n)s instanceof Cw?(r.Ru.addReference(s.key,e),gO(r,s)):s instanceof Iw?(le(dg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Mw(r,s.key)):_e(19791,{wu:s})}function gO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(dg,"New document in limbo: "+n),r.Eu.add(s),mg(r))}function mg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new sO(n)),r.du=r.du.insert(n,s),_w(r.remoteStore,new is(Mi(Xp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Eu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=rg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(S=>ee.forEach(S.Es,(U=>E.persistence.referenceDelegate.addReference(T,S.targetId,U))).next((()=>ee.forEach(S.ds,(U=>E.persistence.referenceDelegate.removeReference(T,S.targetId,U)))))))))}catch(T){if(!Ro(T))throw T;le(sg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const U=E.Ms.get(S),G=U.snapshotVersion,F=U.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,F)}}})(s.localStore,u))}async function yO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(dg,"User change. New user:",e.toKey());const s=await mw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ls)}}function _O(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Vw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dO.bind(null,e),e.Pu.H_=tO.bind(null,e.eventManager),e.Pu.yu=nO.bind(null,e.eventManager),e}function vO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pO.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wD(this.persistence,new ED,e.initialUser,this.serializer)}Cu(e){return new dw(ig.mi,this.serializer)}Du(e){return new xD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class EO extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new dw((s=>Lh.mi(s,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eO})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=(function(u){return new UD(u)})(e.databaseInfo);return(function(u,h,m,p){return new jD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new BD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ME(this.syncEngine,n,0)),(function(){return CE.v()?new CE:new DD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new aO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(aa,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gs="FirestoreClient";class TO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),le(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await mw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function UE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await bO(r);le(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>NE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>NE(e.remoteStore,o))),r._onlineComponents=e}async function bO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(gs,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new zh)}}else le(gs,"Using default OfflineComponentProvider"),await Um(r,new EO(void 0));return r._offlineComponents}async function Pw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(gs,"Using user provided OnlineComponentProvider"),await UE(r,r._uninitializedComponentsProvider._online)):(le(gs,"Using default OnlineComponentProvider"),await UE(r,new _p))),r._onlineComponents}function wO(r){return Pw(r).then((e=>e.syncEngine))}async function kw(r){const e=await Pw(r),n=e.eventManager;return n.onListen=oO.bind(null,e.syncEngine),n.onUnlisten=cO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),n}function AO(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Uw({next:S=>{E.Nu(),h.enqueueAndForget((()=>Sw(u,T)));const U=S.docs.has(m);!U&&S.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&S.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Rw(Xp(m.path),E,{includeMetadataChanges:!0,qa:!0});return Aw(u,T)})(await kw(r),r.asyncQueue,e,n,s))),s.promise}function SO(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Uw({next:S=>{E.Nu(),h.enqueueAndForget((()=>Sw(u,T))),S.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Rw(m,E,{includeMetadataChanges:!0,qa:!0});return Aw(u,T)})(await kw(r),r.asyncQueue,e,n,s))),s.promise}function Lw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const PE=new Map;const jw="firestore.googleapis.com",kE=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jw,this.ssl=kE}else this.host=e.host,this.ssl=e.ssl??kE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new DN;switch(s.type){case"firstParty":return new UN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=PE.get(n);s&&(le("ComponentProvider","Removing Datastore"),PE.delete(n),s.terminate())})(this),Promise.resolve()}}function RO(r,e,n,s={}){r=ki(r,hf);const o=oa(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Np(`https://${m}`),xp("Firestore",!0)),u.host!==jw&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=NT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new ON(new Ab(g,E))}}class fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,yt._jsonSchema))return new yt(e,s||null,new de(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class us extends fa{constructor(e,n,s){super(e,n,Xp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new de(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function zw(r,e,...n){if(r=Ut(r),Sb("collection","path",e),r instanceof hf){const s=et.fromString(e,...n);return J0(s),new us(r,null,s)}{if(!(r instanceof yt||r instanceof us))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return J0(s),new us(r.firestore,null,s)}}function rs(r,e,...n){if(r=Ut(r),arguments.length===1&&(e=Hp.newId()),Sb("doc","path",e),r instanceof hf){const s=et.fromString(e,...n);return X0(s),new yt(r,null,new de(s))}{if(!(r instanceof yt||r instanceof us))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return X0(s),new yt(r.firestore,r instanceof us?r.converter:null,new de(s))}}const jE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gw(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&le(jE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;le(jE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",BE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class No extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function CO(r,e){const n=typeof r=="object"?r:Mp(),s=typeof r=="string"?r:Oh,o=Kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=RT("firestore");u&&RO(o,...u)}return o}function pg(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IO(r),r._firestoreClient}function IO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new WN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Lw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new TO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Kt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Nt("string",Ui._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),vectorValues:Nt("object")};const NO=/^__.*__$/;class xO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class Bw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class yg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qw(this.Ac)&&NO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}Cc(e,n,s,o=!1){return new yg({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(r){const e=r._freezeSettings(),n=lf(r._databaseId);return new DO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function OO(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);vg("Data must be an object, but it was:",h,s);const m=Fw(s,h);let p,g;if(u.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=vp(e,T,n);if(!h.contains(S))throw new oe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Gw(E,S)||E.push(S)}p=new An(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new xO(new dn(m),p,g)}class df extends gg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}function MO(r,e,n,s){const o=r.Cc(1,e,n);vg("Data must be an object, but it was:",o,s);const u=[],h=dn.empty();vs(s,((p,g)=>{const E=Eg(e,p,n);g=Ut(g);const T=o.yc(E);if(g instanceof df)u.push(E);else{const S=Tu(g,T);S!=null&&(u.push(E),h.set(E,S))}}));const m=new An(u);return new Bw(h,m,o.fieldTransforms)}function VO(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[vp(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(vp(e,u[S])),p.push(u[S+1]);const g=[],E=dn.empty();for(let S=m.length-1;S>=0;--S)if(!Gw(g,m[S])){const U=m[S];let G=p[S];G=Ut(G);const F=h.yc(U);if(G instanceof df)g.push(U);else{const L=Tu(G,F);L!=null&&(g.push(U),E.set(U,L))}}const T=new An(g);return new Bw(E,T,h.fieldTransforms)}function UO(r,e,n,s=!1){return Tu(n,r.Cc(s?4:3,e))}function Tu(r,e){if(Hw(r=Ut(r)))return vg("Unsupported field value:",e,r),Fw(r,e);if(r instanceof gg)return(function(s,o){if(!qw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Tu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Tx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:sw(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(h,m){return{mapValue:{fields:{[Vb]:{stringValue:Ub},[Mh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(r,e)}function Fw(r,e){const n={};return Ib(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,o)=>{const u=Tu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Hw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ui||r instanceof zn||r instanceof yt||r instanceof gg||r instanceof Pi)}function vg(r,e,n){if(!Hw(n)||!Rb(n)){const s=Wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function vp(r,e,n){if((e=Ut(e))instanceof ff)return e._internalPath;if(typeof e=="string")return Eg(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function Eg(r,e,n){if(e.search(PO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+r+p)}function Gw(r,e){return r.some((n=>n.isEqual(e)))}class $w{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kO extends $w{data(){return super.data()}}function Tg(r,e){return typeof e=="string"?Eg(r,e):e instanceof ff?e._internalPath:e._delegate._internalPath}function LO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class Yw extends bg{}function Kw(r,e,...n){let s=[];e instanceof bg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Ag)).length,m=u.filter((p=>p instanceof wg)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class wg extends Yw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new wg(e,n,s)}_apply(e){const n=this._parse(e);return Xw(e._query,n),new fa(e.firestore,e.converter,lp(e._query,n))}_parse(e){const n=_g(e.firestore);return(function(u,h,m,p,g,E,T){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){FE(T,E);const G=[];for(const F of T)G.push(qE(p,u,F));S={arrayValue:{values:G}}}else S=qE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||FE(T,E),S=UO(m,h,T,E==="in"||E==="not-in");return It.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ag extends bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ag(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Xw(h,p),h=lp(h,p)})(e._query,n),new fa(e.firestore,e.converter,lp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends Yw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(u,h)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Qw(r,e="asc"){const n=e,s=Tg("orderBy",r);return Sg._create(s,n)}function qE(r,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sE(r,new de(s))}if(n instanceof yt)return sE(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function FE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xw(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jO{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new Ui(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(hw(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function zO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends $w{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Nt("string",ea._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Th extends ea{data(e={}){return super.data(e)}}class fo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:BO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function ss(r){r=ki(r,yt);const e=ki(r.firestore,No);return AO(pg(e),r._key).then((n=>qO(e,r,n)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Nt("string",fo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Jw extends jO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Ww(r){r=ki(r,fa);const e=ki(r.firestore,No),n=pg(e),s=new Jw(e);return LO(r._query),SO(n,r._query).then((o=>new fo(e,s,r,o)))}function Zw(r,e,n){r=ki(r,yt);const s=ki(r.firestore,No),o=zO(r.converter,e);return Rg(s,[OO(_g(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ti.none())])}function eA(r,e,n,...s){r=ki(r,yt);const o=ki(r.firestore,No),u=_g(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof ff?VO(u,"updateDoc",r._key,e,n,s):MO(u,"updateDoc",r._key,e),Rg(o,[h.toMutation(r._key,ti.exists(!0))])}function tA(r){return Rg(ki(r.firestore,No),[new Wp(r._key,ti.none())])}function Rg(r,e){return(function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget((async()=>fO(await wO(s),o,u))),u.promise})(pg(r),e)}function qO(r,e,n){const s=n.docs.get(e._key),o=new Jw(r);return new ea(r,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ao=o})(la),na(new cs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new No(new MN(s.getProvider("auth-internal")),new PN(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),xi($0,Y0,e),xi($0,Y0,"esm2020")})();const nA="firebasestorage.googleapis.com",FO="storageBucket",HO=120*1e3,GO=600*1e3;class Bi extends zi{constructor(e,n,s=0){super(Pm(e),`Firebase Storage: ${n} (${Pm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ji;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ji||(ji={}));function Pm(r){return"storage/"+r}function $O(){const r="An unknown error occurred, please check the error payload for server response.";return new Bi(ji.UNKNOWN,r)}function YO(){return new Bi(ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KO(){return new Bi(ji.CANCELED,"User canceled the upload/download.")}function QO(r){return new Bi(ji.INVALID_URL,"Invalid URL '"+r+"'.")}function XO(r){return new Bi(ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function HE(r){return new Bi(ji.INVALID_ARGUMENT,r)}function iA(){return new Bi(ji.APP_DELETED,"The Firebase app was deleted.")}function JO(r){return new Bi(ji.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(s.path==="")return s;throw XO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(me){me.path_=decodeURIComponent(me.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",U=new RegExp(`^https?://${T}/${E}/b/${o}/o${S}`,"i"),G={bucket:1,path:3},F=n===nA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",te=new RegExp(`^https?://${F}/${o}/${L}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:U,indices:G,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let me=0;me<ie.length;me++){const ve=ie[me],Te=ve.regex.exec(e);if(Te){const x=Te[ve.indices.bucket];let R=Te[ve.indices.path];R||(R=""),s=new ei(x,R),ve.postModify(s);break}}if(s==null)throw QO(e);return s}}class WO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,r(U,p())},L)}function S(){u&&clearTimeout(u)}function U(L,...te){if(g){S();return}if(L){S(),E.call(null,L,...te);return}if(p()||h){S(),E.call(null,L,...te);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let G=!1;function F(L){G||(G=!0,S(),!g&&(o!==null?(L||(m=2),clearTimeout(o),T(0)):L||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,F(!0)},n),F}function e4(r){r(!1)}function t4(r){return r!==void 0}function GE(r,e,n,s){if(s<e)throw HE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw HE(`Invalid value for '${r}'. Expected ${n} or less.`)}function n4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var qh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qh||(qh={}));function i4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class r4{constructor(e,n,s,o,u,h,m,p,g,E,T,S=!0,U=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,F)=>{this.resolve_=G,this.reject_=F,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new rh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===qh.NO_ERROR,p=u.getStatus();if(!m||i4(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===qh.ABORT;s(!1,new rh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new rh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());t4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=$O();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?iA():KO();h(p)}else{const p=YO();h(p)}};this.canceled_?n(!1,new rh(!1,null,!0)):this.backoffId_=ZO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function s4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function a4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function l4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function u4(r,e,n,s,o,u,h=!0,m=!1){const p=n4(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return o4(E,e),s4(E,n),a4(E,u),l4(E,s),new r4(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function c4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function h4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class Fh{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fh(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h4(this._location.path)}get storage(){return this._service}get parent(){const e=c4(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Fh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JO(e)}}function $E(r,e){const n=e?.[FO];return n==null?null:ei.makeFromBucketSpec(n,r)}function f4(r,e,n,s={}){r.host=`${e}:${n}`;const o=oa(e);o&&(Np(`https://${r.host}/b`),xp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:NT(u,r.app.options.projectId))}class d4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=nA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HO,this._maxUploadRetryTime=GO,this._requests=new Set,o!=null?this._bucket=ei.makeFromBucketSpec(o,this._host):this._bucket=$E(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=$E(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new WO(iA());{const h=u4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const YE="@firebase/storage",KE="0.14.0";const rA="storage";function m4(r=Mp(),e){r=Ut(r);const s=Kh(r,rA).getImmediate({identifier:e}),o=RT("storage");return o&&p4(s,...o),s}function p4(r,e,n,s={}){f4(r,e,n,s)}function g4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new d4(n,s,o,e,la)}function y4(){na(new cs(rA,g4,"PUBLIC").setMultipleInstances(!0)),xi(YE,KE,""),xi(YE,KE,"esm2020")}y4();const _4={apiKey:"AIzaSyDk9twIdV6EXdWiuko0fYRtEv2yMaD-wPo",authDomain:"bubbles-lims.firebaseapp.com",projectId:"bubbles-lims",storageBucket:"bubbles-lims.firebasestorage.app",messagingSenderId:"103191297116",appId:"1:103191297116:web:9bc8a21a35799092f3ba99"},Cg=OT(_4),mf=qp(Cg),Ni=CO(Cg);m4(Cg);new or;const v4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),QE=r=>{const e=E4(r);return e.charAt(0).toUpperCase()+e.slice(1)},sA=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),T4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var b4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w4=q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>q.createElement("svg",{ref:p,...b4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:sA("lucide",o),...!u&&!T4(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>q.createElement(g,E)),...Array.isArray(u)?u:[u]]));const vr=(r,e)=>{const n=q.forwardRef(({className:s,...o},u)=>q.createElement(w4,{ref:u,iconNode:e,className:sA(`lucide-${v4(QE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=QE(r),n};const A4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ig=vr("layout-dashboard",A4);const S4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],R4=vr("log-in",S4);const C4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aA=vr("log-out",C4);const I4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XE=vr("mail",I4);const N4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],oA=vr("pencil",N4);const x4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JE=vr("phone",x4);const D4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ng=vr("settings",D4);const O4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ou=vr("users",O4);const M4=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],xg=vr("washing-machine",M4);function V4(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[h,m]=q.useState(!1),p=Gh(),g=async E=>{E.preventDefault(),m(!0),u("");try{await mI(mf,r,n),p("/")}catch(T){console.error(T),u("Failed to sign in. Please check your credentials.")}finally{m(!1)}};return A.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:A.jsxs("div",{className:"max-w-md w-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 rounded-xl shadow-lg p-6 space-y-6",children:[A.jsxs("div",{className:"text-center py-6 space-y-2",children:[A.jsx("div",{className:"mx-auto h-20 w-20 flex items-center",children:A.jsx("img",{src:"/logo.png"})}),A.jsx("h2",{className:"text-6xl text-cyan-400 font-bubble",children:"BUBBLES"}),A.jsx("p",{className:"text-sm text-cyan-200",children:"Laundry Information Management System"})]}),o&&A.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm text-center",children:o}),A.jsxs("form",{onSubmit:g,className:"pb-6 space-y-6",children:[A.jsx("div",{children:A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:E=>e(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),A.jsx("div",{children:A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:E=>s(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),A.jsx("div",{children:A.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 border border-transparent text-white font-medium py-3 px-4 rounded-lg hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h?A.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):A.jsx(R4,{className:"h-5 w-5"}),"Sign in"]})})]}),A.jsxs("div",{className:"text-center text-xs text-cyan-400 mt-6",children:[" ",new Date().getFullYear()," Bubbles LIMS"]})]})})}function U4(){const[r,e]=q.useState([]),n=50,s=o=>{const u=["bg-blue-400","bg-blue-500","bg-cyan-400","bg-teal-400","bg-blue-800","bg-white"],h=["opacity-20","opacity-30","opacity-40","opacity-50"];return{id:o,x:1+Math.random()*99,y:110+Math.random()*20,size:10+Math.random()*100,color:u[Math.floor(Math.random()*u.length)],opacity:h[Math.floor(Math.random()*h.length)],speed:.2+Math.random()*.3,wobble:Math.random()*2-1,wobbleSpeed:.01+Math.random()*.02}};return q.useEffect(()=>{const o=[];for(let p=0;p<n;p++){const g=s(p);g.y=Math.random()*120,o.push(g)}e(o);let u,h=0;const m=p=>{const g=p-h;g>16&&(h=p,e(E=>E.map(T=>{const S=T.y-T.speed*g/50;if(S<-10)return s(T.id);const U=T.wobble+T.wobbleSpeed,G=T.x+Math.sin(U)*.05;return{...T,x:G,y:S,wobble:U}}))),u=requestAnimationFrame(m)};return u=requestAnimationFrame(m),()=>{cancelAnimationFrame(u)}},[]),A.jsx("div",{className:"relative w-full h-screen overflow-hidden bg-gradient-to-b from-blue-900 to-blue-950",children:r.map(o=>A.jsx("div",{className:`absolute rounded-full ${o.color} ${o.opacity}`,style:{left:`${o.x}%`,bottom:`${100-o.y}%`,width:`${o.size}px`,height:`${o.size}px`,boxShadow:"0 0 8px rgba(255, 255, 255, 0.2)",transform:"translate(-50%, 50%)"}},o.id))})}const P4=[{name:"Dashboard",href:"/",icon:Ig},{name:"Clients",href:"/client",icon:xg},{name:"Jobs",href:"/jobs",icon:ou},{name:"Staff",href:"/staff",icon:ou},{name:"Settings",href:"/settings",icon:Ng}];function k4(){const r=()=>{mf.signOut()};return A.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 border-r border-cyan-500 w-64",children:[A.jsxs("div",{className:"flex items-center gap-3 px-6 h-16",children:[A.jsx("div",{className:"h-12 w-12",children:A.jsx("img",{src:"/logo.png"})}),A.jsx("span",{className:" text-cyan-50 font-thin font-bubble text-3xl",children:"BUBBLES"})]}),A.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:P4.map(e=>A.jsxs(Ip,{to:e.href,className:({isActive:n})=>`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-cyan-500/50 text-cyan-100":"text-cyan-100 hover:bg-cyan-200/50 hover:text-cyan-900"}`,children:[A.jsx(e.icon,{className:"h-5 w-5"}),e.name]},e.name))}),A.jsx("div",{className:"p-4 ",children:A.jsxs("button",{onClick:r,className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-cyan-50 rounded-md bg-cyan-500/50 hover:bg-cyan-600/50 w-full transition-colors",children:[A.jsx(aA,{className:"h-5 w-5"}),"Sign Out"]})})]})}const L4=[{name:"Dashboard",href:"/",icon:Ig},{name:"Jobs",href:"/jobs",icon:xg},{name:"Staff",href:"/staff",icon:ou},{name:"Settings",href:"/settings",icon:Ng}];function j4(){const r=()=>{mf.signOut()};return A.jsx("div",{className:"fixed inset-x-0 bottom-0 z-30 border-t border-cyan-800 bg-gradient-to-t from-blue-900/80 to-blue-500/90 md:hidden",children:A.jsxs("div",{className:"flex h-16 justify-around",children:[L4.map(e=>A.jsxs(Ip,{to:e.href,className:({isActive:n})=>`flex w-full flex-col items-center justify-center gap-1 text-xs font-medium transition-colors ${n?"text-cyan-400 bg-blue-500/20":"text-cyan-500 hover:bg-cyan-50/20 hover:text-cyan-100"}`,children:[A.jsx(e.icon,{className:"h-5 w-5"}),A.jsx("span",{children:e.name})]},e.name)),A.jsxs("button",{onClick:r,className:"flex w-full flex-col items-center justify-center gap-1 text-xs font-medium transition-colors text-cyan-500 hover:bg-cyan-50/20 hover:text-cyan-100",children:[A.jsx(aA,{className:"h-5 w-5"}),"Sign Out"]})]})})}function z4(){return A.jsxs(A.Fragment,{children:[A.jsx(j4,{}),A.jsxs("div",{className:"flex min-h-screen flex-col",children:[A.jsx("div",{className:"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col",children:A.jsx(k4,{})}),A.jsx("div",{className:"flex flex-1 flex-col md:pl-64",children:A.jsx("main",{className:"flex-1",children:A.jsx("div",{className:"",children:A.jsx("div",{className:"mx-auto max-w-8xl",children:A.jsx(Q1,{})})})})})]})]})}function B4(){return A.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[A.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Admin Dashboard"}),A.jsx("p",{className:"text-gray-500",children:"General dashboard widgets will be managed here in the future."})]})}function q4(){return A.jsxs("div",{className:"max-w-8xl mx-auto",children:[A.jsx("div",{className:"bg-blue-800/40 p-4",children:A.jsxs("div",{className:"flex items-center gap-2 ",children:[A.jsx(Ig,{className:"h-6 w-6 text-cyan-400"}),A.jsx("h1",{className:"text-2xl font-bold text-cyan-500 uppercase",children:"Dashboard"})]})}),A.jsx("div",{className:"p-4",children:A.jsx(B4,{})})]})}const sh={async getAllUsers(){try{console.log("Fetching all users for search...");const r=Kw(zw(Ni,"users"),Qw("uid"));return(await Ww(r)).docs.map(s=>({uid:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all users:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(r){try{console.log(`Fetching user with uid: ${r}`);const e=await ss(rs(Ni,"users",r));if(!e.exists())throw new Error(`User with uid ${r} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(r){const e=qp();let n;try{return console.log("Creating new user with authentication:",r.email),n=(await sb(e,r.email,r.password)).user,await Zw(rs(Ni,"users",n.uid),{uid:n.uid,name:r.name,email:r.email,phone:r.phone,role:r.role}),console.log("User created successfully with uid:",n.uid),{uid:n.uid,name:r.name,email:r.email,phone:r.phone,role:r.role}}catch(s){if(console.error("Firebase error adding user:",s),n)try{await ab(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=s instanceof Error?s.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(r,e){try{console.log(`Updating user ${r}:`,e);const n=rs(Ni,"users",r);if(!(await ss(n)).exists())throw new Error(`User with uid ${r} not found`);await eA(n,e);const o=await ss(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${s}`)}},async deleteUser(r){try{console.log(`Deleting user with uid: ${r}`);const e=rs(Ni,"users",r);if(!(await ss(e)).exists())throw new Error(`User with uid ${r} not found`);await tA(e),console.log(`User ${r} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}};function lA({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=q.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",role:r?.role||"operator",password:"",confirmPassword:""}),[m,p]=q.useState(!1),g=async E=>{if(E.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}p(!0);try{const T={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(T)}finally{p(!1)}};return A.jsxs("form",{onSubmit:g,className:"space-y-4 ",autoComplete:"off",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Name *"}),A.jsx("input",{type:"text",id:"name",value:u.name,onChange:E=>h({...u,name:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"off",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Email *"}),A.jsx("input",{type:"email",id:"email",value:u.email,onChange:E=>h({...u,email:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-email",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Phone"}),A.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:E=>h({...u,phone:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-phone"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Role *"}),A.jsxs("select",{id:"role",value:u.role,onChange:E=>h({...u,role:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[A.jsx("option",{value:"owner",children:"Owner"}),A.jsx("option",{value:"manager",children:"Manager"}),A.jsx("option",{value:"operator",children:"Operator"}),A.jsx("option",{value:"driver",children:"Driver"}),A.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Password *"}),A.jsx("input",{type:"password",id:"password",value:u.password,onChange:E=>h({...u,password:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Confirm Password *"}),A.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:E=>h({...u,confirmPassword:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[A.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":s}),A.jsx("button",{type:"button",onClick:n,disabled:m,className:"flex-1 px-4 py-2 bg-gradient-to-t from-gray-400 to-gray-200 text-gray-700 rounded hover:from-gray-300 hover:to-gray-100 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})}function F4({user:r,isEditing:e,onEdit:n,onUpdate:s,onCancelEdit:o}){const u=m=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[m],h=(m,p)=>{const g=m.split(" "),E=g[0]?g[0][0]:"";return A.jsx("div",{className:`rounded-full h-12 w-12 flex items-center justify-center ${u(p)}`,children:A.jsx("span",{className:`font-light text-2xl ${u(p)}`,children:E})})};return e?A.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500",children:[A.jsx("div",{className:"flex-1 min-w-0 pb-4",children:A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("div",{children:h(r.name,r.role)}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-medium text-cyan-400",children:r.name}),A.jsx("span",{className:`inline-block px-1 text-xs font-medium rounded ${u(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),A.jsx(lA,{initialData:{name:r.name,email:r.email,role:r.role},onSubmit:s,onCancel:o,submitLabel:"Update",isEditMode:!0})]}):A.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",children:A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 cursor-pointer",children:[A.jsx("div",{className:"flex-1 min-w-0",children:A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("div",{children:h(r.name,r.role)}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-base font-medium text-white truncate",children:r.name}),A.jsx("span",{className:`inline-block px-1 text-xs font-medium rounded ${u(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),A.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto",children:A.jsxs("button",{onClick:n,className:"flex-1 sm:flex-none px-3 py-2 bg-blue-800/50 text-cyan-500 text-sm border border-cyan-500 hover:bg-blue-600/50 hover:text-cyan-500 cursor-pointer rounded-md flex items-center justify-center gap-1",title:"Edit user",children:[A.jsx(oA,{className:"w-5 h-5"}),A.jsx("span",{className:"sm:hidden",children:"Edit"})]})})]})})}function H4(){const[r,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(null),[h,m]=q.useState(null),[p,g]=q.useState(!1);q.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0),u(null);const G=await sh.getAllUsers();e(G)}catch(G){const F=G instanceof Error?G.message:"Failed to load users";u(F)}finally{s(!1)}},T=async G=>{try{if(u(null),!G.password)throw new Error("Password is required for new users");await sh.addUser({...G,password:G.password}),await E(),g(!1)}catch(F){const L=F instanceof Error?F.message:"Failed to add user";u(L)}},S=async(G,F)=>{try{u(null);const{password:L,...te}=F;await sh.updateUser(G,te),await E(),m(null)}catch(L){const te=L instanceof Error?L.message:"Failed to update user";u(te)}},U=async G=>{if(window.confirm("Are you sure you want to delete this user?"))try{u(null),await sh.deleteUser(G),await E()}catch(F){const L=F instanceof Error?F.message:"Failed to delete user";u(L)}};return n?A.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:A.jsx("p",{className:"text-gray-500 text-center",children:"Loading users..."})}):A.jsxs("div",{className:"",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[A.jsx("div",{}),A.jsx("button",{onClick:()=>g(!p),className:"px-4 py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 transition-colors w-full sm:w-auto",children:p?"Cancel":"Add User"})]}),o&&A.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:o}),p&&A.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[A.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[A.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:A.jsx("span",{className:"font-light text-2xl",children:"N"})}),A.jsx("div",{children:A.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),A.jsx(lA,{onSubmit:T,onCancel:()=>g(!1)})]}),r.length===0?A.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users found. Add your first user to get started."}):A.jsx("div",{className:"space-y-3",children:r.map(G=>A.jsx(F4,{user:G,isEditing:h?.uid===G.uid,onEdit:()=>m(G),onDelete:()=>U(G.uid),onUpdate:F=>S(G.uid,F),onCancelEdit:()=>m(null)},G.uid))})]})}function G4(){return A.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[A.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"General Settings"}),A.jsx("p",{className:"text-gray-500",children:"General application settings will be managed here in the future."})]})}function $4(){const[r]=RR(),[e,n]=q.useState(()=>{const u=r.get("tab");return u==="general"||u==="users"?u:"general"}),s=[{id:"general",name:"General"},{id:"users",name:"Users"}],o=u=>{e!==u&&n(u)};return A.jsx("div",{className:"",children:A.jsxs("div",{className:"p-4",children:[A.jsx("div",{className:"border-b border-cyan-200 mb-4",children:A.jsx("nav",{className:"-mb-px flex","aria-label":"Tabs",children:s.map(u=>A.jsx("button",{onClick:()=>o(u.id),className:`${e===u.id?"border-cyan-400 text-cyan-400 bg-blue-700/20":"border-transparent text-cyan-400 hover:text-cyan-500 hover:border-cyan-300 bg-blue-900/20"}  py-3 px-6 border-b-2 font-medium text-sm transition-colors`,"aria-current":e===u.id?"page":void 0,children:u.name},u.id))})}),A.jsxs("div",{children:[e==="general"&&A.jsx(G4,{}),e==="users"&&A.jsx(H4,{})]})]})})}const pf={page:"max-w-8xl mx-auto",header:"h-[8vh] md:h-[7vh]",title:"flex items-center gap-2 h-full p-4",content:"max-h-[82vh] overflow-y-scroll"},gf={header:"bg-blue-700/40",title_text:"text-2xl font-bold text-cyan-500",title_icon:"h-6 w-6 text-cyan-500"},hn={card:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",header:"flex flex-row items-center justify-between gap-2",title:"flex-1 min-w-0",selection:"relative w-full h-12 cursor-pointer",list_content:"my-4 p-2 text-cyan-500 space-y-2 text-sm",icon_list:"flex gap-2 items-center",tags:"inline-block px-1 text-xs font-medium rounded",name:"text-base font-medium text-white",selected_name:"text-xl font-bold text-cyan-400",contact_grid:"grid grid-cols-3 gap-1 items-center "},Y4={profile_initial:"rounded-full h-12 w-12 flex items-center justify-center font-light text-2xl"},km={contact_button:"p-2 border border-cyan-500 hover:border-cyan-300 hover:bg-blue-600/50 text-cyan-500 hover:text-cyan-300 cursor-pointer rounded-md"},Lm={error:"text-red-700 text-center py-8",notice:"text-cyan-400 text-center py-8"},K4="Settings",Q4=Ng,ah=pf,jm=gf;function X4(){return A.jsxs("div",{className:`${ah.page}`,children:[A.jsx("div",{className:`${ah.header} ${jm.header}`,children:A.jsxs("div",{className:`${ah.title}`,children:[A.jsx(Q4,{className:`${jm.title_icon}`}),A.jsx("h1",{className:`${jm.title_text}`,children:K4})]})}),A.jsx("div",{className:`${ah.content}`,children:A.jsx($4,{})})]})}const zm={async getAllUsers(){try{console.log("Fetching all users for search...");const r=Kw(zw(Ni,"users"),Qw("uid"));return(await Ww(r)).docs.map(s=>({uid:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all users:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(r){try{console.log(`Fetching user with uid: ${r}`);const e=await ss(rs(Ni,"users",r));if(!e.exists())throw new Error(`User with uid ${r} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(r){const e=qp();let n;try{return console.log("Creating new user with authentication:",r.email),n=(await sb(e,r.email,r.password)).user,await Zw(rs(Ni,"users",n.uid),{uid:n.uid,name:r.name,email:r.email,role:r.role}),console.log("User created successfully with uid:",n.uid),{uid:n.uid,name:r.name,email:r.email,role:r.role}}catch(s){if(console.error("Firebase error adding user:",s),n)try{await ab(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=s instanceof Error?s.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(r,e){try{console.log(`Updating user ${r}:`,e);const n=rs(Ni,"users",r);if(!(await ss(n)).exists())throw new Error(`User with uid ${r} not found`);await eA(n,e);const o=await ss(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${s}`)}},async deleteUser(r){try{console.log(`Deleting user with uid: ${r}`);const e=rs(Ni,"users",r);if(!(await ss(e)).exists())throw new Error(`User with uid ${r} not found`);await tA(e),console.log(`User ${r} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}},J4=({className:r})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:r,"aria-hidden":"true",children:A.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})});function uA({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=q.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",role:r?.role||"operator",password:"",confirmPassword:""}),[m,p]=q.useState(!1),g=async E=>{if(E.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}p(!0);try{const T={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(T)}finally{p(!1)}};return A.jsxs("form",{onSubmit:g,className:"space-y-4 ",autoComplete:"off",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Name *"}),A.jsx("input",{type:"text",id:"name",value:u.name,onChange:E=>h({...u,name:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"off",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Email *"}),A.jsx("input",{type:"email",id:"email",value:u.email,onChange:E=>h({...u,email:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-email",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Phone"}),A.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:E=>h({...u,phone:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-phone"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Role *"}),A.jsxs("select",{id:"role",value:u.role,onChange:E=>h({...u,role:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[A.jsx("option",{value:"owner",children:"Owner"}),A.jsx("option",{value:"manager",children:"Manager"}),A.jsx("option",{value:"operator",children:"Operator"}),A.jsx("option",{value:"driver",children:"Driver"}),A.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Password *"}),A.jsx("input",{type:"password",id:"password",value:u.password,onChange:E=>h({...u,password:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-cyan-500 mb-1",children:"Confirm Password *"}),A.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:E=>h({...u,confirmPassword:E.target.value}),className:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[A.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":s}),A.jsx("button",{type:"button",onClick:n,disabled:m,className:"flex-1 px-4 py-2 bg-gradient-to-t from-gray-400 to-gray-200 text-gray-700 rounded hover:from-gray-300 hover:to-gray-100 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})}function W4({user:r,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const p=E=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[E],g=(E,T)=>{const S=E[0];return A.jsx("div",{className:`${Y4.profile_initial} ${p(T)}`,children:S})};return A.jsxs("div",{className:`${hn.card}`,children:[A.jsxs("div",{className:`${hn.header}`,children:[A.jsx("div",{className:`${hn.title}`,children:A.jsxs("div",{className:`${hn.icon_list}`,children:[A.jsx("div",{children:g(r.name,r.role)}),A.jsxs("div",{children:[e?A.jsx("h3",{className:`${hn.selected_name}`,children:r.name}):A.jsx("h3",{className:`${hn.name}`,children:r.name}),A.jsx("span",{className:`${hn.tags} ${p(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),e?A.jsx("div",{className:`${hn.selection}`,onClick:s}):A.jsx("div",{className:`${hn.selection}`,onClick:n})]}),e&&A.jsxs("div",{className:"",children:[A.jsxs("div",{className:`${hn.list_content}`,children:[A.jsxs("div",{className:`${hn.icon_list}`,children:[A.jsx(XE,{className:"w-4 h-4"}),A.jsx("p",{children:r.email})]}),A.jsxs("div",{className:`${hn.icon_list}`,children:[A.jsx(JE,{className:"w-4 h-4"}),A.jsx("p",{children:r.phone})]})]}),A.jsxs("div",{className:`${hn.contact_grid}`,children:[A.jsx("div",{className:`${km.contact_button}`,children:A.jsx(JE,{className:"w-8 h-8 mx-auto"})}),A.jsx("div",{className:`${km.contact_button}`,children:A.jsx(XE,{className:"w-8 h-8 mx-auto"})}),A.jsx("div",{className:`${km.contact_button}`,children:A.jsx(J4,{className:"w-8 h-8 mx-auto"})})]}),A.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&A.jsxs("button",{onClick:u,className:"py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 transition-colors w-full",title:"Edit User",children:[A.jsx(oA,{className:"w-5 h-5"}),A.jsx("span",{children:"Edit User"})]})}),o&&A.jsx("div",{className:"p-4 bg-blue-800/50 border border-cyan-500 rounded-lg",children:A.jsx(uA,{initialData:{name:r.name,email:r.email,phone:r.phone,role:r.role},onSubmit:h,onCancel:m,submitLabel:"Update",isEditMode:!0})})]})]})}function Z4(){const[r,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(null),[h,m]=q.useState(null),[p,g]=q.useState(null),[E,T]=q.useState(!1);q.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0),u(null);const F=await zm.getAllUsers();e(F)}catch(F){const L=F instanceof Error?F.message:"Failed to load users";u(L)}finally{s(!1)}},U=async F=>{try{if(u(null),!F.password)throw new Error("Password is required for new users");await zm.addUser({...F,password:F.password}),await S(),T(!1)}catch(L){const te=L instanceof Error?L.message:"Failed to add user";u(te)}},G=async(F,L)=>{try{u(null);const{password:te,...ne}=L;await zm.updateUser(F,ne),await S(),g(null)}catch(te){const ne=te instanceof Error?te.message:"Failed to update user";u(ne)}};return n?A.jsx("div",{className:"p-4",children:A.jsx("p",{className:`${Lm.notice}`,children:"Loading..."})}):o?A.jsx("div",{className:"p-4",children:A.jsx("p",{className:`${Lm.error}`,children:o})}):A.jsxs("div",{className:"p-4",children:[!E&&A.jsx("div",{className:"flex mb-4",children:A.jsx("button",{onClick:()=>T(!E),className:"py-2 bg-gradient-to-t from-cyan-700 to-cyan-500 text-white rounded hover:from-cyan-600 hover:to-cyan-400 transition-colors w-full",children:"Add User"})}),E&&A.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[A.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[A.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:A.jsx("span",{className:"font-light text-2xl",children:"N"})}),A.jsx("div",{children:A.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),A.jsx(uA,{onSubmit:U,onCancel:()=>T(!1)})]}),r.length===0?A.jsx("p",{className:`${Lm.notice}`,children:"No staff found. Add your first user to get started."}):A.jsx("div",{className:"space-y-2",children:r.map(F=>A.jsx(W4,{user:F,isViewing:h?.uid===F.uid,onView:()=>m(F),onCancelView:()=>m(null),isEditing:p?.uid===F.uid,onEdit:()=>g(F),onUpdate:L=>G(F.uid,L),onCancelEdit:()=>g(null)},F.uid))})]})}const eM="Laundry Staff",tM=ou,oh=pf,Bm=gf;function nM(){return A.jsxs("div",{className:`${oh.page}`,children:[A.jsx("div",{className:`${oh.header} ${Bm.header}`,children:A.jsxs("div",{className:`${oh.title}`,children:[A.jsx(tM,{className:`${Bm.title_icon}`}),A.jsx("h1",{className:`${Bm.title_text}`,children:eM})]})}),A.jsx("div",{className:`${oh.content}`,children:A.jsx(Z4,{})})]})}function cA({title:r}){const e=hn;return A.jsx("div",{className:"p-4",children:A.jsxs("div",{className:`${e.card}`,children:[A.jsx("h2",{className:`${e.selected_name}`,children:r}),A.jsxs("p",{className:`${e.name}`,children:[r," will be managed here in the future."]})]})})}const WE="Laundry Jobs",iM=xg,lh=pf,qm=gf;function rM(){return A.jsxs("div",{className:`${lh.page}`,children:[A.jsx("div",{className:`${lh.header} ${qm.header}`,children:A.jsxs("div",{className:`${lh.title}`,children:[A.jsx(iM,{className:`${qm.title_icon}`}),A.jsx("h1",{className:`${qm.title_text}`,children:WE})]})}),A.jsx("div",{className:`${lh.content}`,children:A.jsx(cA,{title:WE})})]})}const ZE="Clients",sM=ou,uh=pf,Fm=gf;function aM(){return A.jsxs("div",{className:`${uh.page}`,children:[A.jsx("div",{className:`${uh.header} ${Fm.header}`,children:A.jsxs("div",{className:`${uh.title}`,children:[A.jsx(sM,{className:`${Fm.title_icon}`}),A.jsx("h1",{className:`${Fm.title_text}`,children:ZE})]})}),A.jsx("div",{className:`${uh.content}`,children:A.jsx(cA,{title:ZE})})]})}const oM=({children:r})=>{const{user:e,loading:n}=TT();return n?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?A.jsx(A.Fragment,{children:r}):A.jsx(pT,{to:"/login",replace:!0})};function lM(){return A.jsx(bR,{children:A.jsxs("div",{className:"relative w-full min-h-screen",children:[A.jsx("div",{className:"fixed inset-0 z-0",children:A.jsx(U4,{})}),A.jsx("div",{className:"relative z-10 min-h-screen flex flex-col",children:A.jsxs(J1,{children:[A.jsx(Ci,{path:"/login",element:A.jsx(V4,{})}),A.jsxs(Ci,{path:"/",element:A.jsx(oM,{children:A.jsx(z4,{})}),children:[A.jsx(Ci,{index:!0,element:A.jsx(q4,{})}),A.jsx(Ci,{path:"client",element:A.jsx(aM,{})}),A.jsx(Ci,{path:"staff",element:A.jsx(nM,{})}),A.jsx(Ci,{path:"jobs",element:A.jsx(rM,{})}),A.jsx(Ci,{path:"settings",element:A.jsx(X4,{})}),A.jsx(Ci,{path:"settings/users",element:A.jsx("h1",{className:"text-2xl font-bold text-cyan-500",children:"Users"})})]}),A.jsx(Ci,{path:"*",element:A.jsx(pT,{to:"/",replace:!0})})]})})]})})}const uM=({children:r})=>{const{setUser:e,setLoading:n}=TT();return q.useEffect(()=>{const s=yI(mf,o=>{e(o),n(!1),o?(console.log("User signed in:",o.email),o.getIdToken().then(u=>{console.log("Auth Token retrieved:",u)})):console.log("User signed out")});return()=>s()},[e,n]),A.jsx(A.Fragment,{children:r})};JS.createRoot(document.getElementById("root")).render(A.jsx(kl.StrictMode,{children:A.jsx(uM,{children:A.jsx(lM,{})})}));
