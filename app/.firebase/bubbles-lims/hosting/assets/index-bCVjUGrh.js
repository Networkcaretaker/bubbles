(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function iT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},jl={};var eE;function jA(){if(eE)return jl;eE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var tE;function zA(){return tE||(tE=1,dm.exports=jA()),dm.exports}var E=zA(),mm={exports:{}},Se={};var nE;function BA(){if(nE)return Se;nE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function te(M,Z,oe){this.props=M,this.context=Z,this.refs=L,this.updater=oe||K}te.prototype.isReactComponent={},te.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function re(M,Z,oe){this.props=M,this.context=Z,this.refs=L,this.updater=oe||K}var pe=re.prototype=new ie;pe.constructor=re,U(pe,te.prototype),pe.isPureReactComponent=!0;var Ee=Array.isArray;function we(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,Z,oe){var ce=oe.ref;return{$$typeof:r,type:M,key:Z,ref:ce!==void 0?ce:null,props:oe}}function V(M,Z){return C(M.type,Z,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function j(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return Z[oe]})}var I=/\/+/g;function at(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):Z.toString(36)}function Ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(we,we):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,Z,oe,ce,Te){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(Ne){case"bigint":case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case r:case e:je=!0;break;case T:return je=M._init,Q(je(M._payload),Z,oe,ce,Te)}}if(je)return Te=Te(M),je=ce===""?"."+at(M,0):ce,Ee(Te)?(oe="",je!=null&&(oe=je.replace(I,"$&/")+"/"),Q(Te,Z,oe,"",function(bs){return bs})):Te!=null&&(O(Te)&&(Te=V(Te,oe+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+je)),Z.push(Te)),1;je=0;var Mt=ce===""?".":ce+":";if(Ee(M))for(var ot=0;ot<M.length;ot++)ce=M[ot],Ne=Mt+at(ce,ot),je+=Q(ce,Z,oe,Ne,Te);else if(ot=P(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(ce=M.next()).done;)ce=ce.value,Ne=Mt+at(ce,ot++),je+=Q(ce,Z,oe,Ne,Te);else if(Ne==="object"){if(typeof M.then=="function")return Q(Ot(M),Z,oe,ce,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(M,Z,oe){if(M==null)return M;var ce=[],Te=0;return Q(M,ce,"","",function(Ne){return Z.call(oe,Ne,Te++)}),ce}function ge(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var Be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:ae,forEach:function(M,Z,oe){ae(M,function(){Z.apply(this,arguments)},oe)},count:function(M){var Z=0;return ae(M,function(){Z++}),Z},toArray:function(M){return ae(M,function(Z){return Z})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=w,Se.Children=Ke,Se.Component=te,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=re,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Z,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=U({},M.props),Te=M.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(ce[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=oe;else if(1<Ne){for(var je=Array(Ne),Mt=0;Mt<Ne;Mt++)je[Mt]=arguments[Mt+2];ce.children=je}return C(M.type,Te,ce)},Se.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,Z,oe){var ce,Te={},Ne=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ne=""+Z.key),Z)R.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Z[ce]);var je=arguments.length-2;if(je===1)Te.children=oe;else if(1<je){for(var Mt=Array(je),ot=0;ot<je;ot++)Mt[ot]=arguments[ot+2];Te.children=Mt}if(M&&M.defaultProps)for(ce in je=M.defaultProps,je)Te[ce]===void 0&&(Te[ce]=je[ce]);return C(M,Ne,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=O,Se.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ge}},Se.memo=function(M,Z){return{$$typeof:p,type:M,compare:Z===void 0?null:Z}},Se.startTransition=function(M){var Z=x.T,oe={};x.T=oe;try{var ce=M(),Te=x.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(we,Be)}catch(Ne){Be(Ne)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),x.T=Z}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(M){return x.H.use(M)},Se.useActionState=function(M,Z,oe){return x.H.useActionState(M,Z,oe)},Se.useCallback=function(M,Z){return x.H.useCallback(M,Z)},Se.useContext=function(M){return x.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Z){return x.H.useDeferredValue(M,Z)},Se.useEffect=function(M,Z){return x.H.useEffect(M,Z)},Se.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(M,Z,oe){return x.H.useImperativeHandle(M,Z,oe)},Se.useInsertionEffect=function(M,Z){return x.H.useInsertionEffect(M,Z)},Se.useLayoutEffect=function(M,Z){return x.H.useLayoutEffect(M,Z)},Se.useMemo=function(M,Z){return x.H.useMemo(M,Z)},Se.useOptimistic=function(M,Z){return x.H.useOptimistic(M,Z)},Se.useReducer=function(M,Z,oe){return x.H.useReducer(M,Z,oe)},Se.useRef=function(M){return x.H.useRef(M)},Se.useState=function(M){return x.H.useState(M)},Se.useSyncExternalStore=function(M,Z,oe){return x.H.useSyncExternalStore(M,Z,oe)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.3",Se}var iE;function mp(){return iE||(iE=1,mm.exports=BA()),mm.exports}var z=mp();const ql=iT(z);var pm={exports:{}},zl={},gm={exports:{}},ym={};var rE;function qA(){return rE||(rE=1,(function(r){function e(Q,ae){var ge=Q.length;Q.push(ae);e:for(;0<ge;){var Be=ge-1>>>1,Ke=Q[Be];if(0<o(Ke,ae))Q[Be]=ae,Q[ge]=Ke,ge=Be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],ge=Q.pop();if(ge!==ae){Q[0]=ge;e:for(var Be=0,Ke=Q.length,M=Ke>>>1;Be<M;){var Z=2*(Be+1)-1,oe=Q[Z],ce=Z+1,Te=Q[ce];if(0>o(oe,ge))ce<Ke&&0>o(Te,oe)?(Q[Be]=Te,Q[ce]=ge,Be=ce):(Q[Be]=oe,Q[Z]=ge,Be=Z);else if(ce<Ke&&0>o(Te,ge))Q[Be]=Te,Q[ce]=ge,Be=ce;else break e}}return ae}function o(Q,ae){var ge=Q.sortIndex-ae.sortIndex;return ge!==0?ge:Q.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,w=null,A=3,P=!1,K=!1,U=!1,L=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe(Q){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=Q)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function Ee(Q){if(U=!1,pe(Q),!K)if(n(g)!==null)K=!0,we||(we=!0,j());else{var ae=n(p);ae!==null&&Ot(Ee,ae.startTime-Q)}}var we=!1,x=-1,R=5,C=-1;function V(){return L?!0:!(r.unstable_now()-C<R)}function O(){if(L=!1,we){var Q=r.unstable_now();C=Q;var ae=!0;try{e:{K=!1,U&&(U=!1,ie(x),x=-1),P=!0;var ge=A;try{t:{for(pe(Q),w=n(g);w!==null&&!(w.expirationTime>Q&&V());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,A=w.priorityLevel;var Ke=Be(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ke=="function"){w.callback=Ke,pe(Q),ae=!0;break t}w===n(g)&&s(g),pe(Q)}else s(g);w=n(g)}if(w!==null)ae=!0;else{var M=n(p);M!==null&&Ot(Ee,M.startTime-Q),ae=!1}}break e}finally{w=null,A=ge,P=!1}ae=void 0}}finally{ae?j():we=!1}}}var j;if(typeof re=="function")j=function(){re(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,at=I.port2;I.port1.onmessage=O,j=function(){at.postMessage(null)}}else j=function(){te(O,0)};function Ot(Q,ae){x=te(function(){Q(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ge=A;A=ae;try{return Q()}finally{A=ge}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=A;A=Q;try{return ae()}finally{A=ge}},r.unstable_scheduleCallback=function(Q,ae,ge){var Be=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ge+Ke,Q={id:T++,callback:ae,priorityLevel:Q,startTime:ge,expirationTime:Ke,sortIndex:-1},ge>Be?(Q.sortIndex=ge,e(p,Q),n(g)===null&&Q===n(p)&&(U?(ie(x),x=-1):U=!0,Ot(Ee,ge-Be))):(Q.sortIndex=Ke,e(g,Q),K||P||(K=!0,we||(we=!0,j()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var ae=A;return function(){var ge=A;A=ae;try{return Q.apply(this,arguments)}finally{A=ge}}}})(ym)),ym}var sE;function FA(){return sE||(sE=1,gm.exports=qA()),gm.exports}var _m={exports:{}},Jt={};var aE;function HA(){if(aE)return Jt;aE=1;var r=mp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},Jt.flushSync=function(g){var p=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=T,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:P}):T==="script"&&s.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var oE;function $A(){if(oE)return _m.exports;oE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=HA(),_m.exports}var lE;function GA(){if(lE)return zl;lE=1;var r=FA(),e=mp(),n=$A();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case te:return"Profiler";case L:return"StrictMode";case Ee:return"Suspense";case we:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var Ot=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function M(t){return{current:t}}function Z(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function oe(t,i){Ke++,Be[Ke]=t.current,t.current=i}var ce=M(null),Te=M(null),Ne=M(null),je=M(null);function Mt(t,i){switch(oe(Ne,i),oe(Te,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?bv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=bv(i),t=Sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function ot(){Z(ce),Z(Te),Z(Ne)}function bs(t){t.memoizedState!==null&&oe(je,t);var i=ce.current,a=Sv(i,t.type);i!==a&&(oe(Te,t),oe(ce,a))}function pa(t){Te.current===t&&(Z(ce),Z(Te)),je.current===t&&(Z(je),Pl._currentValue=ge)}var ga,ya;function hi(t){if(ga===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ga=i&&i[1]||"",ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+t+ya}var Po=!1;function Ss(t,i){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var H=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){H=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){H=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),F=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Uo(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return hi("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Uo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Sr=r.unstable_cancelCallback,pf=r.unstable_shouldYield,Cu=r.unstable_requestPaint,nn=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,jo=r.unstable_UserBlockingPriority,Ar=r.unstable_NormalPriority,gf=r.unstable_LowPriority,Iu=r.unstable_IdlePriority,Nu=r.log,xu=r.unstable_setDisableYieldValue,Gn=null,qt=null;function Nn(t){if(typeof Nu=="function"&&xu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Gn,t)}catch{}}var mt=Math.clz32?Math.clz32:Ou,Du=Math.log,_a=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(Du(t)/_a|0)|0}var fi=256,Rs=262144,Tt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=di(l):(_&=b,_!==0?f=di(_):a||(a=b&~t,a!==0&&(f=di(a))))):(b=l&~d,b!==0?f=di(b):_!==0?f=di(_):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Cs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _f(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-mt(a),W=1<<Y;b[Y]=0,N[Y]=-1;var H=F[Y];if(H!==null)for(F[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&Is(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Is(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ns(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function Yn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Qn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,va="__reactEvents$"+Qn,vf="__reactListeners$"+Qn,Pu="__reactHandles$"+Qn,Uu="__reactResources$"+Qn,yi="__reactMarker$"+Qn;function Ea(t){delete t[wt],delete t[Lt],delete t[va],delete t[vf],delete t[Pu]}function _i(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dv(t);t!==null;){if(a=t[wt])return a;t=Dv(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[wt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[yi]=!0}var qo=new Set,Fo={};function Ei(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Fo[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Go={};function ku(t){return Et.call(Go,t)?!0:Et.call($o,t)?!1:Ho.test(t)?Go[t]=!0:($o[t]=!0,!1)}function Ta(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Rr(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function xs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Rr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function on(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wa(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,_,jt(i)):a!=null?Yo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+jt(b):t.removeAttribute("name")}function Lu(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Yo(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Ir(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||zu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Qo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Qo(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Nr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Jo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,bi=null;function Os(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(wa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));wa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xs(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Cr(t,!!a.multiple,i,!1)}}}var Aa=!1;function Dr(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var l=t(i);return l}finally{if(Aa=!1,(xr!==null||bi!==null)&&(Vc(),xr&&(i=xr,t=bi,bi=xr=null,Os(i),t)))for(i=0;i<t.length;i++)Os(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ms=!1}var Si=null,Wo=null,Vs=null;function Zo(){if(Vs)return Vs;var t,i=Wo,a=i.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Vs=f.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function Wn(){return!1}function Ft(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:Wn,this.isPropagationStopped=Wn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ft(Qi),Or=w({},Qi,{view:0,detail:0}),el=Ft(Or),Mr,Ra,Ri,Ca=w({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Mr=t.screenX-Ri.screenX,Ra=t.screenY-Ri.screenY):Ra=Mr=0,Ri=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),tl=Ft(Ca),Us=w({},Ca,{dataTransfer:0}),qu=Ft(Us),Fu=w({},Or,{relatedTarget:0}),ks=Ft(Fu),nl=w({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Ft(nl),Ia=w({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$u=Ft(Ia),Gu=w({},Qi,{data:0}),Ci=Ft(Gu),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qu[t])?!!i[t]:!1}function Vr(){return Xu}var rn=w({},Or,{key:function(t){if(t.key){var i=Ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Ft(rn),Wu=w({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ft(Wu),c=w({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),y=Ft(c),v=w({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(v),B=w({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(B),se=w({},Qi,{newState:0,oldState:0}),Ce=Ft(se),pt=[9,13,27,32],He=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,Ii=On&&(!He||lt&&8<lt&&11>=lt),Zn=" ",ei=!1;function Ls(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function uS(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:(ei=!0,Zn);case"textInput":return t=i.data,t===Zn&&ei?null:t;default:return null}}function cS(t,i){if(xa)return t==="compositionend"||!He&&Ls(t,i)?(t=Zo(),Vs=Wo=Si=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hS[t.type]:i==="textarea"}function Pg(t,i,a,l){xr?bi?bi.push(l):bi=[l]:xr=l,i=Bc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,rl=null;function fS(t){yv(t,0)}function Zu(t){var i=gn(t);if(xs(i))return t}function Ug(t,i){if(t==="change")return i}var kg=!1;if(On){var Ef;if(On){var Tf="oninput"in document;if(!Tf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Tf=typeof Lg.oninput=="function"}Ef=Tf}else Ef=!1;kg=Ef&&(!document.documentMode||9<document.documentMode)}function jg(){il&&(il.detachEvent("onpropertychange",zg),rl=il=null)}function zg(t){if(t.propertyName==="value"&&Zu(rl)){var i=[];Pg(i,rl,t,Dn(t)),Dr(fS,i)}}function dS(t,i,a){t==="focusin"?(jg(),il=i,rl=a,il.attachEvent("onpropertychange",zg)):t==="focusout"&&jg()}function mS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(rl)}function pS(t,i){if(t==="click")return Zu(i)}function gS(t,i){if(t==="input"||t==="change")return Zu(i)}function yS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:yS;function sl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,i){var a=Bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bg(a)}}function Fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var _S=On&&"documentMode"in document&&11>=document.documentMode,Da=null,bf=null,al=null,Sf=!1;function $g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Da==null||Da!==wi(l)||(l=Da,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Bc(bf,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Da)))}function js(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Af={},Gg={};On&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function zs(t){if(Af[t])return Af[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gg)return Af[t]=i[a];return t}var Kg=zs("animationend"),Yg=zs("animationiteration"),Qg=zs("animationstart"),vS=zs("transitionrun"),ES=zs("transitionstart"),TS=zs("transitioncancel"),Xg=zs("transitionend"),Jg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function ti(t,i){Jg.set(t,i),Ei(i,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Ma=0,Cf=0;function tc(){for(var t=Ma,i=Cf=Ma=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var f=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Wg(a,f,d)}}function nc(t,i,a,l){Vn[Ma++]=t,Vn[Ma++]=i,Vn[Ma++]=a,Vn[Ma++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,i,a,l){return nc(t,i,a,l),ic(t)}function Bs(t,i){return nc(t,null,null,i),ic(t)}function Wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ic(t){if(50<Il)throw Il=0,kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={};function wS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new wS(t,i,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Nf(t)&&(_=1);else if(typeof t=="string")_=CA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,f),t.elementType=C,t.lanes=d,t;case U:return qs(a.children,f,d,i);case L:_=8,f|=24;break;case te:return t=vn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case Ee:return t=vn(13,a,i,f),t.elementType=Ee,t.lanes=d,t;case we:return t=vn(19,a,i,f),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case pe:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function qs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function xf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function ey(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ty=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=ty.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},ty.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Pa=[],Ua=0,sc=null,ol=0,Un=[],kn=0,Pr=null,Ni=1,xi="";function Wi(t,i){Pa[Ua++]=ol,Pa[Ua++]=sc,sc=t,ol=i}function ny(t,i,a){Un[kn++]=Ni,Un[kn++]=xi,Un[kn++]=Pr,Pr=t;var l=Ni;t=xi;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-mt(i)+f|a<<f|l,xi=d+t}else Ni=1<<d|a<<f|l,xi=t}function Of(t){t.return!==null&&(Wi(t,1),ny(t,1,0))}function Mf(t){for(;t===sc;)sc=Pa[--Ua],Pa[Ua]=null,ol=Pa[--Ua],Pa[Ua]=null;for(;t===Pr;)Pr=Un[--kn],Un[kn]=null,xi=Un[--kn],Un[kn]=null,Ni=Un[--kn],Un[kn]=null}function iy(t,i){Un[kn++]=Ni,Un[kn++]=xi,Un[kn++]=Pr,Ni=i.id,xi=i.overflow,Pr=t}var Ht=null,it=null,Le=!1,Ur=null,Ln=!1,Vf=Error(s(519));function kr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Pn(i,t)),Vf}function ry(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Lt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Oe(xl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Lu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ir(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Tv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||kr(t,!0)}function sy(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function ka(t){if(t!==Ht)return!1;if(!Le)return sy(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&it&&kr(t),sy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=xv(t)}else i===27?(i=it,Jr(t.type)?(t=im,im=null,it=t):it=i):it=Ht?zn(t.stateNode.nextSibling):null;return!0}function Fs(){it=Ht=null,Le=!1}function Pf(){var t=Ur;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Ur=null),t}function ll(t){Ur===null?Ur=[t]:Ur.push(t)}var Uf=M(null),Hs=null,Zi=null;function Lr(t,i,a){oe(Uf,i._currentValue),i._currentValue=a}function er(t){t._currentValue=Uf.current,Z(Uf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Lf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function La(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===je.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&Lf(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Hs=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return ay(Hs,t)}function oc(t,i){return Hs===null&&$s(t),ay(t,i)}function ay(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var bS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},SS=r.unstable_scheduleCallback,AS=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new bS,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&SS(AS,function(){t.controller.abort()})}var cl=null,zf=0,ja=0,za=null;function RS(t,i){if(cl===null){var a=cl=[];zf=0,ja=Fd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,i.then(oy,oy),i}function oy(){if(--zf===0&&cl!==null){za!==null&&(za.status="fulfilled");var t=cl;cl=null,ja=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function CS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ly=Q.S;Q.S=function(t,i){$_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&RS(t,i),ly!==null&&ly(t,i)};var Gs=M(null);function Bf(){var t=Gs.current;return t!==null?t:tt.pooledCache}function lc(t,i){i===null?oe(Gs,Gs.current):oe(Gs,i.pool)}function uy(){var t=Bf();return t===null?null:{parent:At._currentValue,pool:t}}var Ba=Error(s(460)),qf=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dy(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dy(t),t}throw Ys=i,Ba}}function Ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Ba):a}}var Ys=null;function fy(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function dy(t){if(t===Ba||t===uc)throw Error(s(483))}var qa=null,hl=0;function hc(t){var i=hl;return hl+=1,qa===null&&(qa=[]),hy(qa,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function my(t){function i(k,D){if(t){var q=k.deletions;q===null?(k.deletions=[D],k.flags|=16):q.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function f(k,D){return k=Ji(k,D),k.index=0,k.sibling=null,k}function d(k,D,q){return k.index=q,t?(q=k.alternate,q!==null?(q=q.index,q<D?(k.flags|=67108866,D):q):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,D,q,X){return D===null||D.tag!==6?(D=xf(q,k.mode,X),D.return=k,D):(D=f(D,q),D.return=k,D)}function N(k,D,q,X){var de=q.type;return de===U?Y(k,D,q.props.children,X,q.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ks(de)===D.type)?(D=f(D,q.props),fl(D,q),D.return=k,D):(D=rc(q.type,q.key,q.props,null,k.mode,X),fl(D,q),D.return=k,D)}function F(k,D,q,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=Df(q,k.mode,X),D.return=k,D):(D=f(D,q.children||[]),D.return=k,D)}function Y(k,D,q,X,de){return D===null||D.tag!==7?(D=qs(q,k.mode,X,de),D.return=k,D):(D=f(D,q),D.return=k,D)}function W(k,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=xf(""+D,k.mode,q),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return q=rc(D.type,D.key,D.props,null,k.mode,q),fl(q,D),q.return=k,q;case K:return D=Df(D,k.mode,q),D.return=k,D;case R:return D=Ks(D),W(k,D,q)}if(Ot(D)||j(D))return D=qs(D,k.mode,q,null),D.return=k,D;if(typeof D.then=="function")return W(k,hc(D),q);if(D.$$typeof===re)return W(k,oc(k,D),q);fc(k,D)}return null}function H(k,D,q,X){var de=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:b(k,D,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===de?N(k,D,q,X):null;case K:return q.key===de?F(k,D,q,X):null;case R:return q=Ks(q),H(k,D,q,X)}if(Ot(q)||j(q))return de!==null?null:Y(k,D,q,X,null);if(typeof q.then=="function")return H(k,D,hc(q),X);if(q.$$typeof===re)return H(k,D,oc(k,q),X);fc(k,q)}return null}function G(k,D,q,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(q)||null,b(D,k,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return k=k.get(X.key===null?q:X.key)||null,N(D,k,X,de);case K:return k=k.get(X.key===null?q:X.key)||null,F(D,k,X,de);case R:return X=Ks(X),G(k,D,q,X,de)}if(Ot(X)||j(X))return k=k.get(q)||null,Y(D,k,X,de,null);if(typeof X.then=="function")return G(k,D,q,hc(X),de);if(X.$$typeof===re)return G(k,D,q,oc(D,X),de);fc(D,X)}return null}function he(k,D,q,X){for(var de=null,qe=null,fe=D,xe=D=0,Ve=null;fe!==null&&xe<q.length;xe++){fe.index>xe?(Ve=fe,fe=null):Ve=fe.sibling;var Fe=H(k,fe,q[xe],X);if(Fe===null){fe===null&&(fe=Ve);break}t&&fe&&Fe.alternate===null&&i(k,fe),D=d(Fe,D,xe),qe===null?de=Fe:qe.sibling=Fe,qe=Fe,fe=Ve}if(xe===q.length)return a(k,fe),Le&&Wi(k,xe),de;if(fe===null){for(;xe<q.length;xe++)fe=W(k,q[xe],X),fe!==null&&(D=d(fe,D,xe),qe===null?de=fe:qe.sibling=fe,qe=fe);return Le&&Wi(k,xe),de}for(fe=l(fe);xe<q.length;xe++)Ve=G(fe,k,xe,q[xe],X),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?xe:Ve.key),D=d(Ve,D,xe),qe===null?de=Ve:qe.sibling=Ve,qe=Ve);return t&&fe.forEach(function(ns){return i(k,ns)}),Le&&Wi(k,xe),de}function ye(k,D,q,X){if(q==null)throw Error(s(151));for(var de=null,qe=null,fe=D,xe=D=0,Ve=null,Fe=q.next();fe!==null&&!Fe.done;xe++,Fe=q.next()){fe.index>xe?(Ve=fe,fe=null):Ve=fe.sibling;var ns=H(k,fe,Fe.value,X);if(ns===null){fe===null&&(fe=Ve);break}t&&fe&&ns.alternate===null&&i(k,fe),D=d(ns,D,xe),qe===null?de=ns:qe.sibling=ns,qe=ns,fe=Ve}if(Fe.done)return a(k,fe),Le&&Wi(k,xe),de;if(fe===null){for(;!Fe.done;xe++,Fe=q.next())Fe=W(k,Fe.value,X),Fe!==null&&(D=d(Fe,D,xe),qe===null?de=Fe:qe.sibling=Fe,qe=Fe);return Le&&Wi(k,xe),de}for(fe=l(fe);!Fe.done;xe++,Fe=q.next())Fe=G(fe,k,xe,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?xe:Fe.key),D=d(Fe,D,xe),qe===null?de=Fe:qe.sibling=Fe,qe=Fe);return t&&fe.forEach(function(LA){return i(k,LA)}),Le&&Wi(k,xe),de}function et(k,D,q,X){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:e:{for(var de=q.key;D!==null;){if(D.key===de){if(de=q.type,de===U){if(D.tag===7){a(k,D.sibling),X=f(D,q.props.children),X.return=k,k=X;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ks(de)===D.type){a(k,D.sibling),X=f(D,q.props),fl(X,q),X.return=k,k=X;break e}a(k,D);break}else i(k,D);D=D.sibling}q.type===U?(X=qs(q.props.children,k.mode,X,q.key),X.return=k,k=X):(X=rc(q.type,q.key,q.props,null,k.mode,X),fl(X,q),X.return=k,k=X)}return _(k);case K:e:{for(de=q.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){a(k,D.sibling),X=f(D,q.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else i(k,D);D=D.sibling}X=Df(q,k.mode,X),X.return=k,k=X}return _(k);case R:return q=Ks(q),et(k,D,q,X)}if(Ot(q))return he(k,D,q,X);if(j(q)){if(de=j(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ye(k,D,q,X)}if(typeof q.then=="function")return et(k,D,hc(q),X);if(q.$$typeof===re)return et(k,D,oc(k,q),X);fc(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(a(k,D.sibling),X=f(D,q),X.return=k,k=X):(a(k,D),X=xf(q,k.mode,X),X.return=k,k=X),_(k)):a(k,D)}return function(k,D,q,X){try{hl=0;var de=et(k,D,q,X);return qa=null,de}catch(fe){if(fe===Ba||fe===uc)throw fe;var qe=vn(29,fe,null,k.mode);return qe.lanes=X,qe.return=k,qe}}}var Qs=my(!0),py=my(!1),jr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Br(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ic(t),Wg(t,null,a),i}return nc(t,l,i,a),ic(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function $f(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function ml(){if(Gf){var t=za;if(t!==null)throw t}}function pl(t,i,a,l){Gf=!1;var f=t.updateQueue;jr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==_&&(b===null?Y.firstBaseUpdate=F:b.next=F,Y.lastBaseUpdate=N))}if(d!==null){var W=f.baseState;_=0,Y=F=N=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Me&H)===H:(l&H)===H){H!==0&&H===ja&&(Gf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ye=b;H=i;var et=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){W=he.call(et,W,H);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,H=typeof he=="function"?he.call(et,W,H):he,H==null)break e;W=w({},W,H);break e;case 2:jr=!0}}H=b.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(F=Y=G,N=W):Y=Y.next=G,_|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Y===null&&(N=W),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Gr|=_,t.lanes=_,t.memoizedState=W}}function gy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function yy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gy(a[t],i)}var Fa=M(null),dc=M(0);function _y(t,i){t=ur,oe(dc,t),oe(Fa,i),ur=t|i.baseLanes}function Kf(){oe(dc,ur),oe(Fa,Fa.current)}function Yf(){ur=dc.current,Z(Fa),Z(dc)}var En=M(null),jn=null;function qr(t){var i=t.alternate;oe(gt,gt.current&1),oe(En,t),jn===null&&(i===null||Fa.current!==null||i.memoizedState!==null)&&(jn=t)}function Qf(t){oe(gt,gt.current),oe(En,t),jn===null&&(jn=t)}function vy(t){t.tag===22?(oe(gt,gt.current),oe(En,t),jn===null&&(jn=t)):Fr()}function Fr(){oe(gt,gt.current),oe(En,En.current)}function Tn(t){Z(En),jn===t&&(jn=null),Z(gt)}var gt=M(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tr=0,Ie=null,We=null,Rt=null,pc=!1,Ha=!1,Xs=!1,gc=0,gl=0,$a=null,IS=0;function ft(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,f,d){return tr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?n_:fd,Xs=!1,d=a(l,f),Xs=!1,Ha&&(d=Ty(i,a,l,f)),Ey(t),d}function Ey(t){Q.H=vl;var i=We!==null&&We.next!==null;if(tr=0,Rt=We=Ie=null,pc=!1,gl=0,$a=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&ac(t)&&(Ct=!0))}function Ty(t,i,a,l){Ie=t;var f=0;do{if(Ha&&($a=null),gl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=i_,d=i(a,l)}while(Ha);return d}function NS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Wf(){var t=gc!==0;return gc=0,t}function Zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ed(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}tr=0,Rt=We=Ie=null,Ha=!1,gl=gc=0,$a=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,$a===null&&($a=[]),t=hy($a,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?n_:fd),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function td(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function nr(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=yt();return nd(i,We,t)}function nd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,N=null,F=i,Y=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Me&W)===W:(tr&W)===W){var H=F.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===ja&&(Y=!0);else if((tr&H)===H){F=F.next,H===ja&&(Y=!0);continue}else W={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=W,_=d):N=N.next=W,Ie.lanes|=H,Gr|=H;W=F.action,Xs&&a(d,W),d=F.hasEagerState?F.eagerState:a(d,W)}else H={lane:W,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=H,_=d):N=N.next=H,Ie.lanes|=W,Gr|=W;F=F.next}while(F!==null&&F!==i);if(N===null?_=d:N.next=b,!_n(d,t.memoizedState)&&(Ct=!0,Y&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function id(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function wy(t,i,a){var l=Ie,f=yt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,ad(Ay.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},Sy.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(tr&127)!==0||by(l,i,a)}return a}function by(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=yc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sy(t,i,a,l){i.value=a,i.getSnapshot=l,Ry(i)&&Cy(t)}function Ay(t,i,a){return a(function(){Ry(i)&&Cy(t)})}function Ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Cy(t){var i=Bs(t,2);i!==null&&dn(i,t,2)}function rd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Xs){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},i}function Iy(t,i,a,l){return t.baseState=a,nd(t,We,typeof l=="function"?l:nr)}function xS(t,i,a,l,f){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ny(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ny(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var b=a(f,l),N=Q.S;N!==null&&N(_,b),xy(t,i,b)}catch(F){sd(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),xy(t,i,d)}catch(F){sd(t,i,F)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(t,i,l)},function(l){return sd(t,i,l)}):Dy(t,i,a)}function Dy(t,i,a){i.status="fulfilled",i.value=a,Oy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ny(t,a)))}function sd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Oy(i),i=i.next;while(i!==l)}t.action=null}function Oy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function My(t,i){return i}function Vy(t,i){if(Le){var a=tt.formState;if(a!==null){e:{var l=Ie;if(Le){if(it){t:{for(var f=it,d=Ln;f.nodeType!==8;){if(!d){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=zn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:i},a.queue=l,a=Zy.bind(null,Ie,l),l.dispatch=a,l=rd(!1),d=hd.bind(null,Ie,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=xS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Py(t){var i=yt();return Uy(i,We,t)}function Uy(t,i,a){if(i=nd(t,i,My)[0],t=vc(nr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===Ba?uc:_}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ga(9,{destroy:void 0},DS.bind(null,f,a),null)),[l,d,t]}function DS(t,i){t.action=i}function ky(t){var i=yt(),a=We;if(a!==null)return Uy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=yc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ly(){return yt().memoizedState}function Ec(t,i,a,l){var f=sn();Ie.flags|=t,f.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function Tc(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Xf(l,We.memoizedState.deps)?f.memoizedState=Ga(i,d,a,l):(Ie.flags|=t,f.memoizedState=Ga(1|i,d,a,l))}function jy(t,i){Ec(8390656,8,t,i)}function ad(t,i){Tc(2048,8,t,i)}function OS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=yc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function zy(t){var i=yt().memoizedState;return OS({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function By(t,i){return Tc(4,2,t,i)}function qy(t,i){return Tc(4,4,t,i)}function Fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hy(t,i,a){a=a!=null?a.concat([t]):null,Tc(4,4,Fy.bind(null,i,t),a)}function od(){}function $y(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xf(i,l[1]))return l[0];if(l=t(),Xs){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function ld(t,i,a){return a===void 0||(tr&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=K_(),Ie.lanes|=t,Gr|=t,a)}function Ky(t,i,a,l){return _n(a,i)?a:Fa.current!==null?(t=ld(t,a,l),_n(t,i)||(Ct=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(Me&261930)===0?(Ct=!0,t.memoizedState=a):(t=K_(),Ie.lanes|=t,Gr|=t,i)}function Yy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Q.T,b={};Q.T=b,hd(t,!1,i,a);try{var N=f(),F=Q.S;if(F!==null&&F(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=CS(N,l);_l(t,i,Y,Sn(t))}else _l(t,i,l,Sn(t))}catch(W){_l(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{ae.p=d,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function MS(){}function ud(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Qy(t).queue;Yy(t,f,i,ge,a===null?MS:function(){return Xy(t),a(l)})}function Qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xy(t){var i=Qy(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},Sn())}function cd(){return $t(Pl)}function Jy(){return yt().memoizedState}function Wy(){return yt().memoizedState}function VS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=zr(a);var l=Br(i,t,a);l!==null&&(dn(l,i,a),dl(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function PS(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?e_(i,a):(a=If(t,i,a,l),a!==null&&(dn(a,t,l),t_(a,i,l)))}function Zy(t,i,a){var l=Sn();_l(t,i,a,l)}function _l(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))e_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,_))return nc(t,i,f,0),tt===null&&tc(),!1}catch{}if(a=If(t,i,f,l),a!==null)return dn(a,t,l),t_(a,i,l),!0}return!1}function hd(t,i,a,l){if(l={lane:2,revertLane:Fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=If(t,a,l,2),i!==null&&dn(i,t,2)}function wc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function e_(t,i){Ha=pc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function t_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var vl={readContext:$t,use:_c,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};vl.useEffectEvent=ft;var n_={readContext:$t,use:_c,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:jy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,Fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ec(4194308,4,t,i)},useInsertionEffect:function(t,i){Ec(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Xs){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Xs){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=PS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=rd(t);var i=t.queue,a=Zy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,i){var a=sn();return ld(a,t,i)},useTransition:function(){var t=rd(!1);return t=Yy.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=sn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Me&127)!==0||by(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,jy(Ay.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},Sy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=tt.identifierPrefix;if(Le){var a=xi,l=Ni;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=IS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:td,useCacheRefresh:function(){return sn().memoizedState=VS.bind(null,Ie)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:$t,use:_c,useCallback:$y,useContext:$t,useEffect:ad,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:qy,useMemo:Gy,useReducer:vc,useRef:Ly,useState:function(){return vc(nr)},useDebugValue:od,useDeferredValue:function(t,i){var a=yt();return Ky(a,We.memoizedState,t,i)},useTransition:function(){var t=vc(nr)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:wy,useId:Jy,useHostTransitionStatus:cd,useFormState:Py,useActionState:Py,useOptimistic:function(t,i){var a=yt();return Iy(a,We,t,i)},useMemoCache:td,useCacheRefresh:Wy};fd.useEffectEvent=zy;var i_={readContext:$t,use:_c,useCallback:$y,useContext:$t,useEffect:ad,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:qy,useMemo:Gy,useReducer:id,useRef:Ly,useState:function(){return id(nr)},useDebugValue:od,useDeferredValue:function(t,i){var a=yt();return We===null?ld(a,t,i):Ky(a,We.memoizedState,t,i)},useTransition:function(){var t=id(nr)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:wy,useId:Jy,useHostTransitionStatus:cd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=yt();return We!==null?Iy(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Wy};i_.useEffectEvent=zy;function dd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var md={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=zr(l);f.payload=i,a!=null&&(f.callback=a),i=Br(t,f,l),i!==null&&(dn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=zr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Br(t,f,l),i!==null&&(dn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=zr(a);l.tag=2,i!=null&&(l.callback=i),i=Br(t,l,a),i!==null&&(dn(i,t,a),dl(i,t,a))}};function r_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(f,d):!0}function s_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&md.enqueueReplaceState(i,i.state,null)}function Js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function a_(t){ec(t)}function o_(t){console.error(t)}function l_(t){ec(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function u_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pd(t,i,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function c_(t){return t=zr(t),t.tag=3,t}function h_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){u_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){u_(i,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function US(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Pc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(t,l,f)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(t,l,f)),!1}throw Error(s(435,a.tag))}return zd(t,l,f),Pc(),!1}if(Le)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Vf&&(t=Error(s(422),{cause:l}),ll(Pn(t,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),ll(Pn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Pn(l,a),f=pd(t.stateNode,l,f),$f(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),Cl===null?Cl=[d]:Cl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=pd(a.stateNode,l,t),$f(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=c_(f),h_(f,t,a,l),$f(a,f),!1}a=a.return}while(a!==null);return!1}var gd=Error(s(461)),Ct=!1;function Gt(t,i,a,l){i.child=t===null?py(i,null,a,l):Qs(i,t.child,a,l)}function f_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return $s(i),l=Jf(t,i,a,_,d,f),b=Wf(),t!==null&&!Ct?(Zf(t,i,f),ir(t,i,f)):(Le&&b&&Of(i),i.flags|=1,Gt(t,i,l,f),i.child)}function d_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,m_(t,i,d,l,f)):(t=rc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(_,l)&&t.ref===i.ref)return ir(t,i,f)}return i.flags|=1,t=Ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function m_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Sd(t,f))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,ir(t,i,f)}return yd(t,i,a,l,f)}function p_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return g_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?_y(i,d):Kf(),vy(i);else return l=i.lanes=536870912,g_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(lc(i,d.cachePool),_y(i,d),Fr(),i.memoizedState=null):(t!==null&&lc(i,null),Kf(),Fr());return Gt(t,i,f,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function g_(t,i,a,l,f){var d=Bf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&lc(i,null),Kf(),vy(i),t!==null&&La(t,i,l,!0),i.childLanes=f,null}function Sc(t,i){return i=Rc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function y_(t,i,a){return Qs(i,t.child,null,a),t=Sc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function kS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Sc(i,l),i.lanes=536870912,El(null,t);if(Qf(i),(t=it)?(t=Nv(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=ey(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw kr(i);return i.lanes=536870912,null}return Sc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Qf(i),f)if(i.flags&256)i.flags&=-257,i=y_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||La(t,i,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=tt,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),dn(l,t,_),gd;Pc(),i=y_(t,i,a)}else t=d.treeContext,it=zn(_.nextSibling),Ht=i,Le=!0,Ur=null,Ln=!1,t!==null&&iy(i,t),i=Sc(i,l),i.flags|=4096;return i}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yd(t,i,a,l,f){return $s(i),a=Jf(t,i,a,l,void 0,f),l=Wf(),t!==null&&!Ct?(Zf(t,i,f),ir(t,i,f)):(Le&&l&&Of(i),i.flags|=1,Gt(t,i,a,f),i.child)}function __(t,i,a,l,f,d){return $s(i),i.updateQueue=null,a=Ty(i,l,a,f),Ey(t),l=Wf(),t!==null&&!Ct?(Zf(t,i,d),ir(t,i,d)):(Le&&l&&Of(i),i.flags|=1,Gt(t,i,a,d),i.child)}function v_(t,i,a,l,f){if($s(i),i.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):Va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&md.enqueueReplaceState(d,d.state,null),pl(i,l,d,f),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Js(a,b);d.props=N;var F=d.context,Y=a.contextType;_=Va,typeof Y=="object"&&Y!==null&&(_=$t(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&s_(i,d,l,_),jr=!1;var H=i.memoizedState;d.state=H,pl(i,l,d,f),ml(),F=i.memoizedState,b||H!==F||jr?(typeof W=="function"&&(dd(i,a,W,l),F=i.memoizedState),(N=jr||r_(i,a,N,l,H,F,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,Y=Js(a,_),d.props=Y,W=i.pendingProps,H=d.context,F=a.contextType,N=Va,typeof F=="object"&&F!==null&&(N=$t(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==N)&&s_(i,d,l,N),jr=!1,H=i.memoizedState,d.state=H,pl(i,l,d,f),ml();var G=i.memoizedState;_!==W||H!==G||jr||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof b=="function"&&(dd(i,a,b,l),G=i.memoizedState),(Y=jr||r_(i,a,Y,l,H,G,N)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qs(i,t.child,null,f),i.child=Qs(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=ir(t,i,f),t}function E_(t,i,a,l){return Fs(),i.flags|=256,Gt(t,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:uy()}}function Ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function T_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(f?qr(i):Fr(),(t=it)?(t=Nv(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=ey(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw kr(i);return nm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Fr(),f=i.mode,b=Rc({mode:"hidden",children:b},f),l=qs(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,El(null,l)):(qr(i),Td(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(qr(i),i.flags&=-257,i=wd(t,i,a)):i.memoizedState!==null?(Fr(),i.child=t.child,i.flags|=128,i=null):(Fr(),b=l.fallback,f=i.mode,l=Rc({mode:"visible",children:l.children},f),b=qs(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Qs(i,t.child,null,a),l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,i=El(null,l));else if(qr(i),nm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=wd(t,i,a)}else if(Ct||La(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=tt,_!==null&&(l=Bo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Bs(t,l),dn(_,t,l),gd;tm(b)||Pc(),i=wd(t,i,a)}else tm(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=zn(b.nextSibling),Ht=i,Le=!0,Ur=null,Ln=!1,t!==null&&iy(i,t),i=Td(i,l.children),i.flags|=4096);return i}return f?(Fr(),b=l.fallback,f=i.mode,N=t.child,F=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?b=Ji(F,b):(b=qs(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,El(null,l),l=i.child,b=t.child.memoizedState,b===null?b=vd(a):(f=b.cachePool,f!==null?(N=At._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=uy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Ed(t,_,a),i.memoizedState=_d,El(t.child,l)):(qr(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Td(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function wd(t,i,a){return Qs(i,t.child,null,a),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function w_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function bd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function b_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,oe(gt,_),Gt(t,i,l,a),l=Le?ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w_(t,a,i);else if(t.tag===19)w_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&mc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ir(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function LS(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Lr(i,At,t.memoizedState.cache),Fs();break;case 27:case 5:bs(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?T_(t,i,a):(qr(i),t=ir(t,i,a),t!==null?t.sibling:null);qr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return b_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(gt,gt.current),l)break;return null;case 22:return i.lanes=0,p_(t,i,a,i.pendingProps);case 24:Lr(i,At,t.memoizedState.cache)}return ir(t,i,a)}function S_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Ct=!1,LS(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Le&&(i.flags&1048576)!==0&&ny(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ks(i.elementType),i.type=t,typeof t=="function")Nf(t)?(l=Js(t,l),i.tag=1,i=v_(null,i,t,l,a)):(i.tag=0,i=yd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===pe){i.tag=11,i=f_(null,i,t,l,a);break e}else if(f===x){i.tag=14,i=d_(null,i,t,l,a);break e}}throw i=at(t)||t,Error(s(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Js(l,i.pendingProps),v_(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Hf(t,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Lr(i,At,l),l!==d.cache&&Lf(i,[At],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=E_(t,i,l,a);break e}else if(l!==f){f=Pn(Error(s(424)),i),ll(f),i=E_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=zn(t.firstChild),Ht=i,Le=!0,Ur=null,Ln=!0,a=py(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fs(),l===f){i=ir(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=Pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=qc(Ne.current).createElement(a),l[wt]=i,l[Lt]=t,Kt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=Pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&Le&&(l=i.stateNode=Ov(i.type,i.pendingProps,Ne.current),Ht=i,Ln=!0,f=it,Jr(i.type)?(im=f,it=zn(l.firstChild)):it=f),Gt(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((f=l=it)&&(l=mA(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Ht=i,it=zn(l.firstChild),Ln=!1,f=!0):f=!1),f||kr(i)),bs(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(f,d)?l=null:_!==null&&Wd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Jf(t,i,NS,null,null,a),Pl._currentValue=f),Ac(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=it)&&(a=pA(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||kr(i)),null;case 13:return T_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return f_(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,$s(i),f=$t(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return d_(t,i,i.type,i.pendingProps,a);case 15:return m_(t,i,i.type,i.pendingProps,a);case 19:return b_(t,i,a);case 31:return kS(t,i,a);case 22:return p_(t,i,a,i.pendingProps);case 24:return $s(i),l=$t(At),t===null?(f=Bf(),f===null&&(f=tt,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Ff(i),Lr(i,At,f)):((t.lanes&a)!==0&&(Hf(t,i),pl(i,null,null,a),ml()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Lr(i,At,l)):(l=d.cache,Lr(i,At,l),l!==f.cache&&Lf(i,[At],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function rr(t){t.flags|=4}function Ad(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(J_())t.flags|=8192;else throw Ys=cc,qf}else t.flags&=-16777217}function A_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zv(i))if(J_())t.flags|=8192;else throw Ys=cc,qf}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mu():536870912,t.lanes|=i,Xa|=i)}function Tl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function jS(t,i,a){var l=i.pendingProps;switch(Mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),er(At),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(i)?rr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pf())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(rr(i),d!==null?(rt(i),A_(i,d)):(rt(i),Ad(i,f,null,l,a))):d?d!==t.memoizedState?(rr(i),rt(i),A_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(i),rt(i),Ad(i,f,t,l,a)),null;case 27:if(pa(i),a=Ne.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ce.current,ka(i)?ry(i):(t=Ov(f,l,a),i.stateNode=t,rr(i))}return rt(i),null;case 5:if(pa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=ce.current,ka(i))ry(i);else{var _=qc(Ne.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(i)}}return rt(i),Ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ne.current,ka(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Tv(t.nodeValue,a)),t||kr(i,!0)}else t=qc(t).createTextNode(l),t[wt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ka(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ka(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&Kd(i.stateNode.containerInfo),rt(i),null;case 10:return er(i.type),rt(i),null;case 19:if(Z(gt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Tl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Zg(a,t),a=a.sibling;return oe(gt,gt.current&1|2),Le&&Wi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Oc&&(i.flags|=128,f=!0,Tl(l,!1),i.lanes=4194304)}else{if(!f)if(t=mc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return rt(i),null}else 2*nn()-l.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,f=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,oe(gt,f?a&1|2:a&1),Le&&Wi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),Yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),er(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function zS(t,i){switch(Mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return er(At),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(gt),null;case 4:return ot(),null;case 10:return er(i.type),null;case 22:case 23:return Tn(i),Yf(),t!==null&&Z(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return er(At),null;case 25:return null;default:return null}}function R_(t,i){switch(Mf(i),i.tag){case 3:er(At),ot();break;case 26:case 27:case 5:pa(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Z(gt);break;case 10:er(i.type);break;case 22:case 23:Tn(i),Yf(),t!==null&&Z(Gs);break;case 24:er(At)}}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Xe(i,i.return,b)}}function Hr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var N=a,F=b;try{F()}catch(Y){Xe(f,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Xe(i,i.return,Y)}}function C_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yy(i,a)}catch(l){Xe(t,t.return,l)}}}function I_(t,i,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,i,f)}}function Di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,i,f)}else a.current=null}function N_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Rd(t,i,a){try{var l=t.stateNode;lA(l,t.type,a,i),l[Lt]=i}catch(f){Xe(t,t.return,f)}}function x_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jr(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Id(t,i,a),t=t.sibling;t!==null;)Id(t,i,a),t=t.sibling}function Ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,i,a),t=t.sibling;t!==null;)Ic(t,i,a),t=t.sibling}function D_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[wt]=t,i[Lt]=a}catch(d){Xe(t,t.return,d)}}var sr=!1,It=!1,Nd=!1,O_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function BS(t,i){if(t=t.containerInfo,Xd=Qc,t=Hg(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,F=0,Y=0,W=t,H=null;t:for(;;){for(var G;W!==a||f!==0&&W.nodeType!==3||(b=_+f),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)H=W,W=G;for(;;){if(W===t)break t;if(H===a&&++F===f&&(b=_),H===d&&++Y===l&&(N=_),(G=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=G}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Qc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Js(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function M_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&wl(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=Js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&C_(a),l&512&&bl(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yy(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&D_(a);case 26:case 5:or(t,a),i===null&&l&4&&N_(a),l&512&&bl(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&U_(t,a);break;case 13:or(t,a),l&4&&k_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=XS.bind(null,a),gA(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){i=i!==null&&i.memoizedState!==null||It,f=sr;var d=It;sr=l,(It=i)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=f,It=d}break;case 30:break;default:or(t,a)}}function V_(t){var i=t.alternate;i!==null&&(t.alternate=null,V_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function ar(t,i,a){for(a=a.child;a!==null;)P_(t,i,a),a=a.sibling}function P_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:It||Di(a,i),ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Di(a,i);var l=ut,f=un;Jr(a.type)&&(ut=a.stateNode,un=!1),ar(t,i,a),Ol(a.stateNode),ut=l,un=f;break;case 5:It||Di(a,i);case 6:if(l=ut,f=un,ut=null,ar(t,i,a),ut=l,un=f,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ut!==null&&(un?(t=ut,Cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ro(t)):Cv(ut,a.stateNode));break;case 4:l=ut,f=un,ut=a.stateNode.containerInfo,un=!0,ar(t,i,a),ut=l,un=f;break;case 0:case 11:case 14:case 15:Hr(2,a,i),It||Hr(4,a,i),ar(t,i,a);break;case 1:It||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&I_(a,i,l)),ar(t,i,a);break;case 21:ar(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,ar(t,i,a),It=l;break;default:ar(t,i,a)}}function U_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ro(t)}catch(a){Xe(i,i.return,a)}}}function k_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){Xe(i,i.return,a)}}function qS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new O_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new O_),i;default:throw Error(s(435,t.tag))}}function Nc(t,i){var a=qS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=JS.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Jr(b.type)){ut=b.stateNode,un=!1;break e}break;case 5:ut=b.stateNode,un=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(ut===null)throw Error(s(160));P_(d,_,f),ut=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)L_(i,t),i=i.sibling}var ni=null;function L_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Hr(3,t,t.return),wl(3,t),Hr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(It||a===null||Di(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(cn(i,t),hn(t),l&512&&(It||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[wt]=t,bt(d),l=d;break e;case"link":var _=Lv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Lv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,bt(d),l=d}t.stateNode=l}else jv(f,t.type,t.stateNode);else t.stateNode=kv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?jv(f,t.type,t.stateNode):kv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(It||a===null||Di(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(It||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Rd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if($c=null,f=ni,ni=Fc(i.containerInfo),cn(i,t),ni=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(i.containerInfo)}catch(he){Xe(t,t.return,he)}Nd&&(Nd=!1,j_(t));break;case 4:l=ni,ni=Fc(t.stateNode.containerInfo),cn(i,t),hn(t),ni=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=sr,Y=It;if(sr=F||f,It=Y||N,cn(i,t),It=Y,sr=F,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||sr||It||Ws(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var W=N.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Xe(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){Xe(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;f?Iv(G,!0):Iv(N.stateNode,!1)}catch(he){Xe(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(t);Ic(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var b=Cd(t);Ic(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Cd(t);Id(t,F,N);break;default:throw Error(s(161))}}catch(Y){Xe(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function j_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;j_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function or(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)M_(t,i.alternate,i),i=i.sibling}function Ws(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),Ws(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&I_(i,i.return,a),Ws(i);break;case 27:Ol(i.stateNode);case 26:case 5:Di(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}t=t.sibling}}function lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(f,d,a),wl(4,d);break;case 1:if(lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xe(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)gy(N[f],b)}catch(F){Xe(l,l.return,F)}}a&&_&64&&C_(d),bl(d,d.return);break;case 27:D_(d);case 26:case 5:lr(f,d,a),a&&l===null&&_&4&&N_(d),bl(d,d.return);break;case 12:lr(f,d,a);break;case 31:lr(f,d,a),a&&_&4&&U_(f,d);break;case 13:lr(f,d,a),a&&_&4&&k_(f,d);break;case 22:d.memoizedState===null&&lr(f,d,a),bl(d,d.return);break;case 30:break;default:lr(f,d,a)}i=i.sibling}}function xd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(t,i,a,l),i=i.sibling}function z_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),f&2048&&wl(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(f&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):Sl(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&xd(_,i);break;case 24:ii(t,i,a,l),f&2048&&Dd(i.alternate,i);break;default:ii(t,i,a,l)}}function Ka(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,b,N,f),wl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ka(d,_,b,N,f):Sl(d,_):(Y._visibility|=2,Ka(d,_,b,N,f)),f&&F&2048&&xd(_.alternate,_);break;case 24:Ka(d,_,b,N,f),f&&F&2048&&Dd(_.alternate,_);break;default:Ka(d,_,b,N,f)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&xd(l.alternate,l);break;case 24:Sl(a,l),f&2048&&Dd(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var Al=8192;function Ya(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)B_(t,i,a),t=t.sibling}function B_(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&Al&&t.memoizedState!==null&&IA(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var l=ni;ni=Fc(t.stateNode.containerInfo),Ya(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Ya(t,i,a),Al=l):Ya(t,i,a));break;default:Ya(t,i,a)}}function q_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,H_(l,t)}q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F_(t),t=t.sibling}function F_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Hr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Rl(t);break;default:Rl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,H_(l,t)}q_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function H_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(V_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var FS={getCacheForType:function(t){var i=$t(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(At).controller.signal}},HS=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,De=null,Me=0,Qe=0,wn=null,$r=!1,Qa=!1,Od=!1,ur=0,dt=0,Gr=0,Zs=0,Md=0,bn=0,Xa=0,Cl=null,fn=null,Vd=!1,Dc=0,$_=0,Oc=1/0,Mc=null,Kr=null,Pt=0,Yr=null,Ja=null,cr=0,Pd=0,Ud=null,G_=null,Il=0,kd=null;function Sn(){return($e&2)!==0&&Me!==0?Me&-Me:Q.T!==null?Fd():Vu()}function K_(){if(bn===0)if((Me&536870912)===0||Le){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),bn=t}else bn=536870912;return t=En.current,t!==null&&(t.flags|=32),bn}function dn(t,i,a){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Qr(t,Me,bn,!1)),Cs(t,a),(($e&2)===0||t!==tt)&&(t===tt&&(($e&2)===0&&(Zs|=a),dt===4&&Qr(t,Me,bn,!1)),Oi(t))}function Y_(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=l?KS(t,i):jd(t,i,!0),d=l;do{if(f===0){Qa&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!$S(a)){f=jd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Cl;var N=b.current.memoizedState.isDehydrated;if(N&&(Wa(b,_).flags|=256),_=jd(b,_,!1),_!==2){if(Od&&!N){b.errorRecoveryDisabledLanes|=d,Zs|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Wa(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,bn,!$r);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Dc+300-nn(),10<f)){if(Qr(l,i,bn,!$r),mi(l,0,!0)!==0)break e;cr=i,l.timeoutHandle=Av(Q_.bind(null,l,a,fn,Mc,Vd,i,bn,Zs,Xa,$r,d,"Throttled",-0,0),f);break e}Q_(l,a,fn,Mc,Vd,i,bn,Zs,Xa,$r,d,null,-0,0)}}break}while(!0);Oi(t)}function Q_(t,i,a,l,f,d,_,b,N,F,Y,W,H,G){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},B_(i,d,W);var he=(d&62914560)===d?Dc-nn():(d&4194048)===d?$_-nn():0;if(he=NA(W,he),he!==null){cr=d,t.cancelPendingCommit=he(iv.bind(null,t,i,d,a,l,f,_,b,N,Y,W,null,H,G)),Qr(t,d,_,!F);return}}iv(t,i,d,a,l,f,_,b,N)}function $S(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~Md,i&=~Zs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Is(t,a,i)}function Vc(){return($e&6)===0?(Nl(0),!1):!0}function Ld(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Zi=Hs=null,ed(t),qa=null,hl=0,t=De;for(;t!==null;)R_(t.alternate,t),t=t.return;De=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,Ld(),tt=t,De=a=Ji(t.current,null),Me=i,Qe=0,wn=null,$r=!1,Qa=Kn(t,i),Od=!1,Xa=bn=Md=Zs=Gr=dt=0,fn=Cl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return ur=i,tc(),a}function X_(t,i){Ie=null,Q.H=vl,i===Ba||i===uc?(i=fy(),Qe=3):i===qf?(i=fy(),Qe=4):Qe=i===gd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,De===null&&(dt=1,bc(t,Pn(i,t.current)))}function J_(){var t=En.current;return t===null?!0:(Me&4194048)===Me?jn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===jn:!1}function W_(){var t=Q.H;return Q.H=vl,t===null?vl:t}function Z_(){var t=Q.A;return Q.A=FS,t}function Pc(){dt=4,$r||(Me&4194048)!==Me&&En.current!==null||(Qa=!0),(Gr&134217727)===0&&(Zs&134217727)===0||tt===null||Qr(tt,Me,bn,!1)}function jd(t,i,a){var l=$e;$e|=2;var f=W_(),d=Z_();(tt!==t||Me!==i)&&(Mc=null,Wa(t,i)),i=!1;var _=dt;e:do try{if(Qe!==0&&De!==null){var b=De,N=wn;switch(Qe){case 8:Ld(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var F=Qe;if(Qe=0,wn=null,Za(t,b,N,F),a&&Qa){_=0;break e}break;default:F=Qe,Qe=0,wn=null,Za(t,b,N,F)}}GS(),_=dt;break}catch(Y){X_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Zi=Hs=null,$e=l,Q.H=f,Q.A=d,De===null&&(tt=null,Me=0,tc()),_}function GS(){for(;De!==null;)ev(De)}function KS(t,i){var a=$e;$e|=2;var l=W_(),f=Z_();tt!==t||Me!==i?(Mc=null,Oc=nn()+500,Wa(t,i)):Qa=Kn(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=wn;t:switch(Qe){case 1:Qe=0,wn=null,Za(t,i,d,1);break;case 2:case 9:if(cy(d)){Qe=0,wn=null,tv(i);break}i=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),Oi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:cy(d)?(Qe=0,wn=null,tv(i)):(Qe=0,wn=null,Za(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(_?zv(_):b.stateNode.complete){Qe=0,wn=null;var N=b.sibling;if(N!==null)De=N;else{var F=b.return;F!==null?(De=F,Uc(F)):De=null}break t}}Qe=0,wn=null,Za(t,i,d,5);break;case 6:Qe=0,wn=null,Za(t,i,d,6);break;case 8:Ld(),dt=6;break e;default:throw Error(s(462))}}YS();break}catch(Y){X_(t,Y)}while(!0);return Zi=Hs=null,Q.H=l,Q.A=f,$e=a,De!==null?0:(tt=null,Me=0,tc(),dt)}function YS(){for(;De!==null&&!pf();)ev(De)}function ev(t){var i=S_(t.alternate,t,ur);t.memoizedProps=t.pendingProps,i===null?Uc(t):De=i}function tv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=__(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=__(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:ed(i);default:R_(a,i),i=De=Zg(i,ur),i=S_(a,i,ur)}t.memoizedProps=t.pendingProps,i===null?Uc(t):De=i}function Za(t,i,a,l){Zi=Hs=null,ed(i),qa=null,hl=0;var f=i.return;try{if(US(t,f,i,a,Me)){dt=1,bc(t,Pn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;dt=1,bc(t,Pn(a,t.current)),De=null;return}i.flags&32768?(Le||l===1?t=!0:Qa||(Me&536870912)!==0?t=!1:($r=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),nv(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){nv(i,$r);return}t=i.return;var a=jS(i.alternate,i,ur);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);dt===0&&(dt=5)}function nv(t,i){do{var a=zS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);dt=6,De=null}function iv(t,i,a,l,f,d,_,b,N){t.cancelPendingCommit=null;do kc();while(Pt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Cf,_f(t,a,d,_,b,N),t===tt&&(De=tt=null,Me=0),Ja=i,Yr=t,cr=a,Pd=d,Ud=f,G_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WS(Ar,function(){return lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ae.p,ae.p=2,_=$e,$e|=4;try{BS(t,i,a)}finally{$e=_,ae.p=f,Q.T=l}}Pt=1,rv(),sv(),av()}}function rv(){if(Pt===1){Pt=0;var t=Yr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{L_(i,t);var d=Jd,_=Hg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Fg(b.ownerDocument.documentElement,b)){if(N!==null&&wf(b)){var F=N.start,Y=N.end;if(Y===void 0&&(Y=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(Y,b.value.length);else{var W=b.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var G=H.getSelection(),he=b.textContent.length,ye=Math.min(N.start,he),et=N.end===void 0?ye:Math.min(N.end,he);!G.extend&&ye>et&&(_=et,et=ye,ye=_);var k=qg(b,ye),D=qg(b,et);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var q=W.createRange();q.setStart(k.node,k.offset),G.removeAllRanges(),ye>et?(G.addRange(q),G.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),G.addRange(q))}}}}for(W=[],G=b;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var X=W[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Qc=!!Xd,Jd=Xd=null}finally{$e=f,ae.p=l,Q.T=a}}t.current=i,Pt=2}}function sv(){if(Pt===2){Pt=0;var t=Yr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{M_(t,i.alternate,i)}finally{$e=f,ae.p=l,Q.T=a}}Pt=3}}function av(){if(Pt===4||Pt===3){Pt=0,Cu();var t=Yr,i=Ja,a=cr,l=G_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Ja=Yr=null,ov(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kr=null),Ki(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Q.T=i,ae.p=f}}(cr&3)!==0&&kc(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===kd?Il++:(Il=0,kd=t):Il=0,Nl(0)}}function ov(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function kc(){return rv(),sv(),av(),lv()}function lv(){if(Pt!==5)return!1;var t=Yr,i=Pd;Pd=0;var a=Ki(cr),l=Q.T,f=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=Ud,Ud=null;var d=Yr,_=cr;if(Pt=0,Ja=Yr=null,cr=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,F_(d.current),z_(d,d.current,_,a),$e=b,Nl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{ae.p=f,Q.T=l,ov(t,i)}}function uv(t,i,a){i=Pn(a,i),i=pd(t.stateNode,i,2),t=Br(t,i,2),t!==null&&(Cs(t,2),Oi(t))}function Xe(t,i,a){if(t.tag===3)uv(t,t,a);else for(;i!==null;){if(i.tag===3){uv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=Pn(a,t),a=c_(2),l=Br(i,a,2),l!==null&&(h_(a,l,i,t),Cs(l,2),Oi(l));break}}i=i.return}}function zd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new HS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Od=!0,f.add(a),t=QS.bind(null,t,i,a),i.then(t,t))}function QS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(dt===4||dt===3&&(Me&62914560)===Me&&300>nn()-Dc?($e&2)===0&&Wa(t,0):Md|=a,Xa===Me&&(Xa=0)),Oi(t)}function cv(t,i){i===0&&(i=Mu()),t=Bs(t,i),t!==null&&(Cs(t,i),Oi(t))}function XS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),cv(t,a)}function JS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),cv(t,a)}function WS(t,i){return Vt(t,i)}var Lc=null,eo=null,Bd=!1,jc=!1,qd=!1,Xr=0;function Oi(t){t!==eo&&t.next===null&&(eo===null?Lc=eo=t:eo=eo.next=t),jc=!0,Bd||(Bd=!0,eA())}function Nl(t,i){if(!qd&&jc){qd=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mv(l,d))}else d=Me,d=mi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,mv(l,d));l=l.next}while(a);qd=!1}}function ZS(){hv()}function hv(){jc=Bd=!1;var t=0;Xr!==0&&cA()&&(t=Xr);for(var i=nn(),a=null,l=Lc;l!==null;){var f=l.next,d=fv(l,i);d===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=f}Pt!==0&&Pt!==5||Nl(t),Xr!==0&&(Xr=0)}function fv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&l)!==0)&&(f[_]=yf(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=tt,a=Me,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Sr(l),Ki(a)){case 2:case 8:a=jo;break;case 32:a=Ar;break;case 268435456:a=Iu;break;default:a=Ar}return l=dv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function dv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=Me;return l=mi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Y_(t,l,i),fv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?dv.bind(null,t):null)}function mv(t,i){if(kc())return null;Y_(t,i,!0)}function eA(){fA(function(){($e&6)!==0?Vt(Lo,ZS):hv()})}function Fd(){if(Xr===0){var t=ja;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Xr=t}return Xr}function pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function gv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function tA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=pv((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?pv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ai("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var N=_?gv(f,_):new FormData(f);ud(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?gv(f,_):new FormData(f),ud(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Hd=0;Hd<Rf.length;Hd++){var $d=Rf[Hd],nA=$d.toLowerCase(),iA=$d[0].toUpperCase()+$d.slice(1);ti(nA,"on"+iA)}ti(Kg,"onAnimationEnd"),ti(Yg,"onAnimationIteration"),ti(Qg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(vS,"onTransitionRun"),ti(ES,"onTransitionStart"),ti(TS,"onTransitionCancel"),ti(Xg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function yv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,F=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(Y){ec(Y)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,F=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(Y){ec(Y)}f.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[va];a===void 0&&(a=i[va]=new Set);var l=t+"__bubble";a.has(l)||(_v(i,t,2,!1),a.add(l))}function Gd(t,i,a){var l=0;i&&(l|=4),_v(a,t,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[zc]){t[zc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(rA.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,Gd("selectionchange",!1,i))}}function _v(t,i,a,l){switch(Kv(i)){case 2:var f=OA;break;case 8:f=MA;break;default:f=lm}a=f.bind(null,i,a,t),f=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Yd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=_i(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Dr(function(){var F=d,Y=Dn(a),W=[];e:{var H=Jg.get(t);if(H!==void 0){var G=Ai,he=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":G=Ju;break;case"focusin":he="focus",G=ks;break;case"focusout":he="blur",G=ks;break;case"beforeblur":case"afterblur":G=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Kg:case Yg:case Qg:G=Hu;break;case Xg:G=S;break;case"scroll":case"scrollend":G=el;break;case"wheel":G=$;break;case"copy":case"cut":case"paste":G=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Xi;break;case"toggle":case"beforetoggle":G=Ce}var ye=(i&4)!==0,et=!ye&&(t==="scroll"||t==="scrollend"),k=ye?H!==null?H+"Capture":null:H;ye=[];for(var D=F,q;D!==null;){var X=D;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||k===null||(X=Jn(D,k),X!=null&&ye.push(Dl(D,X,q))),et)break;D=D.return}0<ye.length&&(H=new G(H,he,null,a,Y),W.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Jo&&(he=a.relatedTarget||a.fromElement)&&(_i(he)||he[gi]))break e;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=F,he=he?_i(he):null,he!==null&&(et=u(he),ye=he.tag,he!==et||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(G=null,he=F),G!==he)){if(ye=tl,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Xi,X="onPointerLeave",k="onPointerEnter",D="pointer"),et=G==null?H:gn(G),q=he==null?H:gn(he),H=new ye(X,D+"leave",G,a,Y),H.target=et,H.relatedTarget=q,X=null,_i(Y)===F&&(ye=new ye(k,D+"enter",he,a,Y),ye.target=q,ye.relatedTarget=et,X=ye),et=X,G&&he)t:{for(ye=sA,k=G,D=he,q=0,X=k;X;X=ye(X))q++;X=0;for(var de=D;de;de=ye(de))X++;for(;0<q-X;)k=ye(k),q--;for(;0<X-q;)D=ye(D),X--;for(;q--;){if(k===D||D!==null&&k===D.alternate){ye=k;break t}k=ye(k),D=ye(D)}ye=null}else ye=null;G!==null&&vv(W,H,G,ye,!1),he!==null&&et!==null&&vv(W,et,he,ye,!0)}}e:{if(H=F?gn(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var qe=Ug;else if(Vg(H))if(kg)qe=gS;else{qe=mS;var fe=dS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&ba(F.elementType)&&(qe=Ug):qe=pS;if(qe&&(qe=qe(t,F))){Pg(W,qe,a,Y);break e}fe&&fe(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Yo(H,"number",H.value)}switch(fe=F?gn(F):window,t){case"focusin":(Vg(fe)||fe.contentEditable==="true")&&(Da=fe,bf=F,al=null);break;case"focusout":al=bf=Da=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,$g(W,a,Y);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":$g(W,a,Y)}var xe;if(He)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else xa?Ls(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ii&&a.locale!=="ko"&&(xa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&xa&&(xe=Zo()):(Si=Y,Wo="value"in Si?Si.value:Si.textContent,xa=!0)),fe=Bc(F,Ve),0<fe.length&&(Ve=new Ci(Ve,t,null,a,Y),W.push({event:Ve,listeners:fe}),xe?Ve.data=xe:(xe=Na(a),xe!==null&&(Ve.data=xe)))),(xe=Mn?uS(t,a):cS(t,a))&&(Ve=Bc(F,"onBeforeInput"),0<Ve.length&&(fe=new Ci("onBeforeInput","beforeinput",null,a,Y),W.push({event:fe,listeners:Ve}),fe.data=xe)),tA(W,t,F,a,Y)}yv(W,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(t,a),f!=null&&l.unshift(Dl(t,f,d)),f=Jn(t,i),f!=null&&l.push(Dl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function sA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,F=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||F===null||(N=F,f?(F=Jn(a,d),F!=null&&_.unshift(Dl(a,F,N))):f||(F=Jn(a,d),F!=null&&_.push(Dl(a,F,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(aA,`
`).replace(oA,"")}function Tv(t,i){return i=Ev(i),Ev(t)===i}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ta(t,a,l))}}function Qd(t,i,a,l,f,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ta(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=_=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":F=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,a,null)}}Lu(t,d,b,N,F,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ze(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Cr(t,!!l,i,!1):a!=null&&Cr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(t,i,_,b,a,null)}Ir(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,i,N,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Oe(xl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,F,l,a,null)}return;default:if(ba(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Qd(t,i,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,i,b,l,a,null))}function lA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,F=null,Y=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(G)||Ze(t,i,G,null,l,W)}}for(var H in l){var G=l[H];if(W=a[H],l.hasOwnProperty(H)&&(G!=null||W!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==W&&Ze(t,i,H,G,l,W)}}wa(t,_,b,N,F,Y,d,f);return;case"select":G=_=b=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,f,d,l,N)}i=b,a=_,l=G,H!=null?Cr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Cr(t,!!a,i,!0):Cr(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,_,f,l,d)}ju(t,H,G);return;case"option":for(var he in a)H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:Ze(t,i,he,null,l,H));for(N in l)H=l[N],G=a[N],l.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Ze(t,i,N,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Ze(t,i,ye,null,l,H);for(F in l)if(H=l[F],G=a[F],l.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ze(t,i,F,H,l,G)}return;default:if(ba(i)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&Qd(t,i,et,void 0,l,H);for(Y in l)H=l[Y],G=a[Y],!l.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||Qd(t,i,Y,H,l,G);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Ze(t,i,k,null,l,H);for(W in l)H=l[W],G=a[W],!l.hasOwnProperty(W)||H===G||H==null&&G==null||Ze(t,i,W,H,l,G)}function wv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&wv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>b)break;var Y=N.transferSize,W=N.initiatorType;Y&&wv(W)&&(N=N.responseEnd,_+=Y*(N<b?1:(b-F)/(N-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Jd=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(dA)}:Av;function dA(t){setTimeout(function(){throw t})}function Jr(t){return t==="head"}function Cv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ro(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[yi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(t.ownerDocument.body);a=f}while(a);ro(i)}function Iv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function pA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Nv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var im=null;function xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Ov(t,i,a){switch(i=qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var Bn=new Map,Mv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=ae.d;ae.d={f:yA,r:_A,D:vA,C:EA,L:TA,m:wA,X:SA,S:bA,M:AA};function yA(){var t=hr.f(),i=Vc();return t||i}function _A(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?Xy(i):hr.r(t)}var to=typeof document>"u"?null:document;function Vv(t,i,a){var l=to;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Mv.has(f)||(Mv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),bt(i),l.head.appendChild(i)))}}function vA(t){hr.D(t),Vv("dns-prefetch",t,null)}function EA(t,i){hr.C(t,i),Vv("preconnect",t,i)}function TA(t,i,a){hr.L(t,i,a);var l=to;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=no(t);break;case"script":d=io(t)}Bn.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Kt(i,"link",t),bt(i),l.head.appendChild(i)))}}function wA(t,i){hr.m(t,i);var a=to;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(t)}if(!Bn.has(d)&&(t=w({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Kt(l,"link",t),bt(l),a.head.appendChild(l)}}}function bA(t,i,a){hr.S(t,i,a);var l=to;if(l&&t){var f=vi(l).hoistableStyles,d=no(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ml(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&rm(t,a);var N=_=l.createElement("link");bt(N),Kt(N,"link",t),N._p=new Promise(function(F,Y){N.onload=F,N.onerror=Y}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Hc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function SA(t,i){hr.X(t,i);var a=to;if(a&&t){var l=vi(a).hoistableScripts,f=io(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=w({src:t,async:!0},i),(i=Bn.get(f))&&sm(t,i),d=a.createElement("script"),bt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function AA(t,i){hr.M(t,i);var a=to;if(a&&t){var l=vi(a).hoistableScripts,f=io(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Bn.get(f))&&sm(t,i),d=a.createElement("script"),bt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Pv(t,i,a,l){var f=(f=Ne.current)?Fc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=vi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var d=vi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||RA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=vi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+on(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Uv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function RA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),bt(i),t.head.appendChild(i))}function io(t){return'[src="'+on(t)+'"]'}function Vl(t){return"script[async]"+t}function kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Kt(l,"style",f),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":f=no(a.href);var d=t.querySelector(Ml(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=Uv(a),(f=Bn.get(f))&&rm(l,f),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Kt(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=io(a.src),(f=t.querySelector(Vl(d)))?(i.instance=f,bt(f),f):(l=a,(f=Bn.get(d))&&(l=w({},a),sm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),bt(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var $c=null;function Lv(t,i,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function jv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function CA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=no(l.href),d=i.querySelector(Ml(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Gc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=Uv(l),(f=Bn.get(f))&&rm(l,f),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function NA(t,i){return t.stylesheets&&t.count===0&&Yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&am===0&&(am=62500*uA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function Yc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,i.forEach(xA,t),Kc=null,Gc.call(t))}function xA(t,i){if(!(i.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function DA(t,i,a,l,f,d,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Bv(t,i,a,l,f,d,_,b,N,F,Y,W){return t=new DA(t,i,a,_,N,F,Y,W,b),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ff(d),t}function qv(t){return t?(t=Va,t):Va}function Fv(t,i,a,l,f,d){f=qv(f),l.context===null?l.context=f:l.pendingContext=f,l=zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(t,l,i),a!==null&&(dn(a,t,i),dl(a,t,i))}function Hv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function om(t,i){Hv(t,i),(t=t.alternate)&&Hv(t,i)}function $v(t){if(t.tag===13||t.tag===31){var i=Bs(t,67108864);i!==null&&dn(i,t,67108864),om(t,67108864)}}function Gv(t){if(t.tag===13||t.tag===31){var i=Sn();i=Ns(i);var a=Bs(t,i);a!==null&&dn(a,t,i),om(t,i)}}var Qc=!0;function OA(t,i,a,l){var f=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,lm(t,i,a,l)}finally{ae.p=d,Q.T=f}}function MA(t,i,a,l){var f=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,lm(t,i,a,l)}finally{ae.p=d,Q.T=f}}function lm(t,i,a,l){if(Qc){var f=um(l);if(f===null)Yd(t,i,l,Xc,a),Yv(t,l);else if(PA(f,t,i,a,l))l.stopPropagation();else if(Yv(t,l),i&4&&-1<VA.indexOf(t)){for(;f!==null;){var d=xn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-mt(_);b.entanglements[1]|=N,_&=~N}Oi(d),($e&6)===0&&(Oc=nn()+500,Nl(0))}}break;case 31:case 13:b=Bs(d,2),b!==null&&dn(b,d,2),Vc(),om(d,2)}if(d=um(l),d===null&&Yd(t,i,l,Xc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yd(t,i,l,null,a)}}function um(t){return t=Dn(t),cm(t)}var Xc=null;function cm(t){if(Xc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case Lo:return 2;case jo:return 8;case Ar:case gf:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var hm=!1,Wr=null,Zr=null,es=null,Ul=new Map,kl=new Map,ts=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yv(t,i){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ll(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=xn(i),i!==null&&$v(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function PA(t,i,a,l,f){switch(i){case"focusin":return Wr=Ll(Wr,t,i,a,l,f),!0;case"dragenter":return Zr=Ll(Zr,t,i,a,l,f),!0;case"mouseover":return es=Ll(es,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ul.set(d,Ll(Ul.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,kl.set(d,Ll(kl.get(d)||null,t,i,a,l,f)),!0}return!1}function Qv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){Gv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){Gv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jo=l,a.target.dispatchEvent(l),Jo=null}else return i=xn(a),i!==null&&$v(i),t.blockedOn=a,!1;i.shift()}return!0}function Xv(t,i,a){Jc(t)&&a.delete(i)}function UA(){hm=!1,Wr!==null&&Jc(Wr)&&(Wr=null),Zr!==null&&Jc(Zr)&&(Zr=null),es!==null&&Jc(es)&&(es=null),Ul.forEach(Xv),kl.forEach(Xv)}function Wc(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var Zc=null;function Jv(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ro(t){function i(N){return Wc(N,t)}Wr!==null&&Wc(Wr,t),Zr!==null&&Wc(Zr,t),es!==null&&Wc(es,t),Ul.forEach(i),kl.forEach(i);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&ts.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||Jv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)b=_.formAction;else if(cm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Jv(a)}}}function Wv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function fm(t){this._internalRoot=t}eh.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();Fv(a,l,t,i,null,null)},eh.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Fv(t.current,2,null,t,null,null),Vc(),i[gi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,t),a===0&&Qv(t)}};var Zv=e.version;if(Zv!=="19.2.3")throw Error(s(527,Zv,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var kA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Gn=th.inject(kA),qt=th}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=a_,d=o_,_=l_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Bv(t,1,!1,null,null,a,l,null,f,d,_,Wv),t[gi]=i.current,Kd(t),new fm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=a_,_=o_,b=l_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Bv(t,1,!0,i,a??null,l,f,N,d,_,b,Wv),i.context=qv(null),a=i.current,l=Sn(),l=Ns(l),f=zr(l),f.callback=null,Br(a,f,l),a=l,i.current.lanes=a,Cs(i,a),Oi(i),t[gi]=i.current,Kd(t),new eh(i)},zl.version="19.2.3",zl}var uE;function KA(){if(uE)return pm.exports;uE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=GA(),pm.exports}var YA=KA();const QA=iT(YA);var cE="popstate";function XA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Lm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:tu(o)}return WA(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JA(){return Math.random().toString(36).substring(2,10)}function hE(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||s||JA()}}function tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ao(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function WA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function w(){m="POP";let L=T(),te=L==null?null:L-p;p=L,g&&g({action:m,location:U.location,delta:te})}function A(L,te){m="PUSH";let ie=Lm(U.location,L,te);p=T()+1;let re=hE(ie,p),pe=U.createHref(ie);try{h.pushState(re,"",pe)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(pe)}u&&g&&g({action:m,location:U.location,delta:1})}function P(L,te){m="REPLACE";let ie=Lm(U.location,L,te);p=T();let re=hE(ie,p),pe=U.createHref(ie);h.replaceState(re,"",pe),u&&g&&g({action:m,location:U.location,delta:0})}function K(L){return ZA(L)}let U={get action(){return m},get location(){return r(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(cE,w),g=L,()=>{o.removeEventListener(cE,w),g=null}},createHref(L){return e(o,L)},createURL:K,encodeLocation(L){let te=K(L);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:P,go(L){return h.go(L)}};return U}function ZA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function rT(r,e,n="/"){return e1(r,e,n,!1)}function e1(r,e,n,s){let o=typeof e=="string"?Ao(e):e,u=_r(o.pathname||"/",n);if(u==null)return null;let h=sT(r);t1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=f1(u);m=c1(h[g],p,s)}return m}function sT(r,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ct(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let w=pr([s,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),sT(h.children,e,A,w,g)),!(h.path==null&&!h.index)&&e.push({path:w,score:l1(w,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of aT(h.path))u(h,m,!0,g)}),e}function aT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=aT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function t1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:u1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var n1=/^:[\w-]+$/,i1=3,r1=2,s1=1,a1=10,o1=-2,fE=r=>r==="*";function l1(r,e){let n=r.split("/"),s=n.length;return n.some(fE)&&(s+=o1),e&&(s+=r1),n.filter(o=>!fE(o)).reduce((o,u)=>o+(n1.test(u)?i1:u===""?s1:a1),s)}function u1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function c1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),A=g.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:pr([u,w.pathname]),pathnameBase:g1(pr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=pr([u,w.pathnameBase]))}return h}function wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=h1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:w},A)=>{if(T==="*"){let K=m[A]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const P=m[A];return w&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function h1(r,e=!1,n=!0){Cn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function f1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d1=r=>oT.test(r);function m1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ao(r):r,u;if(n)if(d1(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=dE(n.substring(1),"/"):u=dE(n,e)}else u=e;return{pathname:u,search:y1(s),hash:_1(o)}}function dE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(r){let e=p1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function gp(r,e,n,s=!1){let o;typeof r=="string"?o=Ao(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let g=m1(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var pr=r=>r.join("/").replace(/\/\/+/g,"/"),g1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),y1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,v1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function E1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function T1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uT(r,e){let n=r;if(typeof n!="string"||!oT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(lT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_r(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Cn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cT=["POST","PUT","PATCH","DELETE"];new Set(cT);var w1=["GET",...cT];new Set(w1);var Ro=z.createContext(null);Ro.displayName="DataRouter";var Hh=z.createContext(null);Hh.displayName="DataRouterState";var b1=z.createContext(!1),hT=z.createContext({isTransitioning:!1});hT.displayName="ViewTransition";var S1=z.createContext(new Map);S1.displayName="Fetchers";var A1=z.createContext(null);A1.displayName="Await";var In=z.createContext(null);In.displayName="Navigation";var du=z.createContext(null);du.displayName="Location";var ui=z.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var yp=z.createContext(null);yp.displayName="RouteError";var fT="REACT_ROUTER_ERROR",R1="REDIRECT",C1="ROUTE_ERROR_RESPONSE";function I1(r){if(r.startsWith(`${fT}:${R1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function N1(r){if(r.startsWith(`${fT}:${C1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new v1(e.status,e.statusText,e.data)}catch{}}function x1(r,{relative:e}={}){ct(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(In),{hash:o,pathname:u,search:h}=mu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Co(){return z.useContext(du)!=null}function br(){return ct(Co(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(du).location}var dT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mT(r){z.useContext(In).static||z.useLayoutEffect(r)}function $h(){let{isDataRoute:r}=z.useContext(ui);return r?$1():D1()}function D1(){ct(Co(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ro),{basename:e,navigator:n}=z.useContext(In),{matches:s}=z.useContext(ui),{pathname:o}=br(),u=JSON.stringify(pp(s)),h=z.useRef(!1);return mT(()=>{h.current=!0}),z.useCallback((g,p={})=>{if(Cn(h.current,dT),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=gp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:pr([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,r])}var O1=z.createContext(null);function M1(r){let e=z.useContext(ui).outlet;return z.useMemo(()=>e&&z.createElement(O1.Provider,{value:r},e),[e,r])}function mu(r,{relative:e}={}){let{matches:n}=z.useContext(ui),{pathname:s}=br(),o=JSON.stringify(pp(n));return z.useMemo(()=>gp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function V1(r,e){return pT(r,e)}function pT(r,e,n,s,o){ct(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(In),{matches:h}=z.useContext(ui),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let ie=w&&w.path||"";yT(p,!w||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let A=br(),P;if(e){let ie=typeof e=="string"?Ao(e):e;ct(T==="/"||ie.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),P=ie}else P=A;let K=P.pathname||"/",U=K;if(T!=="/"){let ie=T.replace(/^\//,"").split("/");U="/"+K.replace(/^\//,"").split("/").slice(ie.length).join("/")}let L=rT(r,{pathname:U});Cn(w||L!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Cn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=j1(L&&L.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:pr([T,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?T:pr([T,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),h,n,s,o);return e&&te?z.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},te):te}function P1(){let r=H1(),e=E1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var U1=z.createElement(P1,null),gT=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=N1(r.digest);n&&(r=n)}let e=r!==void 0?z.createElement(ui.Provider,{value:this.props.routeContext},z.createElement(yp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?z.createElement(k1,{error:r},e):e}};gT.contextType=b1;var Em=new WeakMap;function k1({children:r,error:e}){let{basename:n}=z.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=I1(e.digest);if(s){let o=Em.get(e);if(o)throw o;let u=uT(s.location,n);if(lT&&!Em.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Em.set(e,h),h}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function L1({routeContext:r,match:e,children:n}){let s=z.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ui.Provider,{value:r},n)}function j1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let T=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);ct(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let w=u[T];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=T),w.route.id){let{loaderData:A,errors:P}=n,K=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!P||P[w.route.id]===void 0);if(w.route.lazy||K){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(T,w)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:T1(n.matches),errorInfo:w})}:void 0;return u.reduceRight((T,w,A)=>{let P,K=!1,U=null,L=null;n&&(P=h&&w.route.id?h[w.route.id]:void 0,U=w.route.errorElement||U1,m&&(g<0&&A===0?(yT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,L=null):g===A&&(K=!0,L=w.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,A+1)),ie=()=>{let re;return P?re=U:K?re=L:w.route.Component?re=z.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=T,z.createElement(L1,{match:w,routeContext:{outlet:T,matches:te,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?z.createElement(gT,{location:n.location,revalidation:n.revalidation,component:U,error:P,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:p}):ie()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(r){let e=z.useContext(Ro);return ct(e,_p(r)),e}function B1(r){let e=z.useContext(Hh);return ct(e,_p(r)),e}function q1(r){let e=z.useContext(ui);return ct(e,_p(r)),e}function vp(r){let e=q1(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function F1(){return vp("useRouteId")}function H1(){let r=z.useContext(yp),e=B1("useRouteError"),n=vp("useRouteError");return r!==void 0?r:e.errors?.[n]}function $1(){let{router:r}=z1("useNavigate"),e=vp("useNavigate"),n=z.useRef(!1);return mT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Cn(n.current,dT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var mE={};function yT(r,e,n){!e&&!mE[r]&&(mE[r]=!0,Cn(!1,n))}z.memo(G1);function G1({routes:r,future:e,state:n,onError:s}){return pT(r,void 0,n,s,e)}function _T({to:r,replace:e,state:n,relative:s}){ct(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(In);Cn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ui),{pathname:h}=br(),m=$h(),g=gp(r,pp(u),h,s==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function K1(r){return M1(r.context)}function qn(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Ao(n));let{pathname:p="/",search:T="",hash:w="",state:A=null,key:P="default"}=n,K=z.useMemo(()=>{let U=_r(p,m);return U==null?null:{location:{pathname:U,search:T,hash:w,state:A,key:P},navigationType:s}},[m,p,T,w,A,P,s]);return Cn(K!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${w}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:z.createElement(In.Provider,{value:g},z.createElement(du.Provider,{children:e,value:K}))}function Q1({children:r,location:e}){return V1(jm(r),e)}function jm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,jm(s.props.children,u));return}ct(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=jm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Gh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function X1(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function J1(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function W1(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function Z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eR(r,e){return r.button===0&&(!e||e==="_self")&&!Z1(r)}function zm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function tR(r,e){let n=zm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var nh=null;function nR(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var iR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!iR.has(r)?(Cn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function rR(r,e){let n,s,o,u,h;if(J1(r)){let m=r.getAttribute("action");s=m?_r(m,e):null,n=r.getAttribute("method")||ch,o=Tm(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if(X1(r)||W1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?_r(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=Tm(r.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!nR()){let{name:p,type:T,value:w}=r;if(T==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,w)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sR(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_r(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function aR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await aR(u,n);return h.links?h.links():[]}return[]}));return fR(s.flat(1).filter(oR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pE(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function uR(r,e,{includeHydrateFallback:n}={}){return cR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cR(r){return[...new Set(r)]}function hR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function fR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(hR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function vT(){let r=z.useContext(Ro);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dR(){let r=z.useContext(Hh);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tp=z.createContext(void 0);Tp.displayName="FrameworkContext";function ET(){let r=z.useContext(Tp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function mR(r,e){let n=z.useContext(Tp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:w}=e,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=te=>{te.forEach(ie=>{h(ie.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),z.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let P=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Bl(m,P),onBlur:Bl(g,K),onMouseEnter:Bl(p,P),onMouseLeave:Bl(T,K),onTouchStart:Bl(w,P)}]:[!1,A,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function pR({page:r,...e}){let{router:n}=vT(),s=z.useMemo(()=>rT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(yR,{page:r,matches:s,...e}):null}function gR(r){let{manifest:e,routeModules:n}=ET(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return lR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function yR({page:r,matches:e,...n}){let s=br(),{future:o,manifest:u,routeModules:h}=ET(),{basename:m}=vT(),{loaderData:g,matches:p}=dR(),T=z.useMemo(()=>pE(r,e,p,u,s,"data"),[r,e,p,u,s]),w=z.useMemo(()=>pE(r,e,p,u,s,"assets"),[r,e,p,u,s]),A=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,L=!1;if(e.forEach(ie=>{let re=u.routes[ie.route.id];!re||!re.hasLoader||(!T.some(pe=>pe.route.id===ie.route.id)&&ie.route.id in g&&h[ie.route.id]?.shouldRevalidate||re.hasClientLoader?L=!0:U.add(ie.route.id))}),U.size===0)return[];let te=sR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&U.size>0&&te.searchParams.set("_routes",e.filter(ie=>U.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,T,e,r,h]),P=z.useMemo(()=>uR(w,u),[w,u]),K=gR(w);return z.createElement(z.Fragment,null,A.map(U=>z.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),P.map(U=>z.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),K.map(({key:U,link:L})=>z.createElement("link",{key:U,nonce:n.nonce,...L})))}function _R(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vR&&(window.__reactRouterVersion="7.12.0")}catch{}function ER({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=XA({window:s,v5Compat:!0}));let u=o.current,[h,m]=z.useState({action:u.action,location:u.location}),g=z.useCallback(p=>{n===!1?m(p):z.startTransition(()=>m(p))},[n]);return z.useLayoutEffect(()=>u.listen(g),[u,g]),z.createElement(Y1,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var TT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wT=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A,...P},K){let{basename:U,unstable_useTransitions:L}=z.useContext(In),te=typeof p=="string"&&TT.test(p),ie=uT(p,U);p=ie.to;let re=x1(p,{relative:o}),[pe,Ee,we]=mR(s,P),x=bR(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function R(V){e&&e(V),V.defaultPrevented||x(V)}let C=z.createElement("a",{...P,...we,href:ie.absoluteURL||re,onClick:ie.isExternal||u?e:R,ref:_R(K,Ee),target:g,"data-discover":!te&&n==="render"?"true":void 0});return pe&&!te?z.createElement(z.Fragment,null,C,z.createElement(pR,{page:re})):C});wT.displayName="Link";var wp=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},T){let w=mu(h,{relative:p.relative}),A=br(),P=z.useContext(Hh),{navigator:K,basename:U}=z.useContext(In),L=P!=null&&NR(w)&&m===!0,te=K.encodeLocation?K.encodeLocation(w).pathname:w.pathname,ie=A.pathname,re=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&U&&(re=_r(re,U)||re);const pe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ee=ie===te||!o&&ie.startsWith(te)&&ie.charAt(pe)==="/",we=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),x={isActive:Ee,isPending:we,isTransitioning:L},R=Ee?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Ee?"active":null,we?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return z.createElement(wT,{...p,"aria-current":R,className:C,ref:T,style:V,to:h,viewTransition:m},typeof g=="function"?g(x):g)});wp.displayName="NavLink";var TR=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A,...P},K)=>{let{unstable_useTransitions:U}=z.useContext(In),L=CR(),te=IR(m,{relative:p}),ie=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&TT.test(m),pe=Ee=>{if(g&&g(Ee),Ee.defaultPrevented)return;Ee.preventDefault();let we=Ee.nativeEvent.submitter,x=we?.getAttribute("formmethod")||h,R=()=>L(we||Ee.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:w,unstable_defaultShouldRevalidate:A});U&&n!==!1?z.startTransition(()=>R()):R()};return z.createElement("form",{ref:K,method:ie,action:te,onSubmit:s?g:pe,...P,"data-discover":!re&&r==="render"?"true":void 0})});TR.displayName="Form";function wR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(r){let e=z.useContext(Ro);return ct(e,wR(r)),e}function bR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=$h(),T=br(),w=mu(r,{relative:u});return z.useCallback(A=>{if(eR(A,e)){A.preventDefault();let P=n!==void 0?n:tu(T)===tu(w),K=()=>p(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?z.startTransition(()=>K()):K()}},[T,p,w,n,s,e,r,o,u,h,m,g])}function SR(r){Cn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(zm(r)),n=z.useRef(!1),s=br(),o=z.useMemo(()=>tR(s.search,n.current?null:e.current),[s.search]),u=$h(),h=z.useCallback((m,g)=>{const p=zm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+p,g)},[u,o]);return[o,h]}var AR=0,RR=()=>`__${String(++AR)}__`;function CR(){let{router:r}=bT("useSubmit"),{basename:e}=z.useContext(In),n=F1(),s=r.fetch,o=r.navigate;return z.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:T,body:w}=rR(u,e);if(h.navigate===!1){let A=h.fetcherKey||RR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:w,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:w,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function IR(r,{relative:e}={}){let{basename:n}=z.useContext(In),s=z.useContext(ui);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},h=br();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),tu(u)}function NR(r,{relative:e}={}){let n=z.useContext(hT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bT("useViewTransitionState"),o=mu(r,{relative:e});if(!n.isTransitioning)return!1;let u=_r(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const gE=r=>{let e;const n=new Set,s=(p,T)=>{const w=typeof p=="function"?p(e):p;if(!Object.is(w,e)){const A=e;e=T??(typeof w!="object"||w===null)?w:Object.assign({},e,w),n.forEach(P=>P(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=e=r(s,o,m);return m},xR=(r=>r?gE(r):gE),DR=r=>r;function OR(r,e=DR){const n=ql.useSyncExternalStore(r.subscribe,ql.useCallback(()=>e(r.getState()),[r,e]),ql.useCallback(()=>e(r.getInitialState()),[r,e]));return ql.useDebugValue(n),n}const yE=r=>{const e=xR(r),n=s=>OR(e,s);return Object.assign(n,e),n},MR=(r=>r?yE(r):yE),ST=MR(r=>({user:null,loading:!0,setUser:e=>r({user:e}),setLoading:e=>r({loading:e})})),Re={card:"p-4 bg-gradient-to-r from-blue-900/80 to-blue-500/90 rounded-xl border border-cyan-500 hover:border-cyan-300 transition-colors",header:"",title:"w-full",selection:"relative w-full h-12 cursor-pointer mt-[-3rem]",list_content:"my-4 p-2 text-cyan-500 space-y-2 text-sm",icon_list:"flex gap-2 items-center",tags:"inline-block px-1 text-xs font-medium rounded",name:"text-base font-medium text-white cursor-pointer",selected_name:"text-xl font-bold text-cyan-400 w-full cursor-pointer",contact_grid:"grid grid-cols-3 gap-1 items-center"},bp={profile_initial:"rounded-full h-12 w-12 flex items-center justify-center font-light text-2xl"},VR={error:"text-red-700 text-center py-8",notice:"text-cyan-400 text-center py-8"},PR={page:"max-w-8xl mx-auto",header:"h-[8vh] md:h-[7vh] bg-blue-700/40",title:"p-4 flex items-center gap-2 h-full text-2xl font-bold text-cyan-500",content:"max-h-[82vh] overflow-y-scroll"},UR={layout:"space-y-4 p-4 bg-blue-800/50 border border-cyan-500 rounded-lg",label:"block text-sm font-medium text-cyan-500 mb-1",input:"w-full px-3 py-2 border border-cyan-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",action:"flex flex-col sm:flex-row gap-2 pt-2"},kR={solid:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-cyan-700 to-cyan-500 hover:from-cyan-600 hover:to-cyan-400 border-cyan-500 hover:border-cyan-300 text-cyan-200 hover:text-cyan-50",outline:"p-2 flex items-center justify-center gap-2 cursor-pointer border rounded-md w-full transition-colors bg-gradient-to-t from-blue-700/60 to-blue-800/60 hover:from-blue-600/70 hover:to-blue-500/70 border-cyan-500 hover:border-cyan-300 text-cyan-500 hover:text-cyan-300"},LR={dark:"relative w-full h-screen overflow-hidden bg-gradient-to-b from-blue-900 to-blue-950"},ee={background:LR,system:VR,view:PR,form:UR,button:kR};function jR(){const[r,e]=z.useState([]),n=50,s=o=>{const u=["bg-blue-400","bg-blue-500","bg-cyan-400","bg-teal-400","bg-blue-800","bg-white"],h=["opacity-20","opacity-30","opacity-40","opacity-50"];return{id:o,x:1+Math.random()*99,y:110+Math.random()*20,size:10+Math.random()*100,color:u[Math.floor(Math.random()*u.length)],opacity:h[Math.floor(Math.random()*h.length)],speed:.2+Math.random()*.3,wobble:Math.random()*2-1,wobbleSpeed:.01+Math.random()*.02}};return z.useEffect(()=>{const o=[];for(let g=0;g<n;g++){const p=s(g);p.y=Math.random()*120,o.push(p)}e(o);let u,h=0;const m=g=>{const p=g-h;p>16&&(h=g,e(T=>T.map(w=>{const A=w.y-w.speed*p/50;if(A<-10)return s(w.id);const P=w.wobble+w.wobbleSpeed,K=w.x+Math.sin(P)*.05;return{...w,x:K,y:A,wobble:P}}))),u=requestAnimationFrame(m)};return u=requestAnimationFrame(m),()=>{cancelAnimationFrame(u)}},[]),E.jsx("div",{className:`${ee.background.dark}`,children:r.map(o=>E.jsx("div",{className:`absolute rounded-full ${o.color} ${o.opacity}`,style:{left:`${o.x}%`,bottom:`${100-o.y}%`,width:`${o.size}px`,height:`${o.size}px`,boxShadow:"0 0 8px rgba(255, 255, 255, 0.2)",transform:"translate(-50%, 50%)"}},o.id))})}const zR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),_E=r=>{const e=BR(r);return e.charAt(0).toUpperCase()+e.slice(1)},AT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),qR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HR=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>z.createElement("svg",{ref:g,...FR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:AT("lucide",o),...!u&&!qR(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,T])=>z.createElement(p,T)),...Array.isArray(u)?u:[u]]));const ci=(r,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(HR,{ref:u,iconNode:e,className:AT(`lucide-${zR(_E(r))}`,`lucide-${r}`,s),...o}));return n.displayName=_E(r),n};const $R=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Sp=ci("layout-dashboard",$R);const GR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KR=ci("log-in",GR);const YR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RT=ci("log-out",YR);const QR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yo=ci("mail",QR);const XR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],CT=ci("map-pin",XR);const JR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ap=ci("pencil",JR);const WR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_o=ci("phone",WR);const ZR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IT=ci("settings",ZR);const eC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Rp=ci("user-plus",eC);const tC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vi=ci("users",tC);const nC=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],NT=ci("washing-machine",nC),iC=()=>{};var vE={};const xT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},DT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,P=p&63;g||(P=64,h||(A=64)),s.push(n[T],n[w],n[A],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(xT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):rC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new sC;const A=u<<2|m>>4;if(s.push(A),p!==64){const P=m<<4&240|p>>2;if(s.push(P),w!==64){const K=p<<6&192|w;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(r){const e=xT(r);return DT.encodeByteArray(e,!0)},bh=function(r){return aC(r).replace(/\./g,"")},OT=function(r){try{return DT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lC=()=>oC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof vE>"u")return;const r=vE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&OT(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return iC()||lC()||uC()||cC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},MT=r=>Kh()?.emulatorHosts?.[r],VT=r=>{const e=MT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PT=()=>Kh()?.config,UT=r=>Kh()?.[`_${r}`];class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ua(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cp(r){return(await fetch(r,{credentials:"include"})).ok}function kT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}const Ql={};function fC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function dC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let EE=!1;function Ip(r,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||Ql[r]===e||Ql[r]||EE)return;Ql[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=fC().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{EE=!0,h()},A}function T(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=dC(s),P=n("text"),K=document.getElementById(P)||document.createElement("span"),U=n("learnmore"),L=document.getElementById(U)||document.createElement("a"),te=n("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),T(L,U);const pe=p();g(ie,te),re.append(ie,K,L,pe),document.body.appendChild(re)}u?(K.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function pC(){const r=Kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function EC(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function wC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const bC="FirebaseError";class $i extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bC,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?SC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new $i(o,m,s)}}function SC(r,e){return r.replace(AC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AC=/\{\$([^}]+)}/g;function RC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(TE(u)&&TE(h)){if(!ia(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function TE(r){return r!==null&&typeof r=="object"}function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function CC(r,e){const n=new IC(r,e);return n.subscribe.bind(n)}class IC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}function kt(r){return r&&r._delegate?r._delegate:r}class fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class xC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OC(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(r){return r===ea?void 0:r}function OC(r){return r.instantiationMode==="EAGER"}class MC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const VC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},PC=Pe.INFO,UC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},kC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=UC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const LC=(r,e)=>e.some(n=>r instanceof n);let wE,bE;function jC(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,Bm=new WeakMap,jT=new WeakMap,bm=new WeakMap,xp=new WeakMap;function BC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ls(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&LT.set(n,r)}).catch(()=>{}),xp.set(e,r),e}function qC(r){if(Bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Bm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FC(r){qm=r(qm)}function HC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Sm(this),e,...n);return jT.set(s,e.sort?e.sort():[e]),ls(s)}:zC().includes(r)?function(...e){return r.apply(Sm(this),e),ls(LT.get(this))}:function(...e){return ls(r.apply(Sm(this),e))}}function $C(r){return typeof r=="function"?HC(r):(r instanceof IDBTransaction&&qC(r),LC(r,jC())?new Proxy(r,qm):r)}function ls(r){if(r instanceof IDBRequest)return BC(r);if(bm.has(r))return bm.get(r);const e=$C(r);return e!==r&&(bm.set(r,e),xp.set(e,r)),e}const Sm=r=>xp.get(r);function GC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ls(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ls(h.result),g.oldVersion,g.newVersion,ls(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const KC=["get","getKey","getAll","getAllKeys","count"],YC=["put","add","delete","clear"],Am=new Map;function SE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KC.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Am.set(e,u),u}FC(r=>({...r,get:(e,n,s)=>SE(e,n)||r.get(e,n,s),has:(e,n)=>!!SE(e,n)||r.has(e,n)}));class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XC(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",AE="0.14.6";const vr=new Np("@firebase/app"),JC="@firebase/app-compat",WC="@firebase/analytics-compat",ZC="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",iI="@firebase/auth-compat",rI="@firebase/database",sI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",uI="@firebase/installations",cI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",dI="@firebase/performance",mI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",_I="@firebase/storage-compat",vI="@firebase/firestore",EI="@firebase/ai",TI="@firebase/firestore-compat",wI="firebase",bI="12.6.0";const Hm="[DEFAULT]",SI={[Fm]:"fire-core",[JC]:"fire-core-compat",[ZC]:"fire-analytics",[WC]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[iI]:"fire-auth-compat",[rI]:"fire-rtdb",[sI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[uI]:"fire-iid",[cI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[dI]:"fire-perf",[mI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[_I]:"fire-gcs-compat",[vI]:"fire-fst",[TI]:"fire-fst-compat",[EI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};const Sh=new Map,AI=new Map,$m=new Map;function RE(r,e){try{r.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ra(r){const e=r.name;if($m.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const n of Sh.values())RE(n,r);for(const n of AI.values())RE(n,r);return!0}function Yh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}const RI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new pu("app","Firebase",RI);class CI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const ca=bI;function zT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=PT()),!n)throw us.create("no-options");const u=Sh.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const h=new MC(o);for(const g of $m.values())h.addComponent(g);const m=new CI(n,s,h);return Sh.set(o,m),m}function Dp(r=Hm){const e=Sh.get(r);if(!e&&r===Hm&&PT())return zT();if(!e)throw us.create("no-app",{appName:r});return e}function Pi(r,e,n){let s=SI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}ra(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const II="firebase-heartbeat-database",NI=1,nu="firebase-heartbeat-store";let Rm=null;function BT(){return Rm||(Rm=GC(II,NI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),Rm}async function xI(r){try{const n=(await BT()).transaction(nu),s=await n.objectStore(nu).get(qT(r));return await n.done,s}catch(e){if(e instanceof $i)vr.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function CE(r,e){try{const s=(await BT()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,qT(r)),await s.done}catch(n){if(n instanceof $i)vr.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function qT(r){return`${r.name}!${r.options.appId}`}const DI=1024,OI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OI){const o=UI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IE(),{heartbeatsToSend:n,unsentEntries:s}=VI(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function IE(){return new Date().toISOString().substring(0,10)}function VI(r,e=DI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),NE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?wC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NE(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function UI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function kI(r){ra(new fs("platform-logger",e=>new QC(e),"PRIVATE")),ra(new fs("heartbeat",e=>new MI(e),"PRIVATE")),Pi(Fm,AE,r),Pi(Fm,AE,"esm2020"),Pi("fire-js","")}kI("");var LI="firebase",jI="12.7.0";Pi(LI,jI,"app");function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zI=FT,HT=new pu("auth","Firebase",FT());const Ah=new Np("@firebase/auth");function BI(r,...e){Ah.logLevel<=Pe.WARN&&Ah.warn(`Auth (${ca}): ${r}`,...e)}function fh(r,...e){Ah.logLevel<=Pe.ERROR&&Ah.error(`Auth (${ca}): ${r}`,...e)}function oi(r,...e){throw Op(r,...e)}function Ui(r,...e){return Op(r,...e)}function $T(r,e,n){const s={...zI(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:r.name})}function gr(r){return $T(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return HT.create(r,...e)}function _e(r,e,...n){if(!r)throw Op(e,...n)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function Er(r,e){r||dr(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function qI(){return xE()==="http:"||xE()==="https:"}function xE(){return typeof self<"u"&&self.location?.protocol||null}function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||yC()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=mC()||_C()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(r,e){Er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class GT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KI=new yu(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Es(r,e,n,s,o={}){return KT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return gC()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&ua(r.emulatorConfig.host)&&(p.credentials="include"),GT.fetch()(await YT(r,r.config.apiHost,n,m),p)})}async function KT(r,e,n){r._canInitEmulator=!1;const s={...$I,...e};try{const o=new QI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw ih(r,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $T(r,T,p);oi(r,T)}}catch(o){if(o instanceof $i)throw o;oi(r,"network-request-failed",{message:String(o)})}}async function _u(r,e,n,s,o={}){const u=await Es(r,e,n,s,o);return"mfaPendingCredential"in u&&oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function YT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Mp(r.config,o):`${r.config.apiScheme}://${o}`;return GI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function YI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),KI.get())})}}function ih(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,e,s);return o.customData._tokenResponse=n,o}function DE(r){return r!==void 0&&r.enterprise!==void 0}class XI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JI(r,e){return Es(r,"GET","/v2/recaptchaConfig",vs(r,e))}async function WI(r,e){return Es(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return Es(r,"POST","/v1/accounts:lookup",e)}function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZI(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=Vp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Xl(Cm(o.auth_time)),issuedAtTime:Xl(Cm(o.iat)),expirationTime:Xl(Cm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(r){return Number(r)*1e3}function Vp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=OT(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function OE(r){const e=Vp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof $i&&e2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function e2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class t2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await iu(r,Rh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?QT(o.providerUserInfo):[],h=i2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function n2(r){const e=kt(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function r2(r,e){const n=await KT(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await YT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&ua(r.emulatorConfig.host)&&(g.credentials="include"),GT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s2(r,e){return Es(r,"POST","/v2/accounts:revokeToken",vs(r,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=OE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await r2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new co;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return dr("not implemented")}}function is(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new t2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZI(this,e)}reload(){return n2(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await iu(this,WI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:P,providerData:K,stsTokenManager:U}=n;_e(w&&U,e,"internal-error");const L=co.fromJSON(this.name,U);_e(typeof w=="string",e,"internal-error"),is(s,e.name),is(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),is(u,e.name),is(h,e.name),is(m,e.name),is(g,e.name),is(p,e.name),is(T,e.name);const te=new ri({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:p,lastLoginAt:T});return K&&Array.isArray(K)&&(te.providerData=K.map(ie=>({...ie}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new co;m.updateFromIdToken(s);const g=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const ME=new Map;function mr(r){Er(r instanceof Function,"Expected a class definition");let e=ME.get(r);return e?(Er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ME.set(r,e),e)}class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XT.type="NONE";const VE=XT;function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(mr(VE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||mr(VE);const h=dh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let w;if(typeof T=="string"){const A=await Rh(e,{idToken:T}).catch(()=>{});if(!A)break;w=await ri._fromGetAccountInfoResponse(e,A,T)}else w=ri._fromJSON(e,T);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ho(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new ho(u,e,s))}}function PE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ew(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nw(e))return"Blackberry";if(iw(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||ZT(e))&&!e.includes("edge/"))return"Chrome";if(tw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function JT(r=tn()){return/firefox\//i.test(r)}function WT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZT(r=tn()){return/crios\//i.test(r)}function ew(r=tn()){return/iemobile/i.test(r)}function tw(r=tn()){return/android/i.test(r)}function nw(r=tn()){return/blackberry/i.test(r)}function iw(r=tn()){return/webos/i.test(r)}function Pp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function a2(r=tn()){return Pp(r)&&!!window.navigator?.standalone}function o2(){return vC()&&document.documentMode===10}function rw(r=tn()){return Pp(r)||tw(r)||iw(r)||nw(r)||/windows phone/i.test(r)||ew(r)}function sw(r,e=[]){let n;switch(r){case"Browser":n=PE(tn());break;case"Worker":n=`${PE(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${s}`}class l2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function u2(r,e={}){return Es(r,"GET","/v2/passwordPolicy",vs(r,e))}const c2=6;class h2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??c2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class f2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new l2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(gr(this));const n=e?kt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u2(this),n=new h2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await s2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ha(r){return kt(r)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CC(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d2(r){Qh=r}function aw(r){return Qh.loadJS(r)}function m2(){return Qh.recaptchaEnterpriseScript}function p2(){return Qh.gapiScript}function g2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class y2{constructor(){this.enterprise=new _2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const v2="recaptcha-enterprise",ow="NO_RECAPTCHA";class E2{constructor(e){this.type=v2,this.auth=ha(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{JI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new XI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;DE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(ow)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&DE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=m2();g.length!==0&&(g+=m),aw(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function kE(r,e,n,s=!1,o=!1){const u=new E2(r);let h;if(o)h=ow;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ym(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function T2(r,e){const n=Yh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function w2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function b2(r,e,n){const s=ha(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lw(e),{host:h,port:m}=S2(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ia(p,s.config.emulator)&&ia(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ua(h)?(Cp(`${u}//${h}${g}`),Ip("Auth",!0)):A2()}function lw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function S2(r){const e=lw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:LE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:LE(h)}}}function LE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function A2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function R2(r,e){return Es(r,"POST","/v1/accounts:signUp",e)}async function C2(r,e){return _u(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}async function I2(r,e){return _u(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function N2(r,e){return _u(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}class ru extends Up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ru(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",C2);case"emailLink":return I2(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",R2);case"emailLink":return N2(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fo(r,e){return _u(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}const x2="http://localhost";class sa extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}function D2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O2(r){const e=Fl(Hl(r)).link,n=e?Fl(Hl(e)).deep_link_id:null,s=Fl(Hl(r)).deep_link_id;return(s?Fl(Hl(s)).link:null)||s||n||e||r}class kp{constructor(e){const n=Fl(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=D2(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=O2(e);try{return new kp(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kp.parseLink(n);return _e(s,"argument-error"),ru._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends uw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rs extends vu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";class fr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class ss extends vu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";class as extends vu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";async function M2(r,e){return _u(r,"POST","/v1/accounts:signUp",vs(r,e))}class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),h=jE(s);return new aa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=jE(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function jE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends $i{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function cw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function V2(r,e,n=!1){const s=await iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return aa._forOperation(r,"link",s)}async function P2(r,e,n=!1){const{auth:s}=r;if(An(s.app))return Promise.reject(gr(s));const o="reauthenticate";try{const u=await iu(r,cw(s,o,e,r),n);_e(u.idToken,s,"internal-error");const h=Vp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(r.uid===m,s,"user-mismatch"),aa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}async function hw(r,e,n=!1){if(An(r.app))return Promise.reject(gr(r));const s="signIn",o=await cw(r,s,e),u=await aa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function U2(r,e){return hw(ha(r),e)}async function fw(r){const e=ha(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k2(r,e,n){if(An(r.app))return Promise.reject(gr(r));const s=ha(r),h=await Ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&fw(r),g}),m=await aa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function L2(r,e,n){return An(r.app)?Promise.reject(gr(r)):U2(kt(r),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fw(r),s})}function j2(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function z2(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function B2(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}async function q2(r){return kt(r).delete()}const Nh="__sak";class dw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const F2=1e3,H2=10;class mw extends dw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);o2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,H2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mw.type="LOCAL";const $2=mw;class pw extends dw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pw.type="SESSION";const gw=pw;function G2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await G2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function Lp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class K2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Lp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ki(){return window}function Y2(r){ki().location.href=r}function yw(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function Q2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X2(){return navigator?.serviceWorker?.controller||null}function J2(){return yw()?self:null}const _w="firebaseLocalStorageDb",W2=1,xh="firebaseLocalStorage",vw="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function Z2(){const r=indexedDB.deleteDatabase(_w);return new Eu(r).toPromise()}function Qm(){const r=indexedDB.open(_w,W2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:vw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await Z2(),e(await Qm()))})})}async function zE(r,e,n){const s=Jh(r,!0).put({[vw]:e,value:n});return new Eu(s).toPromise()}async function eN(r,e){const n=Jh(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function BE(r,e){const n=Jh(r,!0).delete(e);return new Eu(n).toPromise()}const tN=800,nN=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>nN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(J2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Q2(),!this.activeServiceWorker)return;this.sender=new K2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await zE(e,Nh,"1"),await BE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>eN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const iN=Ew;new yu(3e4,6e4);function rN(r,e){return e?mr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sN(r){return hw(r.auth,new jp(r),r.bypassAuthState)}function aN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),P2(n,new jp(r),r.bypassAuthState)}async function oN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),V2(n,new jp(r),r.bypassAuthState)}class Tw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return aN;default:oi(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lN=new yu(2e3,1e4);class uo extends Tw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lN.get())};e()}}uo.currentPopupAction=null;const uN="pendingRedirect",mh=new Map;class cN extends Tw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await hN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hN(r,e){const n=mN(e),s=dN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function fN(r,e){mh.set(r._key(),e)}function dN(r){return mr(r._redirectPersistence)}function mN(r){return dh(uN,r.config.apiKey,r.name)}async function pN(r,e,n=!1){if(An(r.app))return Promise.reject(gr(r));const s=ha(r),o=rN(s,e),h=await new cN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const gN=600*1e3;class yN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_N(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ww(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gN&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ww({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function _N(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ww(r);default:return!1}}async function vN(r,e={}){return Es(r,"GET","/v1/projects",e)}const EN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TN=/^https?/;async function wN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vN(r);for(const n of e)try{if(bN(n))return}catch{}oi(r,"unauthorized-domain")}function bN(r){const e=Gm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!TN.test(n))return!1;if(EN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const SN=new yu(3e4,6e4);function FE(){const r=ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AN(r){return new Promise((e,n)=>{function s(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(Ui(r,"network-request-failed"))},timeout:SN.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=g2("iframefcb");return ki()[o]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},aw(`${p2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function RN(r){return ph=ph||AN(r),ph}const CN=new yu(5e3,15e3),IN="__/auth/iframe",NN="emulator/auth/iframe",xN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ON(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Mp(e,NN):`https://${r.config.authDomain}/${IN}`,s={apiKey:e.apiKey,appName:r.name,v:ca},o=DN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function MN(r){const e=await RN(r),n=ki().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:ON(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ui(r,"network-request-failed"),m=ki().setTimeout(()=>{u(h)},CN.get());function g(){ki().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const VN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PN=500,UN=600,kN="_blank",LN="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(r,e,n,s=PN,o=UN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...VN,width:s.toString(),height:o.toString(),top:u,left:h},p=tn().toLowerCase();n&&(m=ZT(p)?kN:n),JT(p)&&(e=e||LN,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[P,K])=>`${A}${P}=${K},`,"");if(a2(p)&&m!=="_self")return zN(e||"",m),new HE(null);const w=window.open(e||"",m,T);_e(w,r,"popup-blocked");try{w.focus()}catch{}return new HE(w)}function zN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const BN="__/auth/handler",qN="emulator/auth/handler",FN=encodeURIComponent("fac");async function $E(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ca,eventId:o};if(e instanceof uw){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",RC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))h[T]=w}if(e instanceof vu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),p=g?`#${FN}=${encodeURIComponent(g)}`:"";return`${HN(r)}?${gu(m).slice(1)}${p}`}function HN({config:r}){return r.emulator?Mp(r,qN):`https://${r.authDomain}/${BN}`}const Im="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gw,this._completeRedirectFn=pN,this._overrideRedirectResult=fN}async _openPopup(e,n,s,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $E(e,n,s,Gm(),o);return jN(e,u,Lp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await $E(e,n,s,Gm(),o);return Y2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await MN(e),s=new yN(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{const u=o?.[0]?.[Im];u!==void 0&&n(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rw()||WT()||Pp()}}const GN=$N;var GE="@firebase/auth",KE="1.12.0";class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QN(r){ra(new fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sw(r)},p=new f2(s,o,u,g);return w2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ra(new fs("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(s=>new KN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(GE,KE,YN(r)),Pi(GE,KE,"esm2020")}const XN=300,JN=UT("authIdTokenMaxAge")||XN;let YE=null;const WN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JN)return;const o=n?.token;YE!==o&&(YE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bw(r=Dp()){const e=Yh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=T2(r,{popupRedirectResolver:GN,persistence:[iN,$2,gw]}),s=UT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=WN(u.toString());z2(n,h,()=>h(n.currentUser)),j2(n,m=>h(m))}}const o=MT("auth");return o&&b2(n,`http://${o}`),n}function ZN(){return document.getElementsByTagName("head")?.[0]??document}d2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QN("Browser");var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,Sw;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,O,j){for(var I=Array(arguments.length-2),at=2;at<arguments.length;at++)I[at-2]=arguments[at];return R.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],O=x.g[2];let j=x.g[3],I;I=R+(j^C&(O^j))+V[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[1]+3905402710&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[2]+606105819&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(j^C&(O^j))+V[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[5]+1200080426&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[6]+2821735955&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(j^C&(O^j))+V[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[9]+2336552879&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[10]+4294925233&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(j^C&(O^j))+V[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(O^R&(C^O))+V[13]+4254626195&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(C^j&(R^C))+V[14]+2792965006&4294967295,O=j+(I<<17&4294967295|I>>>15),I=C+(R^O&(j^R))+V[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=R+(O^j&(C^O))+V[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[6]+3225465664&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[11]+643717713&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(C^O))+V[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[10]+38016083&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[15]+3634488961&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(C^O))+V[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[14]+3275163606&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[3]+4107603335&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(C^O))+V[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^O&(R^C))+V[2]+4243563512&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^C&(j^R))+V[7]+1735328473&4294967295,O=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(O^j))+V[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=R+(C^O^j)+V[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[8]+2272392833&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[11]+1839030562&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^j)+V[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[4]+1272893353&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[7]+4139469664&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^j)+V[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[0]+3936430074&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[3]+3572445317&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(C^O^j)+V[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^O)+V[12]+3873151461&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^C)+V[15]+530742520&4294967295,O=j+(I<<16&4294967295|I>>>16),I=C+(O^j^R)+V[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=R+(O^(C|~j))+V[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[7]+1126891415&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[14]+2878612391&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~j))+V[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[3]+2399980690&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[10]+4293915773&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~j))+V[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[15]+4264355552&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[6]+2734768916&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=R+(O^(C|~j))+V[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~O))+V[11]+3174756917&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~C))+V[2]+718787259&4294967295,O=j+(I<<15&4294967295|I>>>17),I=C+(j^(O|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+j&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=C;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<R;)if(V[O++]=x.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<R;)if(V[O++]=x[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[R++]=this.g[C]>>>V&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;const C=[];let V=!0;for(let O=x.length-1;O>=0;O--){const j=x[O]|0;V&&j==R||(C[O]=j,V=!1)}this.g=C}var m={};function g(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return L(p(-x));const R=[];let C=1;for(let V=0;x>=C;V++)R[V]=x/C|0,C*=4294967296;return new h(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return L(T(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let V=w;for(let j=0;j<x.length;j+=8){var O=Math.min(8,x.length-j);const I=parseInt(x.substring(j,j+O),R);O<8?(O=p(Math.pow(R,O)),V=V.j(O).add(p(I))):(V=V.j(C),V=V.add(p(I)))}return V}var w=g(0),A=g(1),P=g(16777216);r=h.prototype,r.m=function(){if(U(this))return-L(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(K(this))return"0";if(U(this))return"-"+L(this).toString(x);const R=p(Math.pow(x,6));var C=this;let V="";for(;;){const O=pe(C,R).g;C=te(C,O.j(R));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,K(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function K(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function U(x){return x.h==-1}r.l=function(x){return x=te(this,x),U(x)?-1:K(x)?0:1};function L(x){const R=x.g.length,C=[];for(let V=0;V<R;V++)C[V]=~x.g[V];return new h(C,~x.h).add(A)}r.abs=function(){return U(this)?L(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let O=0;O<=R;O++){let j=V+(this.i(O)&65535)+(x.i(O)&65535),I=(j>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=I>>>16,j&=65535,I&=65535,C[O]=I<<16|j}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(x,R){return x.add(L(R))}r.j=function(x){if(K(this)||K(x))return w;if(U(this))return U(x)?L(this).j(L(x)):L(L(this).j(x));if(U(x))return L(this.j(L(x)));if(this.l(P)<0&&x.l(P)<0)return p(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const j=this.i(V)>>>16,I=this.i(V)&65535,at=x.i(O)>>>16,Ot=x.i(O)&65535;C[2*V+2*O]+=I*Ot,ie(C,2*V+2*O),C[2*V+2*O+1]+=j*Ot,ie(C,2*V+2*O+1),C[2*V+2*O+1]+=I*at,ie(C,2*V+2*O+1),C[2*V+2*O+2]+=j*at,ie(C,2*V+2*O+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function ie(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function pe(x,R){if(K(R))throw Error("division by zero");if(K(x))return new re(w,w);if(U(x))return R=pe(L(x),R),new re(L(R.g),L(R.h));if(U(R))return R=pe(x,L(R)),new re(L(R.g),R.h);if(x.g.length>30){if(U(x)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,V=R;V.l(x)<=0;)C=Ee(C),V=Ee(V);var O=we(C,1),j=we(V,1);for(V=we(V,2),C=we(C,2);!K(V);){var I=j.add(V);I.l(x)<=0&&(O=O.add(C),j=I),V=we(V,1),C=we(C,1)}return R=te(x,O.j(R)),new re(O,R)}for(O=w;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=p(C),I=j.j(R);U(I)||I.l(x)>0;)C-=V,j=p(C),I=j.j(R);K(j)&&(j=A),O=O.add(j),x=te(x,I)}return new re(O,x)}r.B=function(x){return pe(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)&x.i(V);return new h(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)|x.i(V);return new h(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)^x.i(V);return new h(C,this.h^x.h)};function Ee(x){const R=x.g.length+1,C=[];for(let V=0;V<R;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new h(C,x.h)}function we(x,R){const C=R>>5;R%=32;const V=x.g.length-C,O=[];for(let j=0;j<V;j++)O[j]=R>0?x.i(j+C)>>>R|x.i(j+C+1)<<32-R:x.i(j+C);return new h(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Sw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,cs=h}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Aw,$l,Rw,gh,Xm,Cw,Iw,Nw;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function T(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,B,$){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return y.prototype[B].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function K(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const $=B.length||0;c.length=v+$;for(let se=0;se<$;se++)c[v+se]=B[se]}else c.push(B)}}class U{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function te(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const S=re.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new U(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,we=!1,x=new ie,R=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){L(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}we=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}w(at,O),at.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Q,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ke(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let $=0;$<Z.length;$++)v=Z[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,S,B){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const se=Ne(c,y,S,B);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new ae(y,this.src,$,!!S,B),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(S,B,1),$&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ne(c,y,v,S){for(let B=0;B<c.length;++B){const $=c[B];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return B}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,y,v,S,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ot(c,y[$],v,S,B);return null}return v=ko(v),c&&c[Ot]?c.J(y,v,m(S)?!!S.capture:!1,B):bs(c,y,v,!1,S,B)}function bs(c,y,v,S,B,$){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let Ce=Ss(c);if(Ce||(c[je]=Ce=new ce(c)),v=Ce.add(y,v,S,se,$),v.proxy)return v;if(S=pa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)j||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(hi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pa(){function c(v){return y.call(c.src,c.listener,v)}const y=Po;return c}function ga(c,y,v,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)ga(c,y[$],v,S,B);else S=m(S)?!!S.capture:!!S,v=ko(v),c&&c[Ot]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],v=Ne(y,v,S,B),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=Ss(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ne(y,v,S,B)),(v=c>-1?y[c]:null)&&ya(v))}function ya(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])Te(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(hi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ss(y))?(Te(v,c),v.h==0&&(v.src=null,y[je]=null)):ge(c)}}}function hi(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Po(c,y){if(c.da)c=!0;else{y=new at(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ya(c),c=v.call(S,y)}return c}function Ss(c){return c=c[je],c instanceof ce?c:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(y){return c.handleEvent(y)}),c[Uo])}function Et(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}w(Et,V),Et.prototype[Ot]=!0,Et.prototype.removeEventListener=function(c,y,v,S){ga(this,c,y,v,S)};function Vt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(S,c),oe(y,B)}B=!0;let $,se;if(v)for(se=v.length-1;se>=0;se--)$=y.g=v[se],B=Sr($,S,!0,y)&&B;if($=y.g=c,B=Sr($,S,!0,y)&&B,B=Sr($,S,!1,y)&&B,v)for(se=0;se<v.length;se++)$=y.g=v[se],B=Sr($,S,!1,y)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ge(v[S]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Et.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Sr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const se=y[$];if(se&&!se.da&&se.capture==v){const Ce=se.listener,pt=se.ha||se.src;se.fa&&Te(c.i,se),B=Ce.call(pt,S)!==!1&&B}}return B&&!S.defaultPrevented}function pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Cu(c){c.g=pf(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){V.call(this),this.h=c,this.g={}}w(As,V);var Lo=[];function jo(c){Be(c.g,function(y,v){this.g.hasOwnProperty(v)&&ya(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),jo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=h.JSON.stringify,gf=h.JSON.parse,Iu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Nu(){}function xu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}w(qt,O);function Nn(){O.call(this,"c")}w(Nn,O);var mt={},Du=null;function _a(){return Du=Du||new Et}mt.Ia="serverreachability";function Ou(c){O.call(this,mt.Ia,c)}w(Ou,O);function fi(c){const y=_a();Vt(y,new Ou(y))}mt.STAT_EVENT="statevent";function Rs(c,y){O.call(this,mt.STAT_EVENT,c),this.stat=y}w(Rs,O);function Tt(c){const y=_a();Vt(y,new Rs(y,c))}mt.Ja="timingevent";function di(c,y){O.call(this,mt.Ja,c),this.size=y}w(di,O);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function yf(c,y,v,S,B,$){c.info(function(){if(c.g)if($){var se="",Ce=$.split("&");for(let He=0;He<Ce.length;He++){var pt=Ce[He].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const Mn=lt.split("_");se=Mn.length>=2&&Mn[1]=="type"?se+(lt+"="+pt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Mu(c,y,v,S,B,$,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+$+" "+se})}function pi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_f(c,v)+(S?" "+S:"")})}function Cs(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function _f(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Ar($)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Ns(){}w(Ns,Nu),Ns.prototype.g=function(){return new XMLHttpRequest},Bo=new Ns;function Ki(c){return encodeURIComponent(String(c))}function Vu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Yn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var wt={},Lt={};function gi(c,y,v){c.M=1,c.A=xs(St(y)),c.u=v,c.R=!0,va(c,null)}function va(c,y){c.F=Date.now(),yi(c),c.B=St(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ba(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Qn,c.g=Qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Lo[0]=B.toString()),B=Lo);for(let $=0;$<B.length;$++){const se=ot(v,B[$],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),yf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Wn(this.g),pt=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ce!=4||pt==7||(pt==8||He<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=vf(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var $=S;break t}}$=null}if(c=$)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Tt(12),gn(this),xn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Uu(this,v),lt==Lt){Ce==4&&(this.m=4,Tt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==wt){this.m=4,Tt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,lt,null),vi(this,lt);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(se),se.P=!0,Tt(11))}}else pi(this.i,this.l,v,null),vi(this,v);Ce==4&&gn(this),this.o&&!this.K&&(Ce==4?$u(this.j,this):(this.o=!1,yi(this)))}else Qi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),xn(this)}}}catch{}};function vf(c){if(!Pu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const S=y.length,B=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),xn(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<S;$++)c.h.h=!0,v+=c.h.i.decode(y[$],{stream:!(B&&$==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Lt:(v=Number(y.substring(v,S)),isNaN(v)?wt:(S+=1,S+v>y.length?Lt:(y=y.slice(S,S+v),c.C=S+v,y)))}Yn.prototype.cancel=function(){this.K=!0,gn(this)};function yi(c){c.T=Date.now()+c.H,Ea(c,c.H)}function Ea(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),y)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(fi(),Tt(17)),gn(this),this.m=2,xn(this)):Ea(this,this.T-c)};function xn(c){c.j.I==0||c.K||$u(c.j,c)}function gn(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,jo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Mr(v);else break e;ks(v),Tt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(p(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((c.L||v.g==c)&&Ia(v),!I(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let He=B[y];const lt=He[0];if(!(lt<=v.K))if(v.K=lt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Mn=He[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ii=He[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const Zn=He[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ei=c.g;if(ei){const Ls=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var $=S.h;$.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ho($,$.h),$.h=null))}if(S.G){const Na=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(S.wa=Na,Ye(S.J,S.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=Yu(S,S.L?S.ba:null,S.W),se.L){$o(S.h,se);var Ce=se,pt=S.O;pt&&(Ce.H=pt),Ce.D&&(_i(Ce),yi(Ce)),S.g=se}else Fu(S);v.i.length>0&&Ri(v)}else He[0]!="stop"&&He[0]!="close"||Ci(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ci(v,7):el(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}fi(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ho(c,y){c.g?c.g.add(y):c.h=y}function $o(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let B,$=null;S>=0?(B=c[v].substring(0,S),$=c[v].substring(S+1)):B=c[v],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Rr(this,c.u),this.h=c.h,Ko(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,jt(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),Rr(this,y[4]),this.h=wi(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ds(y,wa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ds(y,wa,!0),"@"),c.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ds(v,v.charAt(0)=="/"?Yo:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ds(v,ju)),c.join("")},yn.prototype.resolve=function(c){const y=St(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Rr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let se=0;se<B.length;){const Ce=B[se++];Ce=="."?S&&se==B.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&se==B.length&&$.push("")):($.push(Ce),S=!0)}S=$.join("/")}else S=B}return v?y.h=S:v=c.i.toString()!=="",v?Ko(y,Bu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function St(c){return new yn(c)}function jt(c,y,v){c.j=v?wi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ko(c,y,v){y instanceof Ir?(c.i=y,Sa(c.i,c.l)):(v||(y=Ds(y,Cr)),c.i=new Ir(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function xs(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wa=/[#\/\?@]/g,Lu=/[#\?:]/g,Yo=/[#\?]/g,Cr=/[#\?@]/g,ju=/#/g;function Ir(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ta(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ir.prototype,r.add=function(c,y){ln(this),this.i=null,c=Nr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zu(c,y){ln(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return ln(c),y=Nr(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)};function Xo(c,y){ln(c);let v=[];if(typeof y=="string")Qo(c,y)&&(v=v.concat(c.g.get(Nr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=Nr(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Xo(this,c),c.length>0?String(c[0]):y):y};function ba(c,y,v){zu(c,y),v.length>0&&(c.i=null,c.g.set(Nr(c,y),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const B=Ki(v);v=Xo(this,v);for(let $=0;$<v.length;$++){let se=B;v[$]!==""&&(se+="="+Ki(v[$])),c.push(se)}}return this.i=c.join("&")};function Bu(c){const y=new Ir;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sa(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,S){const B=S.toLowerCase();S!=B&&(zu(this,S),ba(this,B,v))},c)),c.j=y}function Xn(c,y){const v=new Kn;if(h.Image){const S=new Image;S.onload=T(Dn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=T(Dn,v,"TestLoadImage: error",!1,y,S),S.onabort=T(Dn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=T(Dn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Jo(c,y){const v=new Kn,S=new AbortController,B=setTimeout(()=>{S.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function xr(){this.g=new Iu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(bi,Nu),bi.prototype.g=function(){return new Os(this.i,this.h)};function Os(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Os,Et),r=Os.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Dr(this):Jn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},r.Na=function(c){this.g&&(this.response=c,Dr(this))},r.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return Be(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ms(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=On(v),typeof c=="string"?v!=null&&Ki(v):Ye(c,y,v))}function Je(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Et);var Si=/^https?$/i,Wo=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Vs(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of v)this.g.setRequestHeader($,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Vs(this,$)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Zo(c),Yi(c)}function Zo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=$===0){let se=String(c.D).match(ku)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Si.test(se?se.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var B=Wn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Zo(c)}}finally{Yi(c)}}}}function Yi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Vu(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[B]||[];y[B]=$,$.push(v)}Ke(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Or(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new xr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Or.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){Tt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Yu(this,null,this.W),Ri(this)};function el(c){if(Ra(c),c.I==3){var y=c.V++,v=St(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Us(c,v),y=new Yn(c,c.j,y),y.M=2,y.A=xs(St(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Ku(c)}function Mr(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Ra(c){Mr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ee||R(),we||(Ee(),we=!0),x.add(y,c),c.D=0}}function Ca(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Yn(this,this.j,c);let $=this.o;if(this.U&&($?($=M($),oe($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=qu(this,B,y),v=St(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Us(this,v),$&&(this.R?y="headers="+Ki(On($))+"&"+y:this.u&&Ms(v,this.u,$)),Ho(this.h,B),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),B.U=!0,gi(B,v,null)):gi(B,v,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||Fo(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.V++;const S=St(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),Us(c,S),c.u&&c.o&&Ms(S,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=qu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ho(c.h,v),gi(v,S,y)}function Us(c,y){c.H&&Be(c.H,function(v,S){Ye(y,S,v)}),c.l&&Be({},function(v,S){Ye(y,S,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ce=-1;for(;;){const pt=["count="+v];Ce==-1?v>0?(Ce=B[0].g,pt.push("ofs="+Ce)):Ce=0:pt.push("ofs="+Ce);let He=!0;for(let lt=0;lt<v;lt++){var $=B[lt].g;const Mn=B[lt].map;if($-=Ce,$<0)Ce=Math.max(0,B[lt].g-100),He=!1;else try{$="req"+$+"_"||"";try{var se=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ii,Zn]of se){let ei=Zn;m(Zn)&&(ei=Ar(Zn)),pt.push($+Ii+"="+encodeURIComponent(ei))}}catch(Ii){throw pt.push($+"type="+encodeURIComponent("_badmap")),Ii}}catch{S&&S(Mn)}}if(He){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Fu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ee||R(),we||(Ee(),we=!0),x.add(y,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Mr(this),Hu(this))};function nl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Us(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=xs(St(y)),v.u=null,v.R=!0,va(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Mr(this),ks(this),Tt(19))};function Ia(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function $u(c,y){var v=null;if(c.g==y){Ia(c),nl(c),c.g=null;var S=2}else if(Ti(c.h,y))v=y.G,$o(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=_a(),Vt(S,new di(S,v)),Ri(c)}else Fu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Ca(c,y)||S==2&&ks(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Gu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ci(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),S=c.Ua;const B=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(S,"https"),xs(S),B?Xn(S.toString(),v):Jo(S.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Ku(c),Ra(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ku(c){if(c.I=0,c.ja=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ja,y),K(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Yu(c,y,v){var S=v instanceof yn?St(v):new yn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Rr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new yn(null);S&&jt($,S),y&&($.g=y),B&&Rr($,B),v&&($.h=v),S=$}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),Us(c,S),S}function Qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new bi({ab:v})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vr(){}Vr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Et.call(this),this.g=new Or(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xi(this)}w(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){el(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ar(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&Ri(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,rn.Z.N.call(this)};function Ju(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w(Ju,qt);function Wu(){Nn.call(this),this.status=1}w(Wu,Nn);function Xi(c){this.g=c}w(Xi,Xu),Xi.prototype.ra=function(){Vt(this.g,"a")},Xi.prototype.qa=function(c){Vt(this.g,new Ju(c))},Xi.prototype.pa=function(c){Vt(this.g,new Wu)},Xi.prototype.oa=function(){Vt(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Nw=function(){return new Vr},Iw=function(){return _a()},Cw=mt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,gh=Is,zo.COMPLETE="complete",Rw=zo,xu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,$l=xu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Aw=Je}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",JE="4.9.3";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let No="12.7.0";const oa=new Np("@firebase/firestore");function so(){return oa.logLevel}function ue(r,...e){if(oa.logLevel<=Pe.DEBUG){const n=e.map(zp);oa.debug(`Firestore (${No}): ${r}`,...n)}}function Tr(r,...e){if(oa.logLevel<=Pe.ERROR){const n=e.map(zp);oa.error(`Firestore (${No}): ${r}`,...n)}}function vo(r,...e){if(oa.logLevel<=Pe.WARN){const n=e.map(zp);oa.warn(`Firestore (${No}): ${r}`,...n)}}function zp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xw(r,s,n)}function xw(r,e,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||xw(e,o,s)}function Ae(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Dw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ex{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class tx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nx{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Dw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class ix{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ix(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new WE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ax(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ax(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Nm(o)===Nm(u)?Ue(o,u):Nm(o)?1:-1}return Ue(r.length,e.length)}const ox=55296,lx=57343;function Nm(r){const e=r.charCodeAt(0);return e>=ox&&e<=lx}function Eo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const ZE="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class nt extends Mi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Mi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new Qt([ZE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function Ow(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cx(r,e,n,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function e0(r){if(!me.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function t0(r){if(me.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Mw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!Mw(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const n0=-62135596800,i0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*i0);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function hx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ds(o,me.empty(),e)}function fx(r){return new ds(r.readTime,r.key,su)}class ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(be.min(),me.empty(),su)}static max(){return new ds(be.max(),me.empty(),su)}}function dx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const mx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==mx)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function gx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const qp=-1;function ef(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function yx(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Vw="";function _x(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=r0(e)),e=vx(r.get(n),e);return r0(e)}function vx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Vw:n+="";break;default:n+=u}}return n}function r0(r){return r+Vw+""}function s0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Pw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Ut(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Uw("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=Ex.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const kw="server_timestamp",Lw="__type__",jw="__previous_value__",zw="__local_write_time__";function Fp(r){return(r?.mapValue?.fields||{})[Lw]?.stringValue===kw}function tf(r){const e=r.mapValue.fields[jw];return Fp(e)?tf(e):e}function au(r){const e=ms(r.mapValue.fields[zw].timestampValue);return new st(e.seconds,e.nanos)}class Tx{constructor(e,n,s,o,u,h,m,g,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T}}const Oh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}const Bw="__type__",wx="__max__",ah={mapValue:{}},qw="__vector__",Mh="value";function gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fp(r)?4:Sx(r)?9007199254740991:bx(r)?10:11:ve(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const n=gs(r);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return au(r).isEqual(au(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ms(o.timestampValue),m=ms(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(s0(h)!==s0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Fi(h[g],m[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function lu(r,e){return(r.values||[]).find((n=>Fi(n,e)))!==void 0}function To(r,e){if(r===e)return 0;const n=gs(r),s=gs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return o0(r.timestampValue,e.timestampValue);case 4:return o0(au(r),au(e));case 5:return Jm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ps(u),g=ps(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Ue(m[p],g[p]);if(T!==0)return T}return Ue(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(_t(u.latitude),_t(h.latitude));return m!==0?m:Ue(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return l0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Mh]?.arrayValue,T=g[Mh]?.arrayValue,w=Ue(p?.values?.length||0,T?.values?.length||0);return w!==0?w:l0(p,T)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const A=Jm(g[w],T[w]);if(A!==0)return A;const P=To(m[g[w]],p[T[w]]);if(P!==0)return P}return Ue(g.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function o0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ms(r),s=ms(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function l0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function wo(r){return Wm(r)}function Wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ps(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Wm(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function yh(r){switch(gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ts(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function u0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Zm(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function c0(r){return!!r&&"nullValue"in r}function h0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function bx(r){return(r?.mapValue?.fields||{})[Bw]?.stringValue===qw}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return e}return{...r}}function Sx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wx}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Jl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(Jl(this.value))}}function Fw(r){const e=[];return Ts(r.fields,((n,s)=>{const o=new Qt([n]);if(_h(s)){const u=Fw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function f0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=To(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function d0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fi(r.position[n],e.position[n]))return!1;return!0}class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ax(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Hw{}class xt extends Hw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Cx(e,n,s):n==="array-contains"?new xx(e,s):n==="in"?new Dx(e,s):n==="not-in"?new Ox(e,s):n==="array-contains-any"?new Mx(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ix(e,s):new Nx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Hw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return $w(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $w(r){return r.op==="and"}function Gw(r){return Rx(r)&&$w(r)}function Rx(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function ep(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+wo(r.value);if(Gw(r))return r.filters.map((e=>ep(e))).join(",");{const e=r.filters.map((n=>ep(n))).join(",");return`${r.op}(${e})`}}function Kw(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Kw(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function Yw(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Yw).join(" ,")+"}"})(r):"Filter"}class Cx extends xt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ix extends xt{constructor(e,n){super(e,"in",n),this.keys=Qw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Nx extends xt{constructor(e,n){super(e,"not-in",n),this.keys=Qw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Qw(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class xx extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&lu(n.arrayValue,this.value)}}class Dx extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class Ox extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class Mx extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lu(this.value.arrayValue,s)))}}class Vx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function m0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new Vx(r,e,n,s,o,u,h)}function $p(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ep(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wo(s))).join(",")),e.Te=n}return e.Te}function Gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ax(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Kw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!d0(r.startAt,e.startAt)&&d0(r.endAt,e.endAt)}function tp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Px(r,e,n,s,o,u,h,m){return new Oo(r,e,n,s,o,u,h,m)}function Kp(r){return new Oo(r)}function p0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Xw(r){return r.collectionGroup!==null}function Wl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Qt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new uu(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new uu(Qt.keyField(),s))}return e.Ie}function Li(r){const e=Ae(r);return e.Ee||(e.Ee=Ux(e,Wl(r))),e.Ee}function Ux(r,e){if(r.limitType==="F")return m0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uu(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return m0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function np(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ip(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return Gp(Li(r),Li(e))&&r.limitType===e.limitType}function Jw(r){return`${$p(Li(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Yw(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wo(o))).join(",")),`Target(${s})`})(Li(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=f0(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(h,m,g){const p=f0(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,Wl(s),o))})(r,e)}function kx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ww(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=Lx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Lx(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?To(g,p):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Pw(this.inner)}size(){return this.innerSize}}const jx=new ht(me.comparator);function wr(){return jx}const Zw=new ht(me.comparator);function Gl(...r){let e=Zw;for(const n of r)e=e.insert(n.key,n);return e}function eb(r){let e=Zw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ta(){return Zl()}function tb(){return Zl()}function Zl(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const zx=new ht(me.comparator),Bx=new Ut(me.comparator);function ke(...r){let e=Bx;for(const n of r)e=e.add(n);return e}const qx=new Ut(Ue);function Fx(){return qx}function Yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function nb(r){return{integerValue:""+r}}function Hx(r,e){return yx(e)?nb(e):Yp(r,e)}class sf{constructor(){this._=void 0}}function $x(r,e,n){return r instanceof Ph?(function(o,u){const h={fields:{[Lw]:{stringValue:kw},[zw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=tf(u)),u&&(h.fields[jw]=u),{mapValue:h}})(n,e):r instanceof cu?rb(r,e):r instanceof hu?sb(r,e):(function(o,u){const h=ib(o,u),m=g0(h)+g0(o.Ae);return Zm(h)&&Zm(o.Ae)?nb(m):Yp(o.serializer,m)})(r,e)}function Gx(r,e,n){return r instanceof cu?rb(r,e):r instanceof hu?sb(r,e):n}function ib(r,e){return r instanceof Uh?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ph extends sf{}class cu extends sf{constructor(e){super(),this.elements=e}}function rb(r,e){const n=ab(e);for(const s of r.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hu extends sf{constructor(e){super(),this.elements=e}}function sb(r,e){let n=ab(e);for(const s of r.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class Uh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g0(r){return _t(r.integerValue||r.doubleValue)}function ab(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Kx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?Eo(s.elements,o.elements,Fi):s instanceof Uh&&o instanceof Uh?Fi(s.Ae,o.Ae):s instanceof Ph&&o instanceof Ph})(r.transform,e.transform)}class Yx{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function ob(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qp(r.key,ai.none()):new wu(r.key,r.data,ai.none());{const n=r.data,s=pn.empty();let o=new Ut(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ws(r.key,s,new Rn(o.toArray()),ai.none())}}function Qx(r,e,n){r instanceof wu?(function(o,u,h){const m=o.value.clone(),g=_0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ws?(function(o,u,h){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=_0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(lb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function eu(r,e,n,s){return r instanceof wu?(function(u,h,m,g){if(!vh(u.precondition,h))return m;const p=u.value.clone(),T=v0(u.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ws?(function(u,h,m,g){if(!vh(u.precondition,h))return m;const p=v0(u.fieldTransforms,g,h),T=h.data;return T.setAll(lb(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,h,m){return vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function Xx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ib(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function y0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((u,h)=>Kx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function _0(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,Gx(h,m,n[o]))}return s}function v0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,$x(u,h,e))}return s}class Qp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Qx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=ob(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,s)=>y0(n,s)))&&Eo(this.baseMutations,e.baseMutations,((n,s)=>y0(n,s)))}}class Xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return zx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xp(e,n,s,o)}}class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,ze;function tD(r){switch(r){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function ub(r){if(r===void 0)return Tr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:r})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function nD(){return new TextEncoder}const iD=new cs([4294967295,4294967295],0);function E0(r){const e=nD().encode(r),n=new Sw;return n.update(e),new Uint8Array(n.digest())}function T0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class Jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(iD)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=E0(e),[s,o]=T0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Jp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=E0(e),[s,o]=T0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(be.min(),o,new ht(Ue),wr(),ke())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,ke(),ke(),ke())}}class Eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class cb{constructor(e,n){this.targetId=e,this.Ce=n}}class hb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class w0{constructor(){this.ve=0,this.Fe=b0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=b0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rD{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=oh(),this.He=oh(),this.Ye=new ht(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tp(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ps(s).toUint8Array()}catch(g){if(g instanceof Uw)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Jp(h,o,u)}catch(g){return vo(g instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&tp(m.target)){const g=new me(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new of(e,n,this.Ye,this.je,s);return this.je=wr(),this.Je=oh(),this.He=oh(),this.Ye=new ht(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new w0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ht(me.comparator)}function b0(){return new ht(me.comparator)}const sD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uD(r,e){return kh(r,e.toTimestamp())}function ji(r){return Ge(!!r,49232),be.fromTimestamp((function(n){const s=ms(n);return new st(s.seconds,s.nanos)})(r))}function Wp(r,e){return sp(r,e).canonicalString()}function sp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function db(r){const e=nt.fromString(r);return Ge(_b(e),10190,{key:e.toString()}),e}function ap(r,e){return Wp(r.databaseId,e.path)}function xm(r,e){const n=db(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(pb(n))}function mb(r,e){return Wp(r.databaseId,e)}function cD(r){const e=db(r);return e.length===4?nt.emptyPath():pb(e)}function op(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pb(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function S0(r,e,n){return{name:ap(r,e),fields:n.value.mapValue.fields}}function hD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?J.UNKNOWN:ub(p.code);return new le(T,p.message||"")})(h);n=new hb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(r,s.document.name),u=ji(s.document.updateTime),h=s.document.createTime?ji(s.document.createTime):be.min(),m=new pn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(o,u,h,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new Eh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(r,s.document),u=s.readTime?ji(s.readTime):be.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new eD(o,u),m=s.targetId;n=new cb(m,h)}}return n}function fD(r,e){let n;if(e instanceof wu)n={update:S0(r,e.key,e.value)};else if(e instanceof Qp)n={delete:ap(r,e.key)};else if(e instanceof ws)n={update:S0(r,e.key,e.data),updateMask:TD(e.fieldMask)};else{if(!(e instanceof Jx))return ve(16599,{Vt:e.type});n={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:uD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function dD(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?ji(o.updateTime):ji(u);return h.isEqual(be.min())&&(h=ji(u)),new Yx(h,o.transformResults||[])})(n,e)))):[]}function mD(r,e){return{documents:[mb(r,e.path)]}}function pD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mb(r,o);const u=(function(p){if(p.length!==0)return yb(li.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(A){return{field:oo(A.field),direction:_D(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function gD(r){let e=cD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const A=gb(w);return A instanceof li&&Gw(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(w){return w.map((A=>(function(K){return new uu(lo(K.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,ef(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(w){const A=!!w.before,P=w.values||[];return new Vh(P,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const A=!w.before,P=w.values||[];return new Vh(P,A)})(n.endAt)),Px(e,o,h,u,m,"F",g,p)}function yD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(n.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>gb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function _D(r){return sD[r]}function vD(r){return aD[r]}function ED(r){return oD[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Qt.fromServerFormat(r.fieldPath)}function yb(r){return r instanceof xt?(function(n){if(n.op==="=="){if(h0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(c0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(c0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:vD(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>yb(o)));return s.length===1?s[0]:{compositeFilter:{op:ED(n.op),filters:s}}})(r):ve(54877,{filter:r})}function TD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _b(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class os{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wD{constructor(e){this.yt=e}}function bD(r){const e=gD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ip(e,e.limit,"L"):e}class SD{constructor(){this.Cn=new AD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ds.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class AD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(nt.comparator)).toArray()}}const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(vb,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const R0="LruGarbageCollector",RD=1048576;function C0([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class CD{constructor(e){this.Ir=e,this.buffer=new Ut(C0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();C0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ID{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(R0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ue(R0,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class ND{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Zh.ce);const s=new CD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(A0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(p=Date.now(),so()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function xD(r,e){return new ND(r,e)}class DD{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class MD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&eu(s.mutation,o,Rn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Gl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=wr();const h=Zl(),m=(function(){return Zl()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof ws)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),eu(T.mutation,p,T.mutation.getFieldMask(),st.now())):h.set(p.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new OD(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new ht(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||Rn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const w=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,w=tb();T.forEach((A=>{if(!u.has(A)){const P=ob(n.get(A),s.get(A));P!==null&&w.set(A,P),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ta());let m=su,g=u;return h.next((p=>ne.forEach(p,((T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{g=g.insert(T,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,ke()))).next((T=>({batchId:m,changes:eb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(w,A){return new Oo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((w,A)=>{h=h.insert(w,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,en.newInvalidDocument(T)))}));let m=Gl();return h.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&eu(T.mutation,p,Rn.empty(),st.now()),rf(n,p)&&(m=m.insert(g,p))})),m}))}}class VD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:bD(o.bundledQuery),readTime:ji(o.readTime)}})(n)),ne.resolve()}}class PD{constructor(){this.overlays=new ht(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=ta(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=ta(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class UD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Zp{constructor(){this.Qr=new Ut(Bt.$r),this.Ur=new Ut(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new nt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new nt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class kD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Wx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?qp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ue);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Ut(Ue);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LD{constructor(e){this.ri=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=wr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||dx(fx(T),s)<=0||(o.has(T.key)||rf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new jD(this)}getSize(e){return ne.resolve(this.size)}}class jD extends DD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class zD{constructor(e){this.persistence=e,this.si=new fa((n=>$p(n)),Gp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class Eb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new UD,this.referenceDelegate=e(this),this.Pi=new zD(this),this.indexManager=new SD,this.remoteDocumentCache=(function(o){return new LD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wD(n),this.Ii=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new kD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new BD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class BD extends px{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new fa((s=>_x(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=xD(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EC()?8:gx(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new qD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(so()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(so()<=Pe.DEBUG&&ue("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):ne.resolve())}ys(e,n){if(p0(n))return ne.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,ip(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return p0(n)||o.isEqual(be.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(so()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(e,h,n,hx(o,su)).next((m=>m)))}))}Ds(e,n){let s=new Ut(Ww(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return so()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(e,n,ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ng="LocalStore",HD=3e8;class $D{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ue),this.xs=new fa((u=>$p(u)),Gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function GD(r,e,n,s){return new $D(r,e,n,s)}async function Tb(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=ke();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function KD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const w=p.batch,A=w.keys();let P=ne.resolve();return A.forEach((K=>{P=P.next((()=>T.getEntry(g,K))).next((U=>{const L=p.docVersions.get(K);Ge(L!==null,48541),U.version.compareTo(L)<0&&(w.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),T.addEntry(U)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function wb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(w,P),(function(U,L,te){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=HD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(A,P,T)&&m.push(n.Pi.updateTargetData(u,P))}));let g=wr(),p=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(QD(u,h,e.documentUpdates).next((T=>{g=T.ks,p=T.qs}))),!s.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function QD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=wr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(ng,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function XD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function JD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new os(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function lp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Do(h))throw h;ue(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function I0(r,e,n){const s=Ae(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const w=Ae(g),A=w.xs.get(T);return A!==void 0?ne.resolve(w.Ms.get(A)):w.Pi.getTargetData(p,T)})(s,h,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:ke()))).next((m=>(WD(s,kx(e),m),{documents:m,Qs:u})))))}function WD(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class N0{constructor(){this.activeTargetIds=Fx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZD{constructor(){this.Mo=new N0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eO{Oo(e){}shutdown(){}}const x0="ConnectivityMonitor";class D0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(x0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lh=null;function up(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}const Dm="RestConnection",tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=up(),m=this.zo(e,n.toUriEncodedString());ue(Dm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),T=ua(p);return this.Jo(e,m,g,s,T).then((w=>(ue(Dm,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw vo(Dm,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=tO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class iO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class rO extends nO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=up();return new Promise(((m,g)=>{const p=new Aw;p.setWithCredentials(!0),p.listenOnce(Rw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gh.NO_ERROR:const w=p.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case gh.TIMEOUT:ue(Wt,`RPC '${e}' ${h} timed out`),g(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const A=p.getStatus();if(ue(Wt,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P?.error;if(K&&K.status&&K.message){const U=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(K.status);g(new le(U,K.message))}else g(new le(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ue(Wt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=up(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Nw(),m=Iw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const w=h.createWebChannel(T,g);this.I_(w);let A=!1,P=!1;const K=new iO({Yo:L=>{P?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Zo:()=>w.close()}),U=(L,te,ie)=>{L.listen(te,(re=>{try{ie(re)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return U(w,$l.EventType.OPEN,(()=>{P||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),U(w,$l.EventType.CLOSE,(()=>{P||(P=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(w))})),U(w,$l.EventType.ERROR,(L=>{P||(P=!0,vo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),K.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),U(w,$l.EventType.MESSAGE,(L=>{if(!P){const te=L.data[0];Ge(!!te,16349);const ie=te,re=ie?.error||ie[0]?.error;if(re){ue(Wt,`RPC '${e}' stream ${o} received error:`,re);const pe=re.status;let Ee=(function(R){const C=Nt[R];if(C!==void 0)return ub(C)})(pe),we=re.message;Ee===void 0&&(Ee=J.INTERNAL,we="Unknown error status: "+pe+" with message "+re.message),P=!0,K.a_(new le(Ee,we)),w.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,te),K.u_(te)}})),U(m,Cw.STAT_EVENT,(L=>{L.stat===Xm.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Xm.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Om(){return typeof document<"u"?document:null}function lf(r){return new lD(r,!0)}class bb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const O0="PersistentStream";class Sb{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sO extends Sb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?ji(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=op(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=tp(g)?{documents:mD(u,g)}:{query:pD(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=fb(u,h.resumeToken);const p=rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=kh(u,h.snapshotVersion.toTimestamp());const p=rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=yD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.q_(n)}}class aO extends Sb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dD(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=op(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>fD(this.serializer,s)))};this.q_(n)}}class oO{}class lO extends oO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,sp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,sp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class cO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{da(this)&&(ue(la,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Su(p),p.Ra.set("Unknown"),p.Ea.delete(4),await uf(p)})(this))}))})),this.Ra=new uO(s,o)}}async function uf(r){if(da(r))for(const e of r.da)await e(!0)}async function Su(r){for(const e of r.da)await e(!1)}function Ab(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ag(n)?sg(n):Mo(n).O_()&&rg(n,e))}function ig(r,e){const n=Ae(r),s=Mo(n);n.Ia.delete(e),s.O_()&&Rb(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function rg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Y_(e)}function Rb(r,e){r.Va.Ue(e),Mo(r).Z_(e)}function sg(r){r.Va=new rD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Ra.ua()}function ag(r){return da(r)&&!Mo(r).x_()&&r.Ia.size>0}function da(r){return Ae(r).Ea.size===0}function Cb(r){r.Va=void 0}async function hO(r){r.Ra.set("Online")}async function fO(r){r.Ia.forEach(((e,n)=>{rg(r,e)}))}async function dO(r,e){Cb(r),ag(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function mO(r,e,n){if(r.Ra.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof cb?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await wb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),Rb(u,g);const w=new os(T.target,g,p,T.sequenceNumber);rg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(la,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,n){if(!Do(e))throw e;r.Ea.add(1),await Su(r),r.Ra.set("Offline"),n||(n=()=>wb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(la,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await uf(r)}))}function Ib(r,e){return e().catch((n=>jh(r,n,e)))}async function cf(r){const e=Ae(r),n=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qp;for(;pO(e);)try{const o=await XD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,gO(e,o)}catch(o){await jh(e,o)}Nb(e)&&xb(e)}function pO(r){return da(r)&&r.Ta.length<10}function gO(r,e){r.Ta.push(e);const n=ys(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Nb(r){return da(r)&&!ys(r).x_()&&r.Ta.length>0}function xb(r){ys(r).start()}async function yO(r){ys(r).ra()}async function _O(r){const e=ys(r);for(const n of r.Ta)e.ea(n.mutations)}async function vO(r,e,n){const s=r.Ta.shift(),o=Xp.from(s,e,n);await Ib(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await cf(r)}async function EO(r,e){e&&ys(r).X_&&await(async function(s,o){if((function(h){return tD(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await Ib(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(r,e),Nb(r)&&xb(r)}async function M0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(la,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Su(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function TO(r,e){const n=Ae(r);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new sO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:hO.bind(null,r),t_:fO.bind(null,r),r_:dO.bind(null,r),H_:mO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ag(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Cb(r))}))),r.ma}function ys(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new aO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:yO.bind(null,r),r_:EO.bind(null,r),ta:_O.bind(null,r),na:vO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await cf(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new og(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),Do(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class V0{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new So(e,n,mo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bO{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=P0(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function P0(){return new fa((r=>Jw(r)),nf)}async function Db(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=lg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ug(n)}async function Ob(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ug(n)}function AO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ug(r){r.Ca.forEach((e=>{e.next()}))}var cp,U0;(U0=cp||(cp={})).Ma="default",U0.Cache="cache";class Mb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}class Vb{constructor(e){this.key=e}}class Pb{constructor(e){this.key=e}}class RO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Ww(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new V0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const A=o.get(T),P=rf(this.query,w)?w:null,K=!!A&&this.mutatedKeys.has(A.key),U=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;A&&P?A.data.isEqual(P.data)?K!==U&&(s.track({type:3,doc:P}),L=!0):this.su(A,P)||(s.track({type:2,doc:P}),L=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),L=!0):A&&!P&&(s.track({type:1,doc:A}),L=!0,(g||p)&&(m=!0)),L&&(P?(h=h.add(P),u=U?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,w)=>(function(P,K){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:L})}};return U(P)-U(K)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new So(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Pb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Vb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class CO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IO{constructor(e){this.key=e,this.hu=!1}}class NO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa((m=>Jw(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(me.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xO(r,e,n=!0){const s=Bb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ub(s,e,n,!0),o}async function DO(r,e){const n=Bb(r);await Ub(n,e,!0,!1)}async function Ub(r,e,n,s){const o=await JD(r.localStore,Li(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await OO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Ab(r.remoteStore,o),m}async function OO(r,e,n,s,o){r.pu=(w,A,P)=>(async function(U,L,te,ie){let re=L.view.ru(te);re.Cs&&(re=await I0(U.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,re))));const pe=ie&&ie.targetChanges.get(L.targetId),Ee=ie&&ie.targetMismatches.get(L.targetId)!=null,we=L.view.applyChanges(re,U.isPrimaryClient,pe,Ee);return L0(U,L.targetId,we.au),we.snapshot})(r,w,A,P);const u=await I0(r.localStore,e,!0),h=new RO(e,u.Qs),m=h.ru(u.documents),g=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);L0(r,n,p.au);const T=new CO(e,n,h);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function MO(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!nf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),hp(s,o.targetId)})).catch(xo)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function VO(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function PO(r,e,n){const s=qO(r);try{const o=await(function(h,m){const g=Ae(h),p=st.now(),T=m.reduce(((P,K)=>P.add(K.key)),ke());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=wr(),U=ke();return g.Ns.getEntries(P,T).next((L=>{K=L,K.forEach(((te,ie)=>{ie.isValidDocument()||(U=U.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,K))).next((L=>{w=L;const te=[];for(const ie of m){const re=Xx(ie,w.get(ie.key).overlayedDocument);re!=null&&te.push(new ws(ie.key,re,Fw(re.value.mapValue),ai.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,te,m)})).next((L=>{A=L;const te=L.applyToLocalDocumentSet(w,U);return g.documentOverlayCache.saveOverlays(P,L.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:eb(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ht(Ue)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await Au(s,o.changes),await cf(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function kb(r,e){const n=Ae(r);try{const s=await YD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Au(n,s,e)}catch(s){await xo(s)}}function k0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ae(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,w)=>{for(const A of w.Sa)A.va(m)&&(p=!0)})),p&&ug(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(me.comparator);h=h.insert(u,en.newNoDocument(u,be.min()));const m=ke().add(u),g=new of(be.min(),new Map,new ht(Ue),h,m);await kb(s,g),s.du=s.du.remove(u),s.Au.delete(e),hg(s)}else await lp(s.localStore,e,!1).then((()=>hp(s,e,n))).catch(xo)}async function kO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await KD(n.localStore,e);jb(n,s,null),Lb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await xo(o)}}async function LO(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((w=>(Ge(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(p,w)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);jb(s,e,n),Lb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,o)}catch(o){await xo(o)}}function Lb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function jb(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function hp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||zb(r,s)}))}function zb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ig(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),hg(r))}function L0(r,e,n){for(const s of n)s instanceof Vb?(r.Ru.addReference(s.key,e),jO(r,s)):s instanceof Pb?(ue(cg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||zb(r,s.key)):ve(19791,{wu:s})}function jO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(cg,"New document in limbo: "+n),r.Eu.add(s),hg(r))}function hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new IO(n)),r.du=r.du.insert(n,s),Ab(r.remoteStore,new os(Li(Kp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Au(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=tg.As(g.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const T=Ae(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(p,(A=>ne.forEach(A.Es,(P=>T.persistence.referenceDelegate.addReference(w,A.targetId,P))).next((()=>ne.forEach(A.ds,(P=>T.persistence.referenceDelegate.removeReference(w,A.targetId,P)))))))))}catch(w){if(!Do(w))throw w;ue(ng,"Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const P=T.Ms.get(A),K=P.snapshotVersion,U=P.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(A,U)}}})(s.localStore,u))}async function zO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(cg,"User change. New user:",e.toKey());const s=await Tb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Ls)}}function BO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Bb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UO.bind(null,e),e.Pu.H_=SO.bind(null,e.eventManager),e.Pu.yu=AO.bind(null,e.eventManager),e}function qO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GD(this.persistence,new FD,e.initialUser,this.serializer)}Cu(e){return new Eb(eg.mi,this.serializer)}Du(e){return new ZD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class FO extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ID(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Eb((s=>Lh.mi(s,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bO})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=(function(u){return new rO(u)})(e.databaseInfo);return(function(u,h,m,g){return new lO(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new cO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>k0(this.syncEngine,n,0)),(function(){return D0.v()?new D0:new eO})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,T){const w=new NO(o,u,h,m,g,p);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ue(la,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _s="FirestoreClient";class HO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(_s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(_s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Tb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function j0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await $O(r);ue(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>M0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>M0(e.remoteStore,o))),r._onlineComponents=e}async function $O(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(_s,"Using user provided OfflineComponentProvider");try{await Mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Mm(r,new zh)}}else ue(_s,"Using default OfflineComponentProvider"),await Mm(r,new FO(void 0));return r._offlineComponents}async function Fb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(_s,"Using user provided OnlineComponentProvider"),await j0(r,r._uninitializedComponentsProvider._online)):(ue(_s,"Using default OnlineComponentProvider"),await j0(r,new fp))),r._onlineComponents}function GO(r){return Fb(r).then((e=>e.syncEngine))}async function Hb(r){const e=await Fb(r),n=e.eventManager;return n.onListen=xO.bind(null,e.syncEngine),n.onUnlisten=MO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),n}function KO(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new qb({next:A=>{T.Nu(),h.enqueueAndForget((()=>Ob(u,w)));const P=A.docs.has(m);!P&&A.fromCache?p.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&g&&g.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Mb(Kp(m.path),T,{includeMetadataChanges:!0,qa:!0});return Db(u,w)})(await Hb(r),r.asyncQueue,e,n,s))),s.promise}function YO(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new qb({next:A=>{T.Nu(),h.enqueueAndForget((()=>Ob(u,w))),A.fromCache&&g.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Mb(m,T,{includeMetadataChanges:!0,qa:!0});return Db(u,w)})(await Hb(r),r.asyncQueue,e,n,s))),s.promise}function $b(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const z0=new Map;const Gb="firestore.googleapis.com",B0=!0;class q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RD)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$b(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ex;switch(s.type){case"firstParty":return new rx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=z0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),z0.delete(n),s.terminate())})(this),Promise.resolve()}}function QO(r,e,n,s={}){r=qi(r,hf);const o=ua(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Cp(`https://${m}`),Ip("Firestore",!0)),u.host!==Gb&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ia(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Zt.MOCK_USER;else{p=kT(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(w)}r._authCredentials=new tx(new Dw(p,T))}}class ma{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,vt._jsonSchema))return new vt(e,s||null,new me(nt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Dt("string",vt._jsonSchemaVersion),referencePath:Dt("string")};class hs extends ma{constructor(e,n,s){super(e,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new me(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function fu(r,e,...n){if(r=kt(r),Ow("collection","path",e),r instanceof hf){const s=nt.fromString(e,...n);return t0(s),new hs(r,null,s)}{if(!(r instanceof vt||r instanceof hs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return t0(s),new hs(r.firestore,null,s)}}function Hn(r,e,...n){if(r=kt(r),arguments.length===1&&(e=Bp.newId()),Ow("doc","path",e),r instanceof hf){const s=nt.fromString(e,...n);return e0(s),new vt(r,null,new me(s))}{if(!(r instanceof vt||r instanceof hs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return e0(s),new vt(r.firestore,r instanceof hs?r.converter:null,new me(s))}}const F0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bb(this,"async_queue_retry"),this._c=()=>{const s=Om();s&&ue(F0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;ue(F0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",$0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=og.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:$0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Vo extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new H0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function XO(r,e){const n=typeof r=="object"?r:Dp(),s=typeof r=="string"?r:Oh,o=Yh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VT("firestore");u&&QO(o,...u)}return o}function fg(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JO(r),r._firestoreClient}function JO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new Tx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$b(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new HO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Xt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Dt("string",Fn._jsonSchemaVersion),bytes:Dt("string")};class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Dt("string",zi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Dt("string",Bi._jsonSchemaVersion),vectorValues:Dt("object")};const WO=/^__.*__$/;class ZO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class Kb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Yb(this.Ac)&&WO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}Cc(e,n,s,o=!1){return new mg({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(r){const e=r._freezeSettings(),n=lf(r._databaseId);return new e4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function t4(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);gg("Data must be an object, but it was:",h,s);const m=Qb(s,h);let g,p;if(u.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const A=dp(e,w,n);if(!h.contains(A))throw new le(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Jb(T,A)||T.push(A)}g=new Rn(T),p=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,p=h.fieldTransforms;return new ZO(new pn(m),g,p)}class df extends dg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}function n4(r,e,n,s){const o=r.Cc(1,e,n);gg("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();Ts(s,((g,p)=>{const T=yg(e,g,n);p=kt(p);const w=o.yc(T);if(p instanceof df)u.push(T);else{const A=Ru(p,w);A!=null&&(u.push(T),h.set(T,A))}}));const m=new Rn(u);return new Kb(h,m,o.fieldTransforms)}function i4(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[dp(e,s,n)],g=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(dp(e,u[A])),g.push(u[A+1]);const p=[],T=pn.empty();for(let A=m.length-1;A>=0;--A)if(!Jb(p,m[A])){const P=m[A];let K=g[A];K=kt(K);const U=h.yc(P);if(K instanceof df)p.push(P);else{const L=Ru(K,U);L!=null&&(p.push(P),T.set(P,L))}}const w=new Rn(p);return new Kb(T,w,h.fieldTransforms)}function r4(r,e,n,s=!1){return Ru(n,r.Cc(s?4:3,e))}function Ru(r,e){if(Xb(r=kt(r)))return gg("Unsupported field value:",e,r),Qb(r,e);if(r instanceof dg)return(function(s,o){if(!Yb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Ru(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Hx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:fb(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(h,m){return{mapValue:{fields:{[Bw]:{stringValue:qw},[Mh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Yp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(r,e)}function Qb(r,e){const n={};return Pw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,o)=>{const u=Ru(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Xb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof zi||r instanceof Fn||r instanceof vt||r instanceof dg||r instanceof Bi)}function gg(r,e,n){if(!Xb(n)||!Mw(n)){const s=Wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function dp(r,e,n){if((e=kt(e))instanceof ff)return e._internalPath;if(typeof e=="string")return yg(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const s4=new RegExp("[~\\*/\\[\\]]");function yg(r,e,n){if(e.search(s4)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(J.INVALID_ARGUMENT,m+r+g)}function Jb(r,e){return r.some((n=>n.isEqual(e)))}class Wb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a4 extends Wb{data(){return super.data()}}function _g(r,e){return typeof e=="string"?yg(r,e):e instanceof ff?e._internalPath:e._delegate._internalPath}function o4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class Zb extends vg{}function Eg(r,e,...n){let s=[];e instanceof vg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof wg)).length,m=u.filter((g=>g instanceof Tg)).length;if(h>1||h>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Tg extends Zb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tg(e,n,s)}_apply(e){const n=this._parse(e);return eS(e._query,n),new ma(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=pg(e.firestore);return(function(u,h,m,g,p,T,w){let A;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){K0(w,T);const K=[];for(const U of w)K.push(G0(g,u,U));A={arrayValue:{values:K}}}else A=G0(g,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||K0(w,T),A=r4(m,h,w,T==="in"||T==="not-in");return xt.create(p,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)eS(h,g),h=np(h,g)})(e._query,n),new ma(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends Zb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(u,h)})(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Oo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Sg(r,e="asc"){const n=e,s=_g("orderBy",r);return bg._create(s,n)}function G0(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!me.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return u0(r,new me(s))}if(n instanceof vt)return u0(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function K0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eS(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l4{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new zi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=ms(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(_b(s),9688,{name:e});const o=new ou(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function u4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends Wb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_g("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Dt("string",na._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Th extends na{data(e={}){return super.data(e)}}class po{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:c4(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function $n(r){r=qi(r,vt);const e=qi(r.firestore,Vo);return KO(fg(e),r._key).then((n=>h4(e,r,n)))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Dt("string",po._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class tS extends l4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Ag(r){r=qi(r,ma);const e=qi(r.firestore,Vo),n=fg(e),s=new tS(e);return o4(r._query),YO(n,r._query).then((o=>new po(e,s,r,o)))}function Rg(r,e,n){r=qi(r,vt);const s=qi(r.firestore,Vo),o=u4(r.converter,e);return Ng(s,[t4(pg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ai.none())])}function Cg(r,e,n,...s){r=qi(r,vt);const o=qi(r.firestore,Vo),u=pg(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof ff?i4(u,"updateDoc",r._key,e,n,s):n4(u,"updateDoc",r._key,e),Ng(o,[h.toMutation(r._key,ai.exists(!0))])}function Ig(r){return Ng(qi(r.firestore,Vo),[new Qp(r._key,ai.none())])}function Ng(r,e){return(function(s,o){const u=new yr;return s.asyncQueue.enqueueAndForget((async()=>PO(await GO(s),o,u))),u.promise})(fg(r),e)}function h4(r,e,n){const s=n.docs.get(e._key),o=new tS(r);return new na(r,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){No=o})(ca),ra(new fs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Vo(new nx(s.getProvider("auth-internal")),new sx(h,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(p.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pi(XE,JE,e),Pi(XE,JE,"esm2020")})();const nS="firebasestorage.googleapis.com",f4="storageBucket",d4=120*1e3,m4=600*1e3;class Gi extends $i{constructor(e,n,s=0){super(Vm(e),`Firebase Storage: ${n} (${Vm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function Vm(r){return"storage/"+r}function p4(){const r="An unknown error occurred, please check the error payload for server response.";return new Gi(Hi.UNKNOWN,r)}function g4(){return new Gi(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y4(){return new Gi(Hi.CANCELED,"User canceled the upload/download.")}function _4(r){return new Gi(Hi.INVALID_URL,"Invalid URL '"+r+"'.")}function v4(r){return new Gi(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Y0(r){return new Gi(Hi.INVALID_ARGUMENT,r)}function iS(){return new Gi(Hi.APP_DELETED,"The Firebase app was deleted.")}function E4(r){return new Gi(Hi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=si.makeFromUrl(e,n)}catch{return new si(e,"")}if(s.path==="")return s;throw v4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(pe){pe.path_=decodeURIComponent(pe.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",P=new RegExp(`^https?://${w}/${T}/b/${o}/o${A}`,"i"),K={bucket:1,path:3},U=n===nS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",te=new RegExp(`^https?://${U}/${o}/${L}`,"i"),re=[{regex:m,indices:g,postModify:u},{regex:P,indices:K,postModify:p},{regex:te,indices:{bucket:1,path:2},postModify:p}];for(let pe=0;pe<re.length;pe++){const Ee=re[pe],we=Ee.regex.exec(e);if(we){const x=we[Ee.indices.bucket];let R=we[Ee.indices.path];R||(R=""),s=new si(x,R),Ee.postModify(s);break}}if(s==null)throw _4(e);return s}}class T4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function w4(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function T(...L){p||(p=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,r(P,g())},L)}function A(){u&&clearTimeout(u)}function P(L,...te){if(p){A();return}if(L){A(),T.call(null,L,...te);return}if(g()||h){A(),T.call(null,L,...te);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,w(re)}let K=!1;function U(L){K||(K=!0,A(),!p&&(o!==null?(L||(m=2),clearTimeout(o),w(0)):L||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,U(!0)},n),U}function b4(r){r(!1)}function S4(r){return r!==void 0}function Q0(r,e,n,s){if(s<e)throw Y0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Y0(`Invalid value for '${r}'. Expected ${n} or less.`)}function A4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var qh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qh||(qh={}));function R4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class C4{constructor(e,n,s,o,u,h,m,g,p,T,w,A=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=T,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,U)=>{this.resolve_=K,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===qh.NO_ERROR,g=u.getStatus();if(!m||R4(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===qh.ABORT;s(!1,new uh(!1,null,T));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new uh(p,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());S4(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=p4();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?iS():y4();h(g)}else{const g=g4();h(g)}};this.canceled_?n(!1,new uh(!1,null,!0)):this.backoffId_=w4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function I4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function N4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function D4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function O4(r,e,n,s,o,u,h=!0,m=!1){const g=A4(r.urlParams),p=r.url+g,T=Object.assign({},r.headers);return x4(T,e),I4(T,n),N4(T,u),D4(T,s),new C4(p,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function M4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function V4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class Fh{constructor(e,n){this._service=e,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fh(e,n)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V4(this._location.path)}get storage(){return this._service}get parent(){const e=M4(this._location.path);if(e===null)return null;const n=new si(this._location.bucket,e);return new Fh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E4(e)}}function X0(r,e){const n=e?.[f4];return n==null?null:si.makeFromBucketSpec(n,r)}function P4(r,e,n,s={}){r.host=`${e}:${n}`;const o=ua(e);o&&(Cp(`https://${r.host}/b`),Ip("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:kT(u,r.app.options.projectId))}class U4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=nS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d4,this._maxUploadRetryTime=m4,this._requests=new Set,o!=null?this._bucket=si.makeFromBucketSpec(o,this._host):this._bucket=X0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,e):this._bucket=X0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Q0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Q0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new T4(iS());{const h=O4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const J0="@firebase/storage",W0="0.14.0";const rS="storage";function k4(r=Dp(),e){r=kt(r);const s=Yh(r,rS).getImmediate({identifier:e}),o=VT("storage");return o&&L4(s,...o),s}function L4(r,e,n,s={}){P4(r,e,n,s)}function j4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new U4(n,s,o,e,ca)}function z4(){ra(new fs(rS,j4,"PUBLIC").setMultipleInstances(!0)),Pi(J0,W0,""),Pi(J0,W0,"esm2020")}z4();const B4={apiKey:"AIzaSyDk9twIdV6EXdWiuko0fYRtEv2yMaD-wPo",authDomain:"bubbles-lims.firebaseapp.com",projectId:"bubbles-lims",storageBucket:"bubbles-lims.firebasestorage.app",messagingSenderId:"103191297116",appId:"1:103191297116:web:9bc8a21a35799092f3ba99"},xg=zT(B4),mf=bw(xg),an=XO(xg);k4(xg);new fr;const q4=[{name:"Dashboard",href:"/",icon:Sp},{name:"Staff",href:"/staff",icon:Vi},{name:"Clients",href:"/clients",icon:Vi},{name:"Contacts",href:"/contacts",icon:Vi},{name:"Jobs",href:"/jobs",icon:NT},{name:"Settings",href:"/settings",icon:IT}];function F4(){const r=()=>{mf.signOut()};return E.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 border-r border-cyan-500 w-64",children:[E.jsxs("div",{className:"flex items-center gap-3 px-6 h-16",children:[E.jsx("div",{className:"h-12 w-12",children:E.jsx("img",{src:"/logo.png"})}),E.jsx("span",{className:" text-cyan-50 font-thin font-bubble text-3xl",children:"BUBBLES"})]}),E.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:q4.map(e=>E.jsxs(wp,{to:e.href,className:({isActive:n})=>`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-cyan-500/50 text-cyan-100":"text-cyan-100 hover:bg-cyan-200/50 hover:text-cyan-900"}`,children:[E.jsx(e.icon,{className:"h-5 w-5"}),e.name]},e.name))}),E.jsx("div",{className:"p-4 ",children:E.jsxs("button",{onClick:r,className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-cyan-50 rounded-md bg-cyan-500/50 hover:bg-cyan-600/50 w-full transition-colors",children:[E.jsx(RT,{className:"h-5 w-5"}),"Sign Out"]})})]})}const H4=[{name:"Dashboard",href:"/",icon:Sp},{name:"Staff",href:"/staff",icon:Vi},{name:"Clients",href:"/clients",icon:Vi},{name:"Contacts",href:"/contacts",icon:Vi}];function $4(){const r=()=>{mf.signOut()};return E.jsx("div",{className:"fixed inset-x-0 bottom-0 z-30 border-t border-cyan-800 bg-gradient-to-t from-blue-900/80 to-blue-500/90 md:hidden",children:E.jsxs("div",{className:"flex h-16 justify-around",children:[H4.map(e=>E.jsxs(wp,{to:e.href,className:({isActive:n})=>`flex w-full flex-col items-center justify-center gap-1 text-xs font-medium transition-colors ${n?"text-cyan-400 bg-blue-500/20":"text-cyan-500 hover:bg-cyan-50/20 hover:text-cyan-100"}`,children:[E.jsx(e.icon,{className:"h-5 w-5"}),E.jsx("span",{children:e.name})]},e.name)),E.jsxs("button",{onClick:r,className:"flex w-full flex-col items-center justify-center gap-1 text-xs font-medium transition-colors text-cyan-500 hover:bg-cyan-50/20 hover:text-cyan-100",children:[E.jsx(RT,{className:"h-5 w-5"}),"Sign Out"]})]})})}function G4(){return E.jsxs(E.Fragment,{children:[E.jsx($4,{}),E.jsxs("div",{className:"flex min-h-screen flex-col",children:[E.jsx("div",{className:"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col",children:E.jsx(F4,{})}),E.jsx("div",{className:"flex flex-1 flex-col md:pl-64",children:E.jsx("main",{className:"flex-1",children:E.jsx("div",{className:"",children:E.jsx("div",{className:"mx-auto max-w-8xl",children:E.jsx(K1,{})})})})})]})]})}function K4(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(!1),g=$h(),p=async T=>{T.preventDefault(),m(!0),u("");try{await L2(mf,r,n),g("/")}catch(w){console.error(w),u("Failed to sign in. Please check your credentials.")}finally{m(!1)}};return E.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-gradient-to-t from-blue-900/80 to-blue-500/90 rounded-xl shadow-lg p-6 space-y-6",children:[E.jsxs("div",{className:"text-center py-6 space-y-2",children:[E.jsx("div",{className:"mx-auto h-20 w-20 flex items-center",children:E.jsx("img",{src:"/logo.png"})}),E.jsx("h2",{className:"text-6xl text-cyan-400 font-bubble",children:"BUBBLES"}),E.jsx("p",{className:"text-sm text-cyan-200",children:"Laundry Information Management System"})]}),o&&E.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm text-center",children:o}),E.jsxs("form",{onSubmit:p,className:"pb-6 space-y-6",children:[E.jsx("div",{children:E.jsx("div",{className:"mt-1",children:E.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:T=>e(T.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),E.jsx("div",{children:E.jsx("div",{className:"mt-1",children:E.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:T=>s(T.target.value),className:"appearance-none block w-full px-3 py-2 border border-cyan-300 rounded-md shadow-sm placeholder-cyan-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})})}),E.jsx("div",{children:E.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 border border-transparent text-white font-medium py-3 px-4 rounded-lg hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h?E.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):E.jsx(KR,{className:"h-5 w-5"}),"Sign in"]})})]}),E.jsxs("div",{className:"text-center text-xs text-cyan-400 mt-6",children:[" ",new Date().getFullYear()," Bubbles LIMS"]})]})})}function Dg({title:r}){const e=Re;return E.jsx("div",{className:"p-4",children:E.jsxs("div",{className:`${e.card} space-y-4`,children:[E.jsx("h2",{className:`${e.selected_name}`,children:r}),E.jsxs("p",{className:`${e.name}`,children:[r," will be managed here in the future."]})]})})}const Z0="Dashboard",Y4=Sp;function Q4(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(Y4,{className:"w-6 h-6"}),E.jsx("h1",{children:Z0})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(Dg,{title:Z0})})]})}function sS(r){const e={canViewUsers:!1,canCreateUsers:!1,canEditUsers:!1,canDeleteUsers:!1,canViewClients:!1,canCreateClients:!1,canEditClients:!1,canDeleteClients:!1};switch(r){case"owner":return Object.keys(e).reduce((n,s)=>(n[s]=!0,n),{});case"manager":return{...e,canViewUsers:!0,canCreateUsers:!0,canEditUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"operator":return{...e,canViewUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"driver":return{...e,canViewUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0};case"developer":return{...e,canViewUsers:!0,canCreateUsers:!0,canEditUsers:!0,canDeleteUsers:!0,canViewClients:!0,canCreateClients:!0,canEditClients:!0,canDeleteClients:!0};default:return e}}const eT=r=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",operator:"bg-green-100 text-green-800",driver:"bg-yellow-100 text-yellow-800",developer:"bg-gray-100 text-gray-800"})[r],Og=r=>r[0],Pm={async getAllUsers(){try{console.log("Fetching all users for search...");const r=Eg(fu(an,"users"),Sg("uid"));return(await Ag(r)).docs.map(s=>({uid:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all users:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all users: ${e}`)}},async getUser(r){try{console.log(`Fetching user with uid: ${r}`);const e=await $n(Hn(an,"users",r));if(!e.exists())throw new Error(`User with uid ${r} not found`);return{uid:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch user: ${n}`)}},async addUser(r){const e=bw();let n;try{console.log("Creating new user with authentication:",r.email),n=(await k2(e,r.email,r.password)).user;const o=new Date().toISOString(),u={uid:n.uid,name:r.name,email:r.email,phone:r.phone,role:r.role,permissions:sS(r.role),timestamp:{createdAt:o,updatedAt:o}};return await Rg(Hn(an,"users",n.uid),u),console.log("User created successfully with uid:",n.uid),u}catch(s){if(console.error("Firebase error adding user:",s),n)try{await q2(n),console.log("Cleaned up auth user after Firestore error")}catch(u){console.error("Failed to cleanup auth user:",u)}const o=s instanceof Error?s.message:"Unknown error";throw new Error(`Failed to add user: ${o}`)}},async updateUser(r,e){try{console.log(`Updating user ${r}:`,e);const n=Hn(an,"users",r);if(!(await $n(n)).exists())throw new Error(`User with uid ${r} not found`);await Cg(n,e);const o=await $n(n);return{uid:o.id,...o.data()}}catch(n){console.error(`Firebase error updating user ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update user: ${s}`)}},async deleteUser(r){try{console.log(`Deleting user with uid: ${r}`);const e=Hn(an,"users",r);if(!(await $n(e)).exists())throw new Error(`User with uid ${r} not found`);await Ig(e),console.log(`User ${r} deleted from Firestore successfully`),console.warn("Note: User still exists in Firebase Authentication. Consider implementing admin deletion.")}catch(e){console.error(`Firebase error deleting user ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete user: ${n}`)}}},Mg=({className:r})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:r,"aria-hidden":"true",children:E.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})});function aS({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save",isEditMode:o=!1}){const[u,h]=z.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",role:r?.role||"operator",password:"",confirmPassword:""}),[m,g]=z.useState(!1),p=async T=>{if(T.preventDefault(),!u.name.trim()||!u.email.trim()){alert("Please fill in all required fields");return}if(!o){if(!u.password||u.password.length<6){alert("Password must be at least 6 characters long");return}if(u.password!==u.confirmPassword){alert("Passwords do not match");return}}g(!0);try{const w={name:u.name,email:u.email,phone:u.phone,role:u.role,...o?{}:{password:u.password}};await e(w)}finally{g(!1)}};return E.jsxs("form",{onSubmit:p,className:`${ee.form.layout}`,autoComplete:"off",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"name",className:`${ee.form.label}`,children:"Name *"}),E.jsx("input",{type:"text",id:"name",value:u.name,onChange:T=>h({...u,name:T.target.value}),className:`${ee.form.input}`,autoComplete:"off",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:`${ee.form.label}`,children:"Email *"}),E.jsx("input",{type:"email",id:"email",value:u.email,onChange:T=>h({...u,email:T.target.value}),className:`${ee.form.input}`,autoComplete:"new-email",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"phone",className:`${ee.form.label}`,children:"Phone"}),E.jsx("input",{type:"phone",id:"phone",value:u.phone,onChange:T=>h({...u,phone:T.target.value}),className:`${ee.form.input}`,autoComplete:"new-phone"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"role",className:`${ee.form.label}`,children:"Role *"}),E.jsxs("select",{id:"role",value:u.role,onChange:T=>h({...u,role:T.target.value}),className:`${ee.form.input}`,required:!0,children:[E.jsx("option",{value:"owner",children:"Owner"}),E.jsx("option",{value:"manager",children:"Manager"}),E.jsx("option",{value:"operator",children:"Operator"}),E.jsx("option",{value:"driver",children:"Driver"}),E.jsx("option",{value:"developer",children:"Developer"})]})]}),!o&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:`${ee.form.label}`,children:"Password *"}),E.jsx("input",{type:"password",id:"password",value:u.password,onChange:T=>h({...u,password:T.target.value}),className:`${ee.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Minimum 6 characters"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:`${ee.form.label}`,children:"Confirm Password *"}),E.jsx("input",{type:"password",id:"confirmPassword",value:u.confirmPassword,onChange:T=>h({...u,confirmPassword:T.target.value}),className:`${ee.form.input}`,minLength:6,autoComplete:"new-password",required:!0,placeholder:"Re-enter password"})]})]}),E.jsxs("div",{className:`${ee.form.action}`,children:[E.jsx("button",{type:"submit",disabled:m,className:`${ee.button.solid}`,children:m?"Saving...":s}),E.jsx("button",{type:"button",onClick:n,disabled:m,className:`${ee.button.outline}`,children:"Cancel"})]})]})}function X4({user:r,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){return E.jsxs("div",{className:`${Re.card}`,children:[E.jsxs("div",{className:`${Re.header}`,children:[E.jsx("div",{className:`${Re.title}`,children:E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx("div",{children:E.jsx("div",{className:`${bp.profile_initial} ${eT(r.role)}`,children:Og(r.name)})}),E.jsxs("div",{children:[e?E.jsx("h3",{className:`${Re.selected_name}`,onClick:s,children:r.name}):E.jsx("h3",{className:`${Re.name}`,onClick:n,children:r.name}),E.jsx("span",{className:`${Re.tags} ${eT(r.role)}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})]})]})}),e?E.jsx("div",{className:`${Re.selection}`,onClick:s}):E.jsx("div",{className:`${Re.selection}`,onClick:n})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:`${Re.list_content}`,children:[E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(_o,{className:"w-4 h-4"}),E.jsx("p",{children:r.phone})]}),E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(yo,{className:"w-4 h-4"}),E.jsx("p",{children:r.email})]})]}),E.jsxs("div",{className:`${Re.contact_grid}`,children:[E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(_o,{className:"w-8 h-8 mx-auto"})}),E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(yo,{className:"w-8 h-8 mx-auto"})}),E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(Mg,{className:"w-8 h-8 mx-auto"})})]}),E.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&E.jsxs("button",{onClick:u,className:`${ee.button.solid}`,title:"Edit User",children:[E.jsx(Ap,{className:"w-5 h-5"}),E.jsx("span",{children:"Edit User"})]})}),o&&E.jsx("div",{children:E.jsx(aS,{initialData:{name:r.name,email:r.email,phone:r.phone,role:r.role},onSubmit:h,onCancel:m,submitLabel:"Update",isEditMode:!0})})]})]})}function J4(){const[r,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[h,m]=z.useState(null),[g,p]=z.useState(null),[T,w]=z.useState(!1);z.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const U=await Pm.getAllUsers();e(U)}catch(U){const L=U instanceof Error?U.message:"Failed to load users";u(L)}finally{s(!1)}},P=async U=>{try{if(u(null),!U.password)throw new Error("Password is required for new users");await Pm.addUser({...U,password:U.password}),await A(),w(!1)}catch(L){const te=L instanceof Error?L.message:"Failed to add user";u(te)}},K=async(U,L,te)=>{try{u(null);const{password:ie,...re}=te;re.timestamp={updatedAt:new Date().toISOString()},re.permissions=sS(L),await Pm.updateUser(U,re),await A(),p(null)}catch(ie){const re=ie instanceof Error?ie.message:"Failed to update user";u(re)}};return n?E.jsx("div",{className:"p-4",children:E.jsx("p",{className:`${ee.system.notice}`,children:"Loading..."})}):o?E.jsx("div",{className:"p-4",children:E.jsx("p",{className:`${ee.system.error}`,children:o})}):E.jsxs("div",{className:"p-4 pb-12",children:[!T&&E.jsx("div",{className:"flex mb-4",children:E.jsxs("button",{onClick:()=>w(!T),className:`${ee.button.outline}`,children:[E.jsx(Rp,{className:"w-5 h-5"}),E.jsx("span",{children:"Add User"})]})}),T&&E.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[E.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[E.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:E.jsx("span",{className:"font-light text-2xl",children:"N"})}),E.jsx("div",{children:E.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New User"})})]}),E.jsx(aS,{onSubmit:P,onCancel:()=>w(!1)})]}),r.length===0?E.jsx("p",{className:`${ee.system.notice}`,children:"No staff found. Add your first user to get started."}):E.jsx("div",{className:"space-y-2",children:r.map(U=>E.jsx(X4,{user:U,isViewing:h?.uid===U.uid,onView:()=>m(U),onCancelView:()=>m(null),isEditing:g?.uid===U.uid,onEdit:()=>p(U),onUpdate:L=>K(U.uid,U.role,L),onCancelEdit:()=>p(null)},U.uid))})]})}const W4="Laundry Staff",Z4=Vi;function eM(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(Z4,{className:"w-6 h-6"}),E.jsx("h1",{children:W4})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(J4,{})})]})}const Um={async getAllClients(){try{console.log("Fetching all clients...");const r=Eg(fu(an,"clients"),Sg("name"));return(await Ag(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all clients:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all clients: ${e}`)}},async getClient(r){try{console.log(`Fetching client with id: ${r}`);const e=await $n(Hn(an,"clients",r));if(!e.exists())throw new Error(`Client with id ${r} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching client ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch client: ${n}`)}},async addClient(r){try{console.log("Creating new client:",r.name);const e=Hn(fu(an,"clients")),n=new Date().toISOString(),s={id:e.id,name:r.name,email:r.email,phone:r.phone,address:r.address,clientType:r.clientType,timestamp:{createdAt:n,updatedAt:n}};return await Rg(e,s),console.log("Client created successfully with id:",e.id),s}catch(e){console.error("Firebase error adding client:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add client: ${n}`)}},async updateClient(r,e){try{console.log(`Updating client ${r}:`,e);const n=Hn(an,"clients",r);if(!(await $n(n)).exists())throw new Error(`Client with id ${r} not found`);await Cg(n,e);const o=await $n(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating client ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update client: ${s}`)}},async deleteClient(r){try{console.log(`Deleting client with id: ${r}`);const e=Hn(an,"clients",r);if(!(await $n(e)).exists())throw new Error(`Client with id ${r} not found`);await Ig(e),console.log(`Client ${r} deleted successfully`)}catch(e){console.error(`Firebase error deleting client ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete client: ${n}`)}}};function oS({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save"}){const[o,u]=z.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",clientType:r?.clientType||"residential",address:{street:r?.address?.street||"",city:r?.address?.city||"",region:r?.address?.region||"",postalCode:r?.address?.postalCode||"",country:r?.address?.country||""}}),[h,m]=z.useState(!1),g=async p=>{if(p.preventDefault(),!o.name.trim()||!o.email.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return E.jsxs("form",{onSubmit:g,className:`${ee.form.layout}`,autoComplete:"off",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"name",className:`${ee.form.label}`,children:"Name *"}),E.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${ee.form.input}`,autoComplete:"off",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:`${ee.form.label}`,children:"Email *"}),E.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),className:`${ee.form.input}`,autoComplete:"new-email",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"phone",className:`${ee.form.label}`,children:"Phone"}),E.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),className:`${ee.form.input}`,autoComplete:"new-phone"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"clientType",className:`${ee.form.label}`,children:"Client Type *"}),E.jsxs("select",{id:"clientType",value:o.clientType,onChange:p=>u({...o,clientType:p.target.value}),className:`${ee.form.input}`,required:!0,children:[E.jsx("option",{value:"Property Management",children:"Property Management"}),E.jsx("option",{value:"Yacht Charters",children:"Yacht Charters"}),E.jsx("option",{value:"Yacht Maintainence",children:"Yacht Maintainence"}),E.jsx("option",{value:"Golf Club",children:"Golf Club"}),E.jsx("option",{value:"yacht",children:"Yacht"}),E.jsx("option",{value:"villa",children:"Villa"}),E.jsx("option",{value:"hotel",children:"Hotel"}),E.jsx("option",{value:"restaurant",children:"Restaurant"}),E.jsx("option",{value:"residential",children:"Residential"}),E.jsx("option",{value:"corporate",children:"Corporate"}),E.jsx("option",{value:"other",children:"Other"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"street",className:`${ee.form.label}`,children:"Street Address"}),E.jsx("input",{type:"text",id:"street",value:o.address.street,onChange:p=>u({...o,address:{...o.address,street:p.target.value}}),className:`${ee.form.input}`,autoComplete:"street-address"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"city",className:`${ee.form.label}`,children:"City"}),E.jsx("input",{type:"text",id:"city",value:o.address.city,onChange:p=>u({...o,address:{...o.address,city:p.target.value}}),className:`${ee.form.input}`,autoComplete:"address-level2"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"region",className:`${ee.form.label}`,children:"Region/State"}),E.jsx("input",{type:"text",id:"region",value:o.address.region,onChange:p=>u({...o,address:{...o.address,region:p.target.value}}),className:`${ee.form.input}`,autoComplete:"address-level1"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"postalCode",className:`${ee.form.label}`,children:"Postal Code"}),E.jsx("input",{type:"text",id:"postalCode",value:o.address.postalCode,onChange:p=>u({...o,address:{...o.address,postalCode:p.target.value}}),className:`${ee.form.input}`,autoComplete:"postal-code"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"country",className:`${ee.form.label}`,children:"Country"}),E.jsx("input",{type:"text",id:"country",value:o.address.country,onChange:p=>u({...o,address:{...o.address,country:p.target.value}}),className:`${ee.form.input}`,autoComplete:"country-name"})]}),E.jsxs("div",{className:`${ee.form.action}`,children:[E.jsx("button",{type:"submit",disabled:h,className:`${ee.button.solid}`,children:h?"Saving...":s}),E.jsx("button",{type:"button",onClick:n,disabled:h,className:`${ee.button.outline}`,children:"Cancel"})]})]})}function tM({client:r,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const g=()=>[r.address.street,r.address.city,r.address.region,r.address.postalCode,r.address.country].filter(Boolean).join(", ")||"No address provided";return E.jsxs("div",{className:`${Re.card}`,children:[E.jsxs("div",{className:`${Re.header}`,children:[E.jsx("div",{className:`${Re.title}`,children:E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx("div",{children:E.jsx("div",{className:`${bp.profile_initial} bg-gray-100 text-gray-800`,children:Og(r.name)})}),E.jsxs("div",{children:[e?E.jsxs("h3",{className:`${Re.selected_name}`,children:[r.name," "]}):E.jsx("h3",{className:`${Re.name}`,children:r.name}),E.jsx("span",{className:`${Re.tags} bg-gray-100 text-gray-800`,children:r.clientType.charAt(0).toUpperCase()+r.clientType.slice(1)})]})]})}),e?E.jsx("div",{className:`${Re.selection}`,onClick:s}):E.jsx("div",{className:`${Re.selection}`,onClick:n})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:`${Re.list_content}`,children:[E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(_o,{className:"w-4 h-4"}),E.jsx("p",{children:r.phone})]}),E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(yo,{className:"w-4 h-4"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(CT,{className:"w-4 h-4"}),E.jsx("p",{className:"text-sm",children:g()})]})]}),E.jsxs("div",{className:`${Re.contact_grid}`,children:[E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(_o,{className:"w-8 h-8 mx-auto"})}),E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(yo,{className:"w-8 h-8 mx-auto"})}),E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(Mg,{className:"w-8 h-8 mx-auto"})})]}),E.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&E.jsxs("button",{onClick:u,className:`${ee.button.solid}`,title:"Edit Client",children:[E.jsx(Ap,{className:"w-5 h-5"}),E.jsx("span",{children:"Edit Client"})]})}),o&&E.jsx("div",{children:E.jsx(oS,{initialData:{name:r.name,email:r.email,phone:r.phone,clientType:r.clientType,address:r.address},onSubmit:h,onCancel:m,submitLabel:"Update"})})]})]})}function nM(){const[r,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[h,m]=z.useState(null),[g,p]=z.useState(null),[T,w]=z.useState(!1);z.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const U=await Um.getAllClients();e(U)}catch(U){const L=U instanceof Error?U.message:"Failed to load clients";u(L)}finally{s(!1)}},P=async U=>{try{u(null),await Um.addClient(U),await A(),w(!1)}catch(L){const te=L instanceof Error?L.message:"Failed to add client";u(te)}},K=async(U,L)=>{try{u(null);const te={...L,timestamp:{updatedAt:new Date().toISOString()}};await Um.updateClient(U,te),await A(),p(null)}catch(te){const ie=te instanceof Error?te.message:"Failed to update client";u(ie)}};return n?E.jsx("div",{className:"p-4",children:E.jsx("p",{className:`${ee.system.notice}`,children:"Loading..."})}):o?E.jsx("div",{className:"p-4",children:E.jsx("p",{className:`${ee.system.error}`,children:o})}):E.jsxs("div",{className:"p-4 pb-12",children:[!T&&E.jsx("div",{className:"flex mb-4",children:E.jsxs("button",{onClick:()=>w(!T),className:`${ee.button.outline}`,children:[E.jsx(Rp,{className:"w-5 h-5"}),E.jsx("span",{children:"Add Client"})]})}),T&&E.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[E.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[E.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:E.jsx("span",{className:"font-light text-2xl",children:"N"})}),E.jsx("div",{children:E.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Client"})})]}),E.jsx(oS,{onSubmit:P,onCancel:()=>w(!1)})]}),r.length===0?E.jsx("p",{className:`${ee.system.notice}`,children:"No clients found. Add your first client to get started."}):E.jsx("div",{className:"space-y-2",children:r.map(U=>E.jsx(tM,{client:U,isViewing:h?.id===U.id,onView:()=>m(U),onCancelView:()=>m(null),isEditing:g?.id===U.id,onEdit:()=>p(U),onUpdate:L=>K(U.id,L),onCancelEdit:()=>p(null)},U.id))})]})}const iM="Clients",rM=Vi;function sM(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(rM,{className:"w-6 h-6"}),E.jsx("h1",{children:iM})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(nM,{})})]})}const km={async getAllContacts(){try{console.log("Fetching all contacts...");const r=Eg(fu(an,"contacts"),Sg("name"));return(await Ag(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){console.error("Firebase error fetching all contacts:",r);const e=r instanceof Error?r.message:"Unknown error";throw new Error(`Failed to fetch all contacts: ${e}`)}},async getContact(r){try{console.log(`Fetching contact with id: ${r}`);const e=await $n(Hn(an,"contacts",r));if(!e.exists())throw new Error(`Contact with id ${r} not found`);return{id:e.id,...e.data()}}catch(e){console.error(`Firebase error fetching contact ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to fetch contact: ${n}`)}},async addContact(r){try{console.log("Creating new contact:",r.name);const e=Hn(fu(an,"contacts")),n=new Date().toISOString(),s={id:e.id,name:r.name,email:r.email,phone:r.phone,address:r.address,contactType:r.contactType,timestamp:{createdAt:n,updatedAt:n}};return await Rg(e,s),console.log("Contact created successfully with id:",e.id),s}catch(e){console.error("Firebase error adding contact:",e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to add contact: ${n}`)}},async updateContact(r,e){try{console.log(`Updating contact ${r}:`,e);const n=Hn(an,"contacts",r);if(!(await $n(n)).exists())throw new Error(`Contact with id ${r} not found`);await Cg(n,e);const o=await $n(n);return{id:o.id,...o.data()}}catch(n){console.error(`Firebase error updating contact ${r}:`,n);const s=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to update contact: ${s}`)}},async deleteContact(r){try{console.log(`Deleting contact with id: ${r}`);const e=Hn(an,"contacts",r);if(!(await $n(e)).exists())throw new Error(`Contact with id ${r} not found`);await Ig(e),console.log(`Contact ${r} deleted successfully`)}catch(e){console.error(`Firebase error deleting contact ${r}:`,e);const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to delete contact: ${n}`)}}};function lS({initialData:r,onSubmit:e,onCancel:n,submitLabel:s="Save"}){const[o,u]=z.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",contactType:r?.contactType||"primary",address:{street:r?.address?.street||"",city:r?.address?.city||"",region:r?.address?.region||"",postalCode:r?.address?.postalCode||"",country:r?.address?.country||""}}),[h,m]=z.useState(!1),g=async p=>{if(p.preventDefault(),!o.name.trim()||!o.email.trim()){alert("Please fill in all required fields");return}m(!0);try{await e(o)}finally{m(!1)}};return E.jsxs("form",{onSubmit:g,className:`${ee.form.layout}`,autoComplete:"off",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"name",className:`${ee.form.label}`,children:"Name *"}),E.jsx("input",{type:"text",id:"name",value:o.name,onChange:p=>u({...o,name:p.target.value}),className:`${ee.form.input}`,autoComplete:"off",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:`${ee.form.label}`,children:"Email *"}),E.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),className:`${ee.form.input}`,autoComplete:"new-email",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"phone",className:`${ee.form.label}`,children:"Phone"}),E.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),className:`${ee.form.input}`,autoComplete:"new-phone"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"contactType",className:`${ee.form.label}`,children:"Contact Type *"}),E.jsxs("select",{id:"contactType",value:o.contactType,onChange:p=>u({...o,contactType:p.target.value}),className:`${ee.form.input}`,required:!0,children:[E.jsx("option",{value:"primary",children:"Primary"}),E.jsx("option",{value:"billing",children:"Billing"}),E.jsx("option",{value:"operations",children:"Operations"}),E.jsx("option",{value:"captain",children:"Captain"}),E.jsx("option",{value:"stewardess",children:"Stewardess"}),E.jsx("option",{value:"property_manager",children:"Property Manager"}),E.jsx("option",{value:"owner",children:"Owner"}),E.jsx("option",{value:"other",children:"Other"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"street",className:`${ee.form.label}`,children:"Street Address"}),E.jsx("input",{type:"text",id:"street",value:o.address.street,onChange:p=>u({...o,address:{...o.address,street:p.target.value}}),className:`${ee.form.input}`,autoComplete:"street-address"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"city",className:`${ee.form.label}`,children:"City"}),E.jsx("input",{type:"text",id:"city",value:o.address.city,onChange:p=>u({...o,address:{...o.address,city:p.target.value}}),className:`${ee.form.input}`,autoComplete:"address-level2"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"region",className:`${ee.form.label}`,children:"Region/State"}),E.jsx("input",{type:"text",id:"region",value:o.address.region,onChange:p=>u({...o,address:{...o.address,region:p.target.value}}),className:`${ee.form.input}`,autoComplete:"address-level1"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"postalCode",className:`${ee.form.label}`,children:"Postal Code"}),E.jsx("input",{type:"text",id:"postalCode",value:o.address.postalCode,onChange:p=>u({...o,address:{...o.address,postalCode:p.target.value}}),className:`${ee.form.input}`,autoComplete:"postal-code"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"country",className:`${ee.form.label}`,children:"Country"}),E.jsx("input",{type:"text",id:"country",value:o.address.country,onChange:p=>u({...o,address:{...o.address,country:p.target.value}}),className:`${ee.form.input}`,autoComplete:"country-name"})]}),E.jsxs("div",{className:`${ee.form.action}`,children:[E.jsx("button",{type:"submit",disabled:h,className:`${ee.button.solid}`,children:h?"Saving...":s}),E.jsx("button",{type:"button",onClick:n,disabled:h,className:`${ee.button.outline}`,children:"Cancel"})]})]})}function aM({contact:r,isViewing:e,onView:n,onCancelView:s,isEditing:o,onEdit:u,onUpdate:h,onCancelEdit:m}){const g=()=>[r.address.street,r.address.city,r.address.region,r.address.postalCode,r.address.country].filter(Boolean).join(", ")||"No address provided",p=T=>T.split("_").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ");return E.jsxs("div",{className:`${Re.card}`,children:[E.jsxs("div",{className:`${Re.header}`,children:[E.jsx("div",{className:`${Re.title}`,children:E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx("div",{children:E.jsx("div",{className:`${bp.profile_initial} bg-gray-100 text-gray-800`,children:Og(r.name)})}),E.jsxs("div",{children:[e?E.jsx("h3",{className:`${Re.selected_name}`,children:r.name}):E.jsx("h3",{className:`${Re.name}`,children:r.name}),E.jsx("span",{className:`${Re.tags} bg-gray-100 text-gray-800`,children:p(r.contactType)})]})]})}),e?E.jsx("div",{className:`${Re.selection}`,onClick:s}):E.jsx("div",{className:`${Re.selection}`,onClick:n})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:`${Re.list_content}`,children:[E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(_o,{className:"w-4 h-4"}),E.jsx("p",{children:r.phone})]}),E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(yo,{className:"w-4 h-4"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:`${Re.icon_list}`,children:[E.jsx(CT,{className:"w-4 h-4"}),E.jsx("p",{className:"text-sm",children:g()})]})]}),E.jsxs("div",{className:`${Re.contact_grid}`,children:[E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(_o,{className:"w-8 h-8 mx-auto"})}),E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(yo,{className:"w-8 h-8 mx-auto"})}),E.jsx("div",{className:`${ee.button.outline}`,children:E.jsx(Mg,{className:"w-8 h-8 mx-auto"})})]}),E.jsx("div",{className:"flex gap-2 sm:flex-col sm:w-auto mt-4",children:!o&&E.jsxs("button",{onClick:u,className:`${ee.button.solid}`,title:"Edit Contact",children:[E.jsx(Ap,{className:"w-5 h-5"}),E.jsx("span",{children:"Edit Contact"})]})}),o&&E.jsx("div",{children:E.jsx(lS,{initialData:{name:r.name,email:r.email,phone:r.phone,contactType:r.contactType,address:r.address},onSubmit:h,onCancel:m,submitLabel:"Update"})})]})]})}function oM(){const[r,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[h,m]=z.useState(null),[g,p]=z.useState(null),[T,w]=z.useState(!1);z.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0),u(null);const U=await km.getAllContacts();e(U)}catch(U){const L=U instanceof Error?U.message:"Failed to load contacts";u(L)}finally{s(!1)}},P=async U=>{try{u(null),await km.addContact(U),await A(),w(!1)}catch(L){const te=L instanceof Error?L.message:"Failed to add contact";u(te)}},K=async(U,L)=>{try{u(null);const te={...L,timestamp:{updatedAt:new Date().toISOString()}};await km.updateContact(U,te),await A(),p(null)}catch(te){const ie=te instanceof Error?te.message:"Failed to update contact";u(ie)}};return n?E.jsx("div",{className:"p-4",children:E.jsx("p",{className:`${ee.system.notice}`,children:"Loading..."})}):o?E.jsx("div",{className:"p-4",children:E.jsx("p",{className:`${ee.system.error}`,children:o})}):E.jsxs("div",{className:"p-4 pb-12",children:[!T&&E.jsx("div",{className:"flex mb-4",children:E.jsxs("button",{onClick:()=>w(!T),className:`${ee.button.outline}`,children:[E.jsx(Rp,{className:"w-5 h-5"}),E.jsx("span",{children:"Add Contact"})]})}),T&&E.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-cyan-500 bg-gradient-to-r from-blue-900/80 to-blue-500/90",children:[E.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[E.jsx("div",{className:"rounded-full h-12 w-12 flex items-center justify-center bg-cyan-200 text-cyan-600",children:E.jsx("span",{className:"font-light text-2xl",children:"N"})}),E.jsx("div",{children:E.jsx("h3",{className:"text-xl font-medium text-cyan-500",children:"New Contact"})})]}),E.jsx(lS,{onSubmit:P,onCancel:()=>w(!1)})]}),r.length===0?E.jsx("p",{className:`${ee.system.notice}`,children:"No contacts found. Add your first contact to get started."}):E.jsx("div",{className:"space-y-2",children:r.map(U=>E.jsx(aM,{contact:U,isViewing:h?.id===U.id,onView:()=>m(U),onCancelView:()=>m(null),isEditing:g?.id===U.id,onEdit:()=>p(U),onUpdate:L=>K(U.id,L),onCancelEdit:()=>p(null)},U.id))})]})}const lM="Contacts",uM=Vi;function cM(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(uM,{className:"w-6 h-6"}),E.jsx("h1",{children:lM})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(oM,{})})]})}const tT="Laundry Jobs",hM=NT;function fM(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(hM,{className:"w-6 h-6"}),E.jsx("h1",{children:tT})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(Dg,{title:tT})})]})}const go=Re;function dM(){return E.jsxs("div",{className:`${go.card} space-y-4`,children:[E.jsx("h2",{className:`${go.selected_name}`,children:"General Settings"}),E.jsx("p",{className:`${go.name}`,children:"General application settings will be managed here in the future."})]})}function mM(){return E.jsxs("div",{className:`${go.card} space-y-4`,children:[E.jsx("h2",{className:`${go.selected_name}`,children:"User Settings"}),E.jsx("p",{className:`${go.name}`,children:"User settings will be managed here in the future."})]})}function pM(){const[r]=SR(),[e,n]=z.useState(()=>{const u=r.get("tab");return u==="general"||u==="users"?u:"general"}),s=[{id:"general",name:"General"},{id:"users",name:"Users"}],o=u=>{e!==u&&n(u)};return E.jsx("div",{className:"",children:E.jsxs("div",{className:"p-4",children:[E.jsx("div",{className:"border-b border-cyan-200 mb-4",children:E.jsx("nav",{className:"-mb-px flex","aria-label":"Tabs",children:s.map(u=>E.jsx("button",{onClick:()=>o(u.id),className:`${e===u.id?"border-cyan-400 text-cyan-400 bg-blue-700/20":"border-transparent text-cyan-400 hover:text-cyan-500 hover:border-cyan-300 bg-blue-900/20"}  py-3 px-6 border-b-2 font-medium text-sm transition-colors`,"aria-current":e===u.id?"page":void 0,children:u.name},u.id))})}),E.jsxs("div",{children:[e==="general"&&E.jsx(dM,{}),e==="users"&&E.jsx(mM,{})]})]})})}const gM="Settings",yM=IT;function _M(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(yM,{className:"w-6 h-6"}),E.jsx("h1",{children:gM})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(pM,{})})]})}const nT="Template Page",vM=Vi;function EM(){return E.jsxs("div",{className:`${ee.view.page}`,children:[E.jsx("div",{className:`${ee.view.header}`,children:E.jsxs("div",{className:`${ee.view.title}`,children:[E.jsx(vM,{className:"w-6 h-6"}),E.jsx("h1",{children:nT})]})}),E.jsx("div",{className:`${ee.view.content}`,children:E.jsx(Dg,{title:nT})})]})}const TM=({children:r})=>{const{user:e,loading:n}=ST();return n?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?E.jsx(E.Fragment,{children:r}):E.jsx(_T,{to:"/login",replace:!0})};function wM(){return E.jsx(ER,{children:E.jsxs("div",{className:"relative w-full min-h-screen",children:[E.jsx("div",{className:"fixed inset-0 z-0",children:E.jsx(jR,{})}),E.jsx("div",{className:"relative z-10 min-h-screen flex flex-col",children:E.jsxs(Q1,{children:[E.jsx(qn,{path:"/login",element:E.jsx(K4,{})}),E.jsxs(qn,{path:"/",element:E.jsx(TM,{children:E.jsx(G4,{})}),children:[E.jsx(qn,{index:!0,element:E.jsx(Q4,{})}),E.jsx(qn,{path:"clients",element:E.jsx(sM,{})}),E.jsx(qn,{path:"contacts",element:E.jsx(cM,{})}),E.jsx(qn,{path:"staff",element:E.jsx(eM,{})}),E.jsx(qn,{path:"jobs",element:E.jsx(fM,{})}),E.jsx(qn,{path:"settings",element:E.jsx(_M,{})}),E.jsx(qn,{path:"template",element:E.jsx(EM,{})}),E.jsx(qn,{path:"settings/users",element:E.jsx("h1",{className:"text-2xl font-bold text-cyan-500",children:"Users"})})]}),E.jsx(qn,{path:"*",element:E.jsx(_T,{to:"/",replace:!0})})]})})]})})}const bM=({children:r})=>{const{setUser:e,setLoading:n}=ST();return z.useEffect(()=>{const s=B2(mf,o=>{e(o),n(!1),o?(console.log("User signed in:",o.email),o.getIdToken().then(u=>{console.log("Auth Token retrieved:",u)})):console.log("User signed out")});return()=>s()},[e,n]),E.jsx(E.Fragment,{children:r})};QA.createRoot(document.getElementById("root")).render(E.jsx(ql.StrictMode,{children:E.jsx(bM,{children:E.jsx(wM,{})})}));
